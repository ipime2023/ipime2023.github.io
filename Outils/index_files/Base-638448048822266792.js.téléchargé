function handleBlackBerryLocationTimeout(){bb.blackberryTimeoutId!=-1&&bb.error({message:"Timeout error",code:3})}function handleBlackBerryLocation(){if(clearTimeout(bb.blackberryTimeoutId),bb.blackberryTimeoutId=-1,bb.success&&bb.error){if(blackberry.location.latitude==0&&blackberry.location.longitude==0)bb.error({message:"Position unavailable",code:2});else{var n=null;blackberry.location.timestamp&&(n=new Date(blackberry.location.timestamp));bb.success({timestamp:n,coords:{latitude:blackberry.location.latitude,longitude:blackberry.location.longitude}})}bb.success=null;bb.error=null}}var fakewaffle,bb,geoPosition,jQuery,Vel,cityWay,jwplayer,$jw,_userPlayerReady;(function(n,t){typeof module=="object"&&typeof module.exports=="object"?module.exports=n.document?t(n,!0):function(n){if(!n.document)throw new Error("jQuery requires a window with a document");return t(n)}:t(n)})(typeof window!="undefined"?window:this,function(n,t){function ri(n){var t="length"in n&&n.length,r=i.type(n);return r==="function"||i.isWindow(n)?!1:n.nodeType===1&&t?!0:r==="array"||t===0||typeof t=="number"&&t>0&&t-1 in n}function ui(n,t,r){if(i.isFunction(t))return i.grep(n,function(n,i){return!!t.call(n,i,n)!==r});if(t.nodeType)return i.grep(n,function(n){return n===t!==r});if(typeof t=="string"){if(ef.test(t))return i.filter(t,n,r);t=i.filter(t,n)}return i.grep(n,function(n){return ft.call(t,n)>=0!==r})}function ur(n,t){while((n=n[t])&&n.nodeType!==1);return n}function of(n){var t=fi[n]={};return i.each(n.match(c)||[],function(n,i){t[i]=!0}),t}function ht(){u.removeEventListener("DOMContentLoaded",ht,!1);n.removeEventListener("load",ht,!1);i.ready()}function v(){Object.defineProperty(this.cache={},0,{get:function(){return{}}});this.expando=i.expando+v.uid++}function fr(n,t,r){var u;if(r===undefined&&n.nodeType===1)if(u="data-"+t.replace(hf,"-$1").toLowerCase(),r=n.getAttribute(u),typeof r=="string"){try{r=r==="true"?!0:r==="false"?!1:r==="null"?null:+r+""===r?+r:sf.test(r)?i.parseJSON(r):r}catch(f){}e.set(n,t,r)}else r=undefined;return r}function lt(){return!0}function k(){return!1}function hr(){try{return u.activeElement}catch(n){}}function vr(n,t){return i.nodeName(n,"table")&&i.nodeName(t.nodeType!==11?t:t.firstChild,"tr")?n.getElementsByTagName("tbody")[0]||n.appendChild(n.ownerDocument.createElement("tbody")):n}function bf(n){return n.type=(n.getAttribute("type")!==null)+"/"+n.type,n}function kf(n){var t=pf.exec(n.type);return t?n.type=t[1]:n.removeAttribute("type"),n}function ei(n,t){for(var i=0,u=n.length;i<u;i++)r.set(n[i],"globalEval",!t||r.get(t[i],"globalEval"))}function yr(n,t){var f,c,o,s,h,l,a,u;if(t.nodeType===1){if(r.hasData(n)&&(s=r.access(n),h=r.set(t,s),u=s.events,u)){delete h.handle;h.events={};for(o in u)for(f=0,c=u[o].length;f<c;f++)i.event.add(t,o,u[o][f])}e.hasData(n)&&(l=e.access(n),a=i.extend({},l),e.set(t,a))}}function o(n,t){var r=n.getElementsByTagName?n.getElementsByTagName(t||"*"):n.querySelectorAll?n.querySelectorAll(t||"*"):[];return t===undefined||t&&i.nodeName(n,t)?i.merge([n],r):r}function df(n,t){var i=t.nodeName.toLowerCase();i==="input"&&er.test(n.type)?t.checked=n.checked:(i==="input"||i==="textarea")&&(t.defaultValue=n.defaultValue)}function pr(t,r){var f,u=i(r.createElement(t)).appendTo(r.body),e=n.getDefaultComputedStyle&&(f=n.getDefaultComputedStyle(u[0]))?f.display:i.css(u[0],"display");return u.detach(),e}function si(n){var r=u,t=oi[n];return t||(t=pr(n,r),t!=="none"&&t||(at=(at||i("<iframe frameborder='0' width='0' height='0'/>")).appendTo(r.documentElement),r=at[0].contentDocument,r.write(),r.close(),t=pr(n,r),at.detach()),oi[n]=t),t}function it(n,t,r){var e,o,s,u,f=n.style;return r=r||vt(n),r&&(u=r.getPropertyValue(t)||r[t]),r&&(u!==""||i.contains(n.ownerDocument,n)||(u=i.style(n,t)),hi.test(u)&&wr.test(t)&&(e=f.width,o=f.minWidth,s=f.maxWidth,f.minWidth=f.maxWidth=f.width=u,u=r.width,f.width=e,f.minWidth=o,f.maxWidth=s)),u!==undefined?u+"":u}function br(n,t){return{get:function(){if(n()){delete this.get;return}return(this.get=t).apply(this,arguments)}}}function gr(n,t){if(t in n)return t;for(var r=t[0].toUpperCase()+t.slice(1),u=t,i=dr.length;i--;)if(t=dr[i]+r,t in n)return t;return u}function nu(n,t,i){var r=ne.exec(t);return r?Math.max(0,r[1]-(i||0))+(r[2]||"px"):t}function tu(n,t,r,u,f){for(var e=r===(u?"border":"content")?4:t==="width"?1:0,o=0;e<4;e+=2)r==="margin"&&(o+=i.css(n,r+p[e],!0,f)),u?(r==="content"&&(o-=i.css(n,"padding"+p[e],!0,f)),r!=="margin"&&(o-=i.css(n,"border"+p[e]+"Width",!0,f))):(o+=i.css(n,"padding"+p[e],!0,f),r!=="padding"&&(o+=i.css(n,"border"+p[e]+"Width",!0,f)));return o}function iu(n,t,r){var o=!0,u=t==="width"?n.offsetWidth:n.offsetHeight,e=vt(n),s=i.css(n,"boxSizing",!1,e)==="border-box";if(u<=0||u==null){if(u=it(n,t,e),(u<0||u==null)&&(u=n.style[t]),hi.test(u))return u;o=s&&(f.boxSizingReliable()||u===n.style[t]);u=parseFloat(u)||0}return u+tu(n,t,r||(s?"border":"content"),o,e)+"px"}function ru(n,t){for(var e,u,s,o=[],f=0,h=n.length;f<h;f++)(u=n[f],u.style)&&(o[f]=r.get(u,"olddisplay"),e=u.style.display,t?(o[f]||e!=="none"||(u.style.display=""),u.style.display===""&&tt(u)&&(o[f]=r.access(u,"olddisplay",si(u.nodeName)))):(s=tt(u),e==="none"&&s||r.set(u,"olddisplay",s?e:i.css(u,"display"))));for(f=0;f<h;f++)(u=n[f],u.style)&&(t&&u.style.display!=="none"&&u.style.display!==""||(u.style.display=t?o[f]||"":"none"));return n}function s(n,t,i,r,u){return new s.prototype.init(n,t,i,r,u)}function fu(){return setTimeout(function(){d=undefined}),d=i.now()}function wt(n,t){var r,u=0,i={height:n};for(t=t?1:0;u<4;u+=2-t)r=p[u],i["margin"+r]=i["padding"+r]=n;return t&&(i.opacity=i.width=n),i}function eu(n,t,i){for(var u,f=(rt[t]||[]).concat(rt["*"]),r=0,e=f.length;r<e;r++)if(u=f[r].call(i,t,n))return u}function fe(n,t,u){var f,a,p,v,o,w,h,b,l=this,y={},s=n.style,c=n.nodeType&&tt(n),e=r.get(n,"fxshow");u.queue||(o=i._queueHooks(n,"fx"),o.unqueued==null&&(o.unqueued=0,w=o.empty.fire,o.empty.fire=function(){o.unqueued||w()}),o.unqueued++,l.always(function(){l.always(function(){o.unqueued--;i.queue(n,"fx").length||o.empty.fire()})}));n.nodeType===1&&("height"in t||"width"in t)&&(u.overflow=[s.overflow,s.overflowX,s.overflowY],h=i.css(n,"display"),b=h==="none"?r.get(n,"olddisplay")||si(n.nodeName):h,b==="inline"&&i.css(n,"float")==="none"&&(s.display="inline-block"));u.overflow&&(s.overflow="hidden",l.always(function(){s.overflow=u.overflow[0];s.overflowX=u.overflow[1];s.overflowY=u.overflow[2]}));for(f in t)if(a=t[f],re.exec(a)){if(delete t[f],p=p||a==="toggle",a===(c?"hide":"show"))if(a==="show"&&e&&e[f]!==undefined)c=!0;else continue;y[f]=e&&e[f]||i.style(n,f)}else h=undefined;if(i.isEmptyObject(y))(h==="none"?si(n.nodeName):h)==="inline"&&(s.display=h);else{e?"hidden"in e&&(c=e.hidden):e=r.access(n,"fxshow",{});p&&(e.hidden=!c);c?i(n).show():l.done(function(){i(n).hide()});l.done(function(){var t;r.remove(n,"fxshow");for(t in y)i.style(n,t,y[t])});for(f in y)v=eu(c?e[f]:0,f,l),f in e||(e[f]=v.start,c&&(v.end=v.start,v.start=f==="width"||f==="height"?1:0))}}function ee(n,t){var r,f,e,u,o;for(r in n)if(f=i.camelCase(r),e=t[f],u=n[r],i.isArray(u)&&(e=u[1],u=n[r]=u[0]),r!==f&&(n[f]=u,delete n[r]),o=i.cssHooks[f],o&&"expand"in o){u=o.expand(u);delete n[f];for(r in u)r in n||(n[r]=u[r],t[r]=e)}else t[f]=e}function ou(n,t,r){var e,o,s=0,l=pt.length,f=i.Deferred().always(function(){delete c.elem}),c=function(){if(o)return!1;for(var s=d||fu(),t=Math.max(0,u.startTime+u.duration-s),h=t/u.duration||0,i=1-h,r=0,e=u.tweens.length;r<e;r++)u.tweens[r].run(i);return f.notifyWith(n,[u,i,t]),i<1&&e?t:(f.resolveWith(n,[u]),!1)},u=f.promise({elem:n,props:i.extend({},t),opts:i.extend(!0,{specialEasing:{}},r),originalProperties:t,originalOptions:r,startTime:d||fu(),duration:r.duration,tweens:[],createTween:function(t,r){var f=i.Tween(n,u.opts,t,r,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(f),f},stop:function(t){var i=0,r=t?u.tweens.length:0;if(o)return this;for(o=!0;i<r;i++)u.tweens[i].run(1);return t?f.resolveWith(n,[u,t]):f.rejectWith(n,[u,t]),this}}),h=u.props;for(ee(h,u.opts.specialEasing);s<l;s++)if(e=pt[s].call(u,n,h,u.opts),e)return e;return i.map(h,eu,u),i.isFunction(u.opts.start)&&u.opts.start.call(n,u),i.fx.timer(i.extend(c,{elem:n,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function pu(n){return function(t,r){typeof t!="string"&&(r=t,t="*");var u,f=0,e=t.toLowerCase().match(c)||[];if(i.isFunction(r))while(u=e[f++])u[0]==="+"?(u=u.slice(1)||"*",(n[u]=n[u]||[]).unshift(r)):(n[u]=n[u]||[]).push(r)}}function wu(n,t,r,u){function e(s){var h;return f[s]=!0,i.each(n[s]||[],function(n,i){var s=i(t,r,u);if(typeof s!="string"||o||f[s]){if(o)return!(h=s)}else return t.dataTypes.unshift(s),e(s),!1}),h}var f={},o=n===ci;return e(t.dataTypes[0])||!f["*"]&&e("*")}function ai(n,t){var r,u,f=i.ajaxSettings.flatOptions||{};for(r in t)t[r]!==undefined&&((f[r]?n:u||(u={}))[r]=t[r]);return u&&i.extend(!0,n,u),n}function ae(n,t,i){for(var e,u,f,o,s=n.contents,r=n.dataTypes;r[0]==="*";)r.shift(),e===undefined&&(e=n.mimeType||t.getResponseHeader("Content-Type"));if(e)for(u in s)if(s[u]&&s[u].test(e)){r.unshift(u);break}if(r[0]in i)f=r[0];else{for(u in i){if(!r[0]||n.converters[u+" "+r[0]]){f=u;break}o||(o=u)}f=f||o}if(f)return f!==r[0]&&r.unshift(f),i[f]}function ve(n,t,i,r){var h,u,f,s,e,o={},c=n.dataTypes.slice();if(c[1])for(f in n.converters)o[f.toLowerCase()]=n.converters[f];for(u=c.shift();u;)if(n.responseFields[u]&&(i[n.responseFields[u]]=t),!e&&r&&n.dataFilter&&(t=n.dataFilter(t,n.dataType)),e=u,u=c.shift(),u)if(u==="*")u=e;else if(e!=="*"&&e!==u){if(f=o[e+" "+u]||o["* "+u],!f)for(h in o)if(s=h.split(" "),s[1]===u&&(f=o[e+" "+s[0]]||o["* "+s[0]],f)){f===!0?f=o[h]:o[h]!==!0&&(u=s[0],c.unshift(s[1]));break}if(f!==!0)if(f&&n.throws)t=f(t);else try{t=f(t)}catch(l){return{state:"parsererror",error:f?l:"No conversion from "+e+" to "+u}}}return{state:"success",data:t}}function vi(n,t,r,u){var f;if(i.isArray(t))i.each(t,function(t,i){r||pe.test(n)?u(n,i):vi(n+"["+(typeof i=="object"?t:"")+"]",i,r,u)});else if(r||i.type(t)!=="object")u(n,t);else for(f in t)vi(n+"["+f+"]",t[f],r,u)}function ku(n){return i.isWindow(n)?n:n.nodeType===9&&n.defaultView}var w=[],a=w.slice,bi=w.concat,ti=w.push,ft=w.indexOf,et={},nf=et.toString,ii=et.hasOwnProperty,f={},u=n.document,ki="2.1.4",i=function(n,t){return new i.fn.init(n,t)},tf=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,rf=/^-ms-/,uf=/-([\da-z])/gi,ff=function(n,t){return t.toUpperCase()},y,ot,nr,tr,ir,rr,c,fi,st,l,b,at,oi,oe,su,g,hu,bt,cu,kt,dt,yi,ni,pi,wi,du,gu;i.fn=i.prototype={jquery:ki,constructor:i,selector:"",length:0,toArray:function(){return a.call(this)},get:function(n){return n!=null?n<0?this[n+this.length]:this[n]:a.call(this)},pushStack:function(n){var t=i.merge(this.constructor(),n);return t.prevObject=this,t.context=this.context,t},each:function(n,t){return i.each(this,n,t)},map:function(n){return this.pushStack(i.map(this,function(t,i){return n.call(t,i,t)}))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(n){var i=this.length,t=+n+(n<0?i:0);return this.pushStack(t>=0&&t<i?[this[t]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:ti,sort:w.sort,splice:w.splice};i.extend=i.fn.extend=function(){var e,f,r,t,o,s,n=arguments[0]||{},u=1,c=arguments.length,h=!1;for(typeof n=="boolean"&&(h=n,n=arguments[u]||{},u++),typeof n=="object"||i.isFunction(n)||(n={}),u===c&&(n=this,u--);u<c;u++)if((e=arguments[u])!=null)for(f in e)(r=n[f],t=e[f],n!==t)&&(h&&t&&(i.isPlainObject(t)||(o=i.isArray(t)))?(o?(o=!1,s=r&&i.isArray(r)?r:[]):s=r&&i.isPlainObject(r)?r:{},n[f]=i.extend(h,s,t)):t!==undefined&&(n[f]=t));return n};i.extend({expando:"jQuery"+(ki+Math.random()).replace(/\D/g,""),isReady:!0,error:function(n){throw new Error(n);},noop:function(){},isFunction:function(n){return i.type(n)==="function"},isArray:Array.isArray,isWindow:function(n){return n!=null&&n===n.window},isNumeric:function(n){return!i.isArray(n)&&n-parseFloat(n)+1>=0},isPlainObject:function(n){return i.type(n)!=="object"||n.nodeType||i.isWindow(n)?!1:n.constructor&&!ii.call(n.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(n){for(var t in n)return!1;return!0},type:function(n){return n==null?n+"":typeof n=="object"||typeof n=="function"?et[nf.call(n)]||"object":typeof n},globalEval:function(n){var t,r=eval;n=i.trim(n);n&&(n.indexOf("use strict")===1?(t=u.createElement("script"),t.text=n,u.head.appendChild(t).parentNode.removeChild(t)):r(n))},camelCase:function(n){return n.replace(rf,"ms-").replace(uf,ff)},nodeName:function(n,t){return n.nodeName&&n.nodeName.toLowerCase()===t.toLowerCase()},each:function(n,t,i){var u,r=0,f=n.length,e=ri(n);if(i){if(e){for(;r<f;r++)if(u=t.apply(n[r],i),u===!1)break}else for(r in n)if(u=t.apply(n[r],i),u===!1)break}else if(e){for(;r<f;r++)if(u=t.call(n[r],r,n[r]),u===!1)break}else for(r in n)if(u=t.call(n[r],r,n[r]),u===!1)break;return n},trim:function(n){return n==null?"":(n+"").replace(tf,"")},makeArray:function(n,t){var r=t||[];return n!=null&&(ri(Object(n))?i.merge(r,typeof n=="string"?[n]:n):ti.call(r,n)),r},inArray:function(n,t,i){return t==null?-1:ft.call(t,n,i)},merge:function(n,t){for(var u=+t.length,i=0,r=n.length;i<u;i++)n[r++]=t[i];return n.length=r,n},grep:function(n,t,i){for(var u,f=[],r=0,e=n.length,o=!i;r<e;r++)u=!t(n[r],r),u!==o&&f.push(n[r]);return f},map:function(n,t,i){var u,r=0,e=n.length,o=ri(n),f=[];if(o)for(;r<e;r++)u=t(n[r],r,i),u!=null&&f.push(u);else for(r in n)u=t(n[r],r,i),u!=null&&f.push(u);return bi.apply([],f)},guid:1,proxy:function(n,t){var u,f,r;return(typeof t=="string"&&(u=n[t],t=n,n=u),!i.isFunction(n))?undefined:(f=a.call(arguments,2),r=function(){return n.apply(t||this,f.concat(a.call(arguments)))},r.guid=n.guid=n.guid||i.guid++,r)},now:Date.now,support:f});i.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(n,t){et["[object "+t+"]"]=t.toLowerCase()});y=function(n){function r(n,t,i,r){var p,s,a,c,w,y,d,v,nt,g;if((t?t.ownerDocument||t:h)!==o&&k(t),t=t||o,i=i||[],c=t.nodeType,typeof n!="string"||!n||c!==1&&c!==9&&c!==11)return i;if(!r&&l){if(c!==11&&(p=hr.exec(n)))if(a=p[1]){if(c===9)if(s=t.getElementById(a),s&&s.parentNode){if(s.id===a)return i.push(s),i}else return i;else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(a))&&et(t,s)&&s.id===a)return i.push(s),i}else{if(p[2])return b.apply(i,t.getElementsByTagName(n)),i;if((a=p[3])&&u.getElementsByClassName)return b.apply(i,t.getElementsByClassName(a)),i}if(u.qsa&&(!e||!e.test(n))){if(v=d=f,nt=t,g=c!==1&&n,c===1&&t.nodeName.toLowerCase()!=="object"){for(y=ft(n),(d=t.getAttribute("id"))?v=d.replace(cr,"\\$&"):t.setAttribute("id",v),v="[id='"+v+"'] ",w=y.length;w--;)y[w]=v+vt(y[w]);nt=dt.test(n)&&ti(t.parentNode)||t;g=y.join(",")}if(g)try{return b.apply(i,nt.querySelectorAll(g)),i}catch(tt){}finally{d||t.removeAttribute("id")}}}return oi(n.replace(lt,"$1"),t,i,r)}function gt(){function n(r,u){return i.push(r+" ")>t.cacheLength&&delete n[i.shift()],n[r+" "]=u}var i=[];return n}function c(n){return n[f]=!0,n}function v(n){var t=o.createElement("div");try{return!!n(t)}catch(i){return!1}finally{t.parentNode&&t.parentNode.removeChild(t);t=null}}function ni(n,i){for(var u=n.split("|"),r=n.length;r--;)t.attrHandle[u[r]]=i}function wi(n,t){var i=t&&n,r=i&&n.nodeType===1&&t.nodeType===1&&(~t.sourceIndex||li)-(~n.sourceIndex||li);if(r)return r;if(i)while(i=i.nextSibling)if(i===t)return-1;return n?1:-1}function lr(n){return function(t){var i=t.nodeName.toLowerCase();return i==="input"&&t.type===n}}function ar(n){return function(t){var i=t.nodeName.toLowerCase();return(i==="input"||i==="button")&&t.type===n}}function tt(n){return c(function(t){return t=+t,c(function(i,r){for(var u,f=n([],i.length,t),e=f.length;e--;)i[u=f[e]]&&(i[u]=!(r[u]=i[u]))})})}function ti(n){return n&&typeof n.getElementsByTagName!="undefined"&&n}function bi(){}function vt(n){for(var t=0,r=n.length,i="";t<r;t++)i+=n[t].value;return i}function ii(n,t,i){var r=t.dir,u=i&&r==="parentNode",e=ki++;return t.first?function(t,i,f){while(t=t[r])if(t.nodeType===1||u)return n(t,i,f)}:function(t,i,o){var s,h,c=[a,e];if(o){while(t=t[r])if((t.nodeType===1||u)&&n(t,i,o))return!0}else while(t=t[r])if(t.nodeType===1||u){if(h=t[f]||(t[f]={}),(s=h[r])&&s[0]===a&&s[1]===e)return c[2]=s[2];if(h[r]=c,c[2]=n(t,i,o))return!0}}}function ri(n){return n.length>1?function(t,i,r){for(var u=n.length;u--;)if(!n[u](t,i,r))return!1;return!0}:n[0]}function vr(n,t,i){for(var u=0,f=t.length;u<f;u++)r(n,t[u],i);return i}function yt(n,t,i,r,u){for(var e,o=[],f=0,s=n.length,h=t!=null;f<s;f++)(e=n[f])&&(!i||i(e,r,u))&&(o.push(e),h&&t.push(f));return o}function ui(n,t,i,r,u,e){return r&&!r[f]&&(r=ui(r)),u&&!u[f]&&(u=ui(u,e)),c(function(f,e,o,s){var l,c,a,p=[],y=[],w=e.length,k=f||vr(t||"*",o.nodeType?[o]:o,[]),v=n&&(f||!t)?yt(k,p,n,o,s):k,h=i?u||(f?n:w||r)?[]:e:v;if(i&&i(v,h,o,s),r)for(l=yt(h,y),r(l,[],o,s),c=l.length;c--;)(a=l[c])&&(h[y[c]]=!(v[y[c]]=a));if(f){if(u||n){if(u){for(l=[],c=h.length;c--;)(a=h[c])&&l.push(v[c]=a);u(null,h=[],l,s)}for(c=h.length;c--;)(a=h[c])&&(l=u?nt(f,a):p[c])>-1&&(f[l]=!(e[l]=a))}}else h=yt(h===e?h.splice(w,h.length):h),u?u(null,e,h,s):b.apply(e,h)})}function fi(n){for(var o,u,r,s=n.length,h=t.relative[n[0].type],c=h||t.relative[" "],i=h?1:0,l=ii(function(n){return n===o},c,!0),a=ii(function(n){return nt(o,n)>-1},c,!0),e=[function(n,t,i){var r=!h&&(i||t!==ht)||((o=t).nodeType?l(n,t,i):a(n,t,i));return o=null,r}];i<s;i++)if(u=t.relative[n[i].type])e=[ii(ri(e),u)];else{if(u=t.filter[n[i].type].apply(null,n[i].matches),u[f]){for(r=++i;r<s;r++)if(t.relative[n[r].type])break;return ui(i>1&&ri(e),i>1&&vt(n.slice(0,i-1).concat({value:n[i-2].type===" "?"*":""})).replace(lt,"$1"),u,i<r&&fi(n.slice(i,r)),r<s&&fi(n=n.slice(r)),r<s&&vt(n))}e.push(u)}return ri(e)}function yr(n,i){var u=i.length>0,f=n.length>0,e=function(e,s,h,c,l){var y,d,w,k=0,v="0",g=e&&[],p=[],nt=ht,tt=e||f&&t.find.TAG("*",l),it=a+=nt==null?1:Math.random()||.1,rt=tt.length;for(l&&(ht=s!==o&&s);v!==rt&&(y=tt[v])!=null;v++){if(f&&y){for(d=0;w=n[d++];)if(w(y,s,h)){c.push(y);break}l&&(a=it)}u&&((y=!w&&y)&&k--,e&&g.push(y))}if(k+=v,u&&v!==k){for(d=0;w=i[d++];)w(g,p,s,h);if(e){if(k>0)while(v--)g[v]||p[v]||(p[v]=gi.call(c));p=yt(p)}b.apply(c,p);l&&!e&&p.length>0&&k+i.length>1&&r.uniqueSort(c)}return l&&(a=it,ht=nt),g};return u?c(e):e}var it,u,t,st,ei,ft,pt,oi,ht,w,rt,k,o,s,l,e,d,ct,et,f="sizzle"+1*new Date,h=n.document,a=0,ki=0,si=gt(),hi=gt(),ci=gt(),wt=function(n,t){return n===t&&(rt=!0),0},li=-2147483648,di={}.hasOwnProperty,g=[],gi=g.pop,nr=g.push,b=g.push,ai=g.slice,nt=function(n,t){for(var i=0,r=n.length;i<r;i++)if(n[i]===t)return i;return-1},bt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",i="[\\x20\\t\\r\\n\\f]",ut="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",vi=ut.replace("w","w#"),yi="\\["+i+"*("+ut+")(?:"+i+"*([*^$|!~]?=)"+i+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+vi+"))|)"+i+"*\\]",kt=":("+ut+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+yi+")*)|.*)\\)|)",tr=new RegExp(i+"+","g"),lt=new RegExp("^"+i+"+|((?:^|[^\\\\])(?:\\\\.)*)"+i+"+$","g"),ir=new RegExp("^"+i+"*,"+i+"*"),rr=new RegExp("^"+i+"*([>+~]|"+i+")"+i+"*"),ur=new RegExp("="+i+"*([^\\]'\"]*?)"+i+"*\\]","g"),fr=new RegExp(kt),er=new RegExp("^"+vi+"$"),at={ID:new RegExp("^#("+ut+")"),CLASS:new RegExp("^\\.("+ut+")"),TAG:new RegExp("^("+ut.replace("w","w*")+")"),ATTR:new RegExp("^"+yi),PSEUDO:new RegExp("^"+kt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+i+"*(even|odd|(([+-]|)(\\d*)n|)"+i+"*(?:([+-]|)"+i+"*(\\d+)|))"+i+"*\\)|)","i"),bool:new RegExp("^(?:"+bt+")$","i"),needsContext:new RegExp("^"+i+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+i+"*((?:-\\d)?\\d*)"+i+"*\\)|)(?=[^-]|$)","i")},or=/^(?:input|select|textarea|button)$/i,sr=/^h\d$/i,ot=/^[^{]+\{\s*\[native \w/,hr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,dt=/[+~]/,cr=/'|\\/g,y=new RegExp("\\\\([\\da-f]{1,6}"+i+"?|("+i+")|.)","ig"),p=function(n,t,i){var r="0x"+t-65536;return r!==r||i?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,r&1023|56320)},pi=function(){k()};try{b.apply(g=ai.call(h.childNodes),h.childNodes);g[h.childNodes.length].nodeType}catch(pr){b={apply:g.length?function(n,t){nr.apply(n,ai.call(t))}:function(n,t){for(var i=n.length,r=0;n[i++]=t[r++];);n.length=i-1}}}u=r.support={};ei=r.isXML=function(n){var t=n&&(n.ownerDocument||n).documentElement;return t?t.nodeName!=="HTML":!1};k=r.setDocument=function(n){var a,c,r=n?n.ownerDocument||n:h;return r===o||r.nodeType!==9||!r.documentElement?o:(o=r,s=r.documentElement,c=r.defaultView,c&&c!==c.top&&(c.addEventListener?c.addEventListener("unload",pi,!1):c.attachEvent&&c.attachEvent("onunload",pi)),l=!ei(r),u.attributes=v(function(n){return n.className="i",!n.getAttribute("className")}),u.getElementsByTagName=v(function(n){return n.appendChild(r.createComment("")),!n.getElementsByTagName("*").length}),u.getElementsByClassName=ot.test(r.getElementsByClassName),u.getById=v(function(n){return s.appendChild(n).id=f,!r.getElementsByName||!r.getElementsByName(f).length}),u.getById?(t.find.ID=function(n,t){if(typeof t.getElementById!="undefined"&&l){var i=t.getElementById(n);return i&&i.parentNode?[i]:[]}},t.filter.ID=function(n){var t=n.replace(y,p);return function(n){return n.getAttribute("id")===t}}):(delete t.find.ID,t.filter.ID=function(n){var t=n.replace(y,p);return function(n){var i=typeof n.getAttributeNode!="undefined"&&n.getAttributeNode("id");return i&&i.value===t}}),t.find.TAG=u.getElementsByTagName?function(n,t){return typeof t.getElementsByTagName!="undefined"?t.getElementsByTagName(n):u.qsa?t.querySelectorAll(n):void 0}:function(n,t){var i,r=[],f=0,u=t.getElementsByTagName(n);if(n==="*"){while(i=u[f++])i.nodeType===1&&r.push(i);return r}return u},t.find.CLASS=u.getElementsByClassName&&function(n,t){if(l)return t.getElementsByClassName(n)},d=[],e=[],(u.qsa=ot.test(r.querySelectorAll))&&(v(function(n){s.appendChild(n).innerHTML="<a id='"+f+"'><\/a><select id='"+f+"-\f]' msallowcapture=''><option selected=''><\/option><\/select>";n.querySelectorAll("[msallowcapture^='']").length&&e.push("[*^$]="+i+"*(?:''|\"\")");n.querySelectorAll("[selected]").length||e.push("\\["+i+"*(?:value|"+bt+")");n.querySelectorAll("[id~="+f+"-]").length||e.push("~=");n.querySelectorAll(":checked").length||e.push(":checked");n.querySelectorAll("a#"+f+"+*").length||e.push(".#.+[+~]")}),v(function(n){var t=r.createElement("input");t.setAttribute("type","hidden");n.appendChild(t).setAttribute("name","D");n.querySelectorAll("[name=d]").length&&e.push("name"+i+"*[*^$|!~]?=");n.querySelectorAll(":enabled").length||e.push(":enabled",":disabled");n.querySelectorAll("*,:x");e.push(",.*:")})),(u.matchesSelector=ot.test(ct=s.matches||s.webkitMatchesSelector||s.mozMatchesSelector||s.oMatchesSelector||s.msMatchesSelector))&&v(function(n){u.disconnectedMatch=ct.call(n,"div");ct.call(n,"[s!='']:x");d.push("!=",kt)}),e=e.length&&new RegExp(e.join("|")),d=d.length&&new RegExp(d.join("|")),a=ot.test(s.compareDocumentPosition),et=a||ot.test(s.contains)?function(n,t){var r=n.nodeType===9?n.documentElement:n,i=t&&t.parentNode;return n===i||!!(i&&i.nodeType===1&&(r.contains?r.contains(i):n.compareDocumentPosition&&n.compareDocumentPosition(i)&16))}:function(n,t){if(t)while(t=t.parentNode)if(t===n)return!0;return!1},wt=a?function(n,t){if(n===t)return rt=!0,0;var i=!n.compareDocumentPosition-!t.compareDocumentPosition;return i?i:(i=(n.ownerDocument||n)===(t.ownerDocument||t)?n.compareDocumentPosition(t):1,i&1||!u.sortDetached&&t.compareDocumentPosition(n)===i)?n===r||n.ownerDocument===h&&et(h,n)?-1:t===r||t.ownerDocument===h&&et(h,t)?1:w?nt(w,n)-nt(w,t):0:i&4?-1:1}:function(n,t){if(n===t)return rt=!0,0;var i,u=0,o=n.parentNode,s=t.parentNode,f=[n],e=[t];if(o&&s){if(o===s)return wi(n,t)}else return n===r?-1:t===r?1:o?-1:s?1:w?nt(w,n)-nt(w,t):0;for(i=n;i=i.parentNode;)f.unshift(i);for(i=t;i=i.parentNode;)e.unshift(i);while(f[u]===e[u])u++;return u?wi(f[u],e[u]):f[u]===h?-1:e[u]===h?1:0},r)};r.matches=function(n,t){return r(n,null,null,t)};r.matchesSelector=function(n,t){if((n.ownerDocument||n)!==o&&k(n),t=t.replace(ur,"='$1']"),u.matchesSelector&&l&&(!d||!d.test(t))&&(!e||!e.test(t)))try{var i=ct.call(n,t);if(i||u.disconnectedMatch||n.document&&n.document.nodeType!==11)return i}catch(f){}return r(t,o,null,[n]).length>0};r.contains=function(n,t){return(n.ownerDocument||n)!==o&&k(n),et(n,t)};r.attr=function(n,i){(n.ownerDocument||n)!==o&&k(n);var f=t.attrHandle[i.toLowerCase()],r=f&&di.call(t.attrHandle,i.toLowerCase())?f(n,i,!l):undefined;return r!==undefined?r:u.attributes||!l?n.getAttribute(i):(r=n.getAttributeNode(i))&&r.specified?r.value:null};r.error=function(n){throw new Error("Syntax error, unrecognized expression: "+n);};r.uniqueSort=function(n){var r,f=[],t=0,i=0;if(rt=!u.detectDuplicates,w=!u.sortStable&&n.slice(0),n.sort(wt),rt){while(r=n[i++])r===n[i]&&(t=f.push(i));while(t--)n.splice(f[t],1)}return w=null,n};st=r.getText=function(n){var r,i="",u=0,t=n.nodeType;if(t){if(t===1||t===9||t===11){if(typeof n.textContent=="string")return n.textContent;for(n=n.firstChild;n;n=n.nextSibling)i+=st(n)}else if(t===3||t===4)return n.nodeValue}else while(r=n[u++])i+=st(r);return i};t=r.selectors={cacheLength:50,createPseudo:c,match:at,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(n){return n[1]=n[1].replace(y,p),n[3]=(n[3]||n[4]||n[5]||"").replace(y,p),n[2]==="~="&&(n[3]=" "+n[3]+" "),n.slice(0,4)},CHILD:function(n){return n[1]=n[1].toLowerCase(),n[1].slice(0,3)==="nth"?(n[3]||r.error(n[0]),n[4]=+(n[4]?n[5]+(n[6]||1):2*(n[3]==="even"||n[3]==="odd")),n[5]=+(n[7]+n[8]||n[3]==="odd")):n[3]&&r.error(n[0]),n},PSEUDO:function(n){var i,t=!n[6]&&n[2];return at.CHILD.test(n[0])?null:(n[3]?n[2]=n[4]||n[5]||"":t&&fr.test(t)&&(i=ft(t,!0))&&(i=t.indexOf(")",t.length-i)-t.length)&&(n[0]=n[0].slice(0,i),n[2]=t.slice(0,i)),n.slice(0,3))}},filter:{TAG:function(n){var t=n.replace(y,p).toLowerCase();return n==="*"?function(){return!0}:function(n){return n.nodeName&&n.nodeName.toLowerCase()===t}},CLASS:function(n){var t=si[n+" "];return t||(t=new RegExp("(^|"+i+")"+n+"("+i+"|$)"))&&si(n,function(n){return t.test(typeof n.className=="string"&&n.className||typeof n.getAttribute!="undefined"&&n.getAttribute("class")||"")})},ATTR:function(n,t,i){return function(u){var f=r.attr(u,n);return f==null?t==="!=":t?(f+="",t==="="?f===i:t==="!="?f!==i:t==="^="?i&&f.indexOf(i)===0:t==="*="?i&&f.indexOf(i)>-1:t==="$="?i&&f.slice(-i.length)===i:t==="~="?(" "+f.replace(tr," ")+" ").indexOf(i)>-1:t==="|="?f===i||f.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(n,t,i,r,u){var s=n.slice(0,3)!=="nth",o=n.slice(-4)!=="last",e=t==="of-type";return r===1&&u===0?function(n){return!!n.parentNode}:function(t,i,h){var v,k,c,l,y,w,b=s!==o?"nextSibling":"previousSibling",p=t.parentNode,g=e&&t.nodeName.toLowerCase(),d=!h&&!e;if(p){if(s){while(b){for(c=t;c=c[b];)if(e?c.nodeName.toLowerCase()===g:c.nodeType===1)return!1;w=b=n==="only"&&!w&&"nextSibling"}return!0}if(w=[o?p.firstChild:p.lastChild],o&&d){for(k=p[f]||(p[f]={}),v=k[n]||[],y=v[0]===a&&v[1],l=v[0]===a&&v[2],c=y&&p.childNodes[y];c=++y&&c&&c[b]||(l=y=0)||w.pop();)if(c.nodeType===1&&++l&&c===t){k[n]=[a,y,l];break}}else if(d&&(v=(t[f]||(t[f]={}))[n])&&v[0]===a)l=v[1];else while(c=++y&&c&&c[b]||(l=y=0)||w.pop())if((e?c.nodeName.toLowerCase()===g:c.nodeType===1)&&++l&&(d&&((c[f]||(c[f]={}))[n]=[a,l]),c===t))break;return l-=u,l===r||l%r==0&&l/r>=0}}},PSEUDO:function(n,i){var e,u=t.pseudos[n]||t.setFilters[n.toLowerCase()]||r.error("unsupported pseudo: "+n);return u[f]?u(i):u.length>1?(e=[n,n,"",i],t.setFilters.hasOwnProperty(n.toLowerCase())?c(function(n,t){for(var r,f=u(n,i),e=f.length;e--;)r=nt(n,f[e]),n[r]=!(t[r]=f[e])}):function(n){return u(n,0,e)}):u}},pseudos:{not:c(function(n){var t=[],r=[],i=pt(n.replace(lt,"$1"));return i[f]?c(function(n,t,r,u){for(var e,o=i(n,null,u,[]),f=n.length;f--;)(e=o[f])&&(n[f]=!(t[f]=e))}):function(n,u,f){return t[0]=n,i(t,null,f,r),t[0]=null,!r.pop()}}),has:c(function(n){return function(t){return r(n,t).length>0}}),contains:c(function(n){return n=n.replace(y,p),function(t){return(t.textContent||t.innerText||st(t)).indexOf(n)>-1}}),lang:c(function(n){return er.test(n||"")||r.error("unsupported lang: "+n),n=n.replace(y,p).toLowerCase(),function(t){var i;do if(i=l?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return i=i.toLowerCase(),i===n||i.indexOf(n+"-")===0;while((t=t.parentNode)&&t.nodeType===1);return!1}}),target:function(t){var i=n.location&&n.location.hash;return i&&i.slice(1)===t.id},root:function(n){return n===s},focus:function(n){return n===o.activeElement&&(!o.hasFocus||o.hasFocus())&&!!(n.type||n.href||~n.tabIndex)},enabled:function(n){return n.disabled===!1},disabled:function(n){return n.disabled===!0},checked:function(n){var t=n.nodeName.toLowerCase();return t==="input"&&!!n.checked||t==="option"&&!!n.selected},selected:function(n){return n.parentNode&&n.parentNode.selectedIndex,n.selected===!0},empty:function(n){for(n=n.firstChild;n;n=n.nextSibling)if(n.nodeType<6)return!1;return!0},parent:function(n){return!t.pseudos.empty(n)},header:function(n){return sr.test(n.nodeName)},input:function(n){return or.test(n.nodeName)},button:function(n){var t=n.nodeName.toLowerCase();return t==="input"&&n.type==="button"||t==="button"},text:function(n){var t;return n.nodeName.toLowerCase()==="input"&&n.type==="text"&&((t=n.getAttribute("type"))==null||t.toLowerCase()==="text")},first:tt(function(){return[0]}),last:tt(function(n,t){return[t-1]}),eq:tt(function(n,t,i){return[i<0?i+t:i]}),even:tt(function(n,t){for(var i=0;i<t;i+=2)n.push(i);return n}),odd:tt(function(n,t){for(var i=1;i<t;i+=2)n.push(i);return n}),lt:tt(function(n,t,i){for(var r=i<0?i+t:i;--r>=0;)n.push(r);return n}),gt:tt(function(n,t,i){for(var r=i<0?i+t:i;++r<t;)n.push(r);return n})}};t.pseudos.nth=t.pseudos.eq;for(it in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})t.pseudos[it]=lr(it);for(it in{submit:!0,reset:!0})t.pseudos[it]=ar(it);return bi.prototype=t.filters=t.pseudos,t.setFilters=new bi,ft=r.tokenize=function(n,i){var e,f,s,o,u,h,c,l=hi[n+" "];if(l)return i?0:l.slice(0);for(u=n,h=[],c=t.preFilter;u;){(!e||(f=ir.exec(u)))&&(f&&(u=u.slice(f[0].length)||u),h.push(s=[]));e=!1;(f=rr.exec(u))&&(e=f.shift(),s.push({value:e,type:f[0].replace(lt," ")}),u=u.slice(e.length));for(o in t.filter)(f=at[o].exec(u))&&(!c[o]||(f=c[o](f)))&&(e=f.shift(),s.push({value:e,type:o,matches:f}),u=u.slice(e.length));if(!e)break}return i?u.length:u?r.error(n):hi(n,h).slice(0)},pt=r.compile=function(n,t){var r,u=[],e=[],i=ci[n+" "];if(!i){for(t||(t=ft(n)),r=t.length;r--;)i=fi(t[r]),i[f]?u.push(i):e.push(i);i=ci(n,yr(e,u));i.selector=n}return i},oi=r.select=function(n,i,r,f){var s,e,o,a,v,c=typeof n=="function"&&n,h=!f&&ft(n=c.selector||n);if(r=r||[],h.length===1){if(e=h[0]=h[0].slice(0),e.length>2&&(o=e[0]).type==="ID"&&u.getById&&i.nodeType===9&&l&&t.relative[e[1].type]){if(i=(t.find.ID(o.matches[0].replace(y,p),i)||[])[0],i)c&&(i=i.parentNode);else return r;n=n.slice(e.shift().value.length)}for(s=at.needsContext.test(n)?0:e.length;s--;){if(o=e[s],t.relative[a=o.type])break;if((v=t.find[a])&&(f=v(o.matches[0].replace(y,p),dt.test(e[0].type)&&ti(i.parentNode)||i))){if(e.splice(s,1),n=f.length&&vt(e),!n)return b.apply(r,f),r;break}}}return(c||pt(n,h))(f,i,!l,r,dt.test(n)&&ti(i.parentNode)||i),r},u.sortStable=f.split("").sort(wt).join("")===f,u.detectDuplicates=!!rt,k(),u.sortDetached=v(function(n){return n.compareDocumentPosition(o.createElement("div"))&1}),v(function(n){return n.innerHTML="<a href='#'><\/a>",n.firstChild.getAttribute("href")==="#"})||ni("type|href|height|width",function(n,t,i){if(!i)return n.getAttribute(t,t.toLowerCase()==="type"?1:2)}),u.attributes&&v(function(n){return n.innerHTML="<input/>",n.firstChild.setAttribute("value",""),n.firstChild.getAttribute("value")===""})||ni("value",function(n,t,i){if(!i&&n.nodeName.toLowerCase()==="input")return n.defaultValue}),v(function(n){return n.getAttribute("disabled")==null})||ni(bt,function(n,t,i){var r;if(!i)return n[t]===!0?t.toLowerCase():(r=n.getAttributeNode(t))&&r.specified?r.value:null}),r}(n);i.find=y;i.expr=y.selectors;i.expr[":"]=i.expr.pseudos;i.unique=y.uniqueSort;i.text=y.getText;i.isXMLDoc=y.isXML;i.contains=y.contains;var di=i.expr.match.needsContext,gi=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ef=/^.[^:#\[\.,]*$/;i.filter=function(n,t,r){var u=t[0];return r&&(n=":not("+n+")"),t.length===1&&u.nodeType===1?i.find.matchesSelector(u,n)?[u]:[]:i.find.matches(n,i.grep(t,function(n){return n.nodeType===1}))};i.fn.extend({find:function(n){var t,u=this.length,r=[],f=this;if(typeof n!="string")return this.pushStack(i(n).filter(function(){for(t=0;t<u;t++)if(i.contains(f[t],this))return!0}));for(t=0;t<u;t++)i.find(n,f[t],r);return r=this.pushStack(u>1?i.unique(r):r),r.selector=this.selector?this.selector+" "+n:n,r},filter:function(n){return this.pushStack(ui(this,n||[],!1))},not:function(n){return this.pushStack(ui(this,n||[],!0))},is:function(n){return!!ui(this,typeof n=="string"&&di.test(n)?i(n):n||[],!1).length}});nr=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;tr=i.fn.init=function(n,t){var r,f;if(!n)return this;if(typeof n=="string"){if(r=n[0]==="<"&&n[n.length-1]===">"&&n.length>=3?[null,n,null]:nr.exec(n),r&&(r[1]||!t)){if(r[1]){if(t=t instanceof i?t[0]:t,i.merge(this,i.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:u,!0)),gi.test(r[1])&&i.isPlainObject(t))for(r in t)i.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return f=u.getElementById(r[2]),f&&f.parentNode&&(this.length=1,this[0]=f),this.context=u,this.selector=n,this}return!t||t.jquery?(t||ot).find(n):this.constructor(t).find(n)}return n.nodeType?(this.context=this[0]=n,this.length=1,this):i.isFunction(n)?typeof ot.ready!="undefined"?ot.ready(n):n(i):(n.selector!==undefined&&(this.selector=n.selector,this.context=n.context),i.makeArray(n,this))};tr.prototype=i.fn;ot=i(u);ir=/^(?:parents|prev(?:Until|All))/;rr={children:!0,contents:!0,next:!0,prev:!0};i.extend({dir:function(n,t,r){for(var u=[],f=r!==undefined;(n=n[t])&&n.nodeType!==9;)if(n.nodeType===1){if(f&&i(n).is(r))break;u.push(n)}return u},sibling:function(n,t){for(var i=[];n;n=n.nextSibling)n.nodeType===1&&n!==t&&i.push(n);return i}});i.fn.extend({has:function(n){var t=i(n,this),r=t.length;return this.filter(function(){for(var n=0;n<r;n++)if(i.contains(this,t[n]))return!0})},closest:function(n,t){for(var r,f=0,o=this.length,u=[],e=di.test(n)||typeof n!="string"?i(n,t||this.context):0;f<o;f++)for(r=this[f];r&&r!==t;r=r.parentNode)if(r.nodeType<11&&(e?e.index(r)>-1:r.nodeType===1&&i.find.matchesSelector(r,n))){u.push(r);break}return this.pushStack(u.length>1?i.unique(u):u)},index:function(n){return n?typeof n=="string"?ft.call(i(n),this[0]):ft.call(this,n.jquery?n[0]:n):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(n,t){return this.pushStack(i.unique(i.merge(this.get(),i(n,t))))},addBack:function(n){return this.add(n==null?this.prevObject:this.prevObject.filter(n))}});i.each({parent:function(n){var t=n.parentNode;return t&&t.nodeType!==11?t:null},parents:function(n){return i.dir(n,"parentNode")},parentsUntil:function(n,t,r){return i.dir(n,"parentNode",r)},next:function(n){return ur(n,"nextSibling")},prev:function(n){return ur(n,"previousSibling")},nextAll:function(n){return i.dir(n,"nextSibling")},prevAll:function(n){return i.dir(n,"previousSibling")},nextUntil:function(n,t,r){return i.dir(n,"nextSibling",r)},prevUntil:function(n,t,r){return i.dir(n,"previousSibling",r)},siblings:function(n){return i.sibling((n.parentNode||{}).firstChild,n)},children:function(n){return i.sibling(n.firstChild)},contents:function(n){return n.contentDocument||i.merge([],n.childNodes)}},function(n,t){i.fn[n]=function(r,u){var f=i.map(this,t,r);return n.slice(-5)!=="Until"&&(u=r),u&&typeof u=="string"&&(f=i.filter(u,f)),this.length>1&&(rr[n]||i.unique(f),ir.test(n)&&f.reverse()),this.pushStack(f)}});c=/\S+/g;fi={};i.Callbacks=function(n){n=typeof n=="string"?fi[n]||of(n):i.extend({},n);var u,h,o,c,f,e,t=[],r=!n.once&&[],l=function(i){for(u=n.memory&&i,h=!0,e=c||0,c=0,f=t.length,o=!0;t&&e<f;e++)if(t[e].apply(i[0],i[1])===!1&&n.stopOnFalse){u=!1;break}o=!1;t&&(r?r.length&&l(r.shift()):u?t=[]:s.disable())},s={add:function(){if(t){var r=t.length;(function e(r){i.each(r,function(r,u){var f=i.type(u);f==="function"?n.unique&&s.has(u)||t.push(u):u&&u.length&&f!=="string"&&e(u)})})(arguments);o?f=t.length:u&&(c=r,l(u))}return this},remove:function(){return t&&i.each(arguments,function(n,r){for(var u;(u=i.inArray(r,t,u))>-1;)t.splice(u,1),o&&(u<=f&&f--,u<=e&&e--)}),this},has:function(n){return n?i.inArray(n,t)>-1:!!(t&&t.length)},empty:function(){return t=[],f=0,this},disable:function(){return t=r=u=undefined,this},disabled:function(){return!t},lock:function(){return r=undefined,u||s.disable(),this},locked:function(){return!r},fireWith:function(n,i){return t&&(!h||r)&&(i=i||[],i=[n,i.slice?i.slice():i],o?r.push(i):l(i)),this},fire:function(){return s.fireWith(this,arguments),this},fired:function(){return!!h}};return s};i.extend({Deferred:function(n){var u=[["resolve","done",i.Callbacks("once memory"),"resolved"],["reject","fail",i.Callbacks("once memory"),"rejected"],["notify","progress",i.Callbacks("memory")]],f="pending",r={state:function(){return f},always:function(){return t.done(arguments).fail(arguments),this},then:function(){var n=arguments;return i.Deferred(function(f){i.each(u,function(u,e){var o=i.isFunction(n[u])&&n[u];t[e[1]](function(){var n=o&&o.apply(this,arguments);n&&i.isFunction(n.promise)?n.promise().done(f.resolve).fail(f.reject).progress(f.notify):f[e[0]+"With"](this===r?f.promise():this,o?[n]:arguments)})});n=null}).promise()},promise:function(n){return n!=null?i.extend(n,r):r}},t={};return r.pipe=r.then,i.each(u,function(n,i){var e=i[2],o=i[3];r[i[1]]=e.add;o&&e.add(function(){f=o},u[n^1][2].disable,u[2][2].lock);t[i[0]]=function(){return t[i[0]+"With"](this===t?r:this,arguments),this};t[i[0]+"With"]=e.fireWith}),r.promise(t),n&&n.call(t,t),t},when:function(n){var t=0,u=a.call(arguments),r=u.length,e=r!==1||n&&i.isFunction(n.promise)?r:0,f=e===1?n:i.Deferred(),h=function(n,t,i){return function(r){t[n]=this;i[n]=arguments.length>1?a.call(arguments):r;i===o?f.notifyWith(t,i):--e||f.resolveWith(t,i)}},o,c,s;if(r>1)for(o=new Array(r),c=new Array(r),s=new Array(r);t<r;t++)u[t]&&i.isFunction(u[t].promise)?u[t].promise().done(h(t,s,u)).fail(f.reject).progress(h(t,c,o)):--e;return e||f.resolveWith(s,u),f.promise()}});i.fn.ready=function(n){return i.ready.promise().done(n),this};i.extend({isReady:!1,readyWait:1,holdReady:function(n){n?i.readyWait++:i.ready(!0)},ready:function(n){(n===!0?--i.readyWait:i.isReady)||(i.isReady=!0,n!==!0&&--i.readyWait>0)||(st.resolveWith(u,[i]),i.fn.triggerHandler&&(i(u).triggerHandler("ready"),i(u).off("ready")))}});i.ready.promise=function(t){return st||(st=i.Deferred(),u.readyState==="complete"?setTimeout(i.ready):(u.addEventListener("DOMContentLoaded",ht,!1),n.addEventListener("load",ht,!1))),st.promise(t)};i.ready.promise();l=i.access=function(n,t,r,u,f,e,o){var s=0,c=n.length,h=r==null;if(i.type(r)==="object"){f=!0;for(s in r)i.access(n,t,s,r[s],!0,e,o)}else if(u!==undefined&&(f=!0,i.isFunction(u)||(o=!0),h&&(o?(t.call(n,u),t=null):(h=t,t=function(n,t,r){return h.call(i(n),r)})),t))for(;s<c;s++)t(n[s],r,o?u:u.call(n[s],s,t(n[s],r)));return f?n:h?t.call(n):c?t(n[0],r):e};i.acceptData=function(n){return n.nodeType===1||n.nodeType===9||!+n.nodeType};v.uid=1;v.accepts=i.acceptData;v.prototype={key:function(n){if(!v.accepts(n))return 0;var r={},t=n[this.expando];if(!t){t=v.uid++;try{r[this.expando]={value:t};Object.defineProperties(n,r)}catch(u){r[this.expando]=t;i.extend(n,r)}}return this.cache[t]||(this.cache[t]={}),t},set:function(n,t,r){var f,e=this.key(n),u=this.cache[e];if(typeof t=="string")u[t]=r;else if(i.isEmptyObject(u))i.extend(this.cache[e],t);else for(f in t)u[f]=t[f];return u},get:function(n,t){var i=this.cache[this.key(n)];return t===undefined?i:i[t]},access:function(n,t,r){var u;return t===undefined||t&&typeof t=="string"&&r===undefined?(u=this.get(n,t),u!==undefined?u:this.get(n,i.camelCase(t))):(this.set(n,t,r),r!==undefined?r:t)},remove:function(n,t){var u,r,f,o=this.key(n),e=this.cache[o];if(t===undefined)this.cache[o]={};else for(i.isArray(t)?r=t.concat(t.map(i.camelCase)):(f=i.camelCase(t),t in e?r=[t,f]:(r=f,r=r in e?[r]:r.match(c)||[])),u=r.length;u--;)delete e[r[u]]},hasData:function(n){return!i.isEmptyObject(this.cache[n[this.expando]]||{})},discard:function(n){n[this.expando]&&delete this.cache[n[this.expando]]}};var r=new v,e=new v,sf=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,hf=/([A-Z])/g;i.extend({hasData:function(n){return e.hasData(n)||r.hasData(n)},data:function(n,t,i){return e.access(n,t,i)},removeData:function(n,t){e.remove(n,t)},_data:function(n,t,i){return r.access(n,t,i)},_removeData:function(n,t){r.remove(n,t)}});i.fn.extend({data:function(n,t){var o,f,s,u=this[0],h=u&&u.attributes;if(n===undefined){if(this.length&&(s=e.get(u),u.nodeType===1&&!r.get(u,"hasDataAttrs"))){for(o=h.length;o--;)h[o]&&(f=h[o].name,f.indexOf("data-")===0&&(f=i.camelCase(f.slice(5)),fr(u,f,s[f])));r.set(u,"hasDataAttrs",!0)}return s}return typeof n=="object"?this.each(function(){e.set(this,n)}):l(this,function(t){var r,f=i.camelCase(n);if(u&&t===undefined)return(r=e.get(u,n),r!==undefined)?r:(r=e.get(u,f),r!==undefined)?r:(r=fr(u,f,undefined),r!==undefined)?r:void 0;this.each(function(){var i=e.get(this,f);e.set(this,f,t);n.indexOf("-")!==-1&&i!==undefined&&e.set(this,n,t)})},null,t,arguments.length>1,null,!0)},removeData:function(n){return this.each(function(){e.remove(this,n)})}});i.extend({queue:function(n,t,u){var f;if(n)return t=(t||"fx")+"queue",f=r.get(n,t),u&&(!f||i.isArray(u)?f=r.access(n,t,i.makeArray(u)):f.push(u)),f||[]},dequeue:function(n,t){t=t||"fx";var r=i.queue(n,t),e=r.length,u=r.shift(),f=i._queueHooks(n,t),o=function(){i.dequeue(n,t)};u==="inprogress"&&(u=r.shift(),e--);u&&(t==="fx"&&r.unshift("inprogress"),delete f.stop,u.call(n,o,f));!e&&f&&f.empty.fire()},_queueHooks:function(n,t){var u=t+"queueHooks";return r.get(n,u)||r.access(n,u,{empty:i.Callbacks("once memory").add(function(){r.remove(n,[t+"queue",u])})})}});i.fn.extend({queue:function(n,t){var r=2;return(typeof n!="string"&&(t=n,n="fx",r--),arguments.length<r)?i.queue(this[0],n):t===undefined?this:this.each(function(){var r=i.queue(this,n,t);i._queueHooks(this,n);n==="fx"&&r[0]!=="inprogress"&&i.dequeue(this,n)})},dequeue:function(n){return this.each(function(){i.dequeue(this,n)})},clearQueue:function(n){return this.queue(n||"fx",[])},promise:function(n,t){var u,e=1,o=i.Deferred(),f=this,s=this.length,h=function(){--e||o.resolveWith(f,[f])};for(typeof n!="string"&&(t=n,n=undefined),n=n||"fx";s--;)u=r.get(f[s],n+"queueHooks"),u&&u.empty&&(e++,u.empty.add(h));return h(),o.promise(t)}});var ct=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,p=["Top","Right","Bottom","Left"],tt=function(n,t){return n=t||n,i.css(n,"display")==="none"||!i.contains(n.ownerDocument,n)},er=/^(?:checkbox|radio)$/i;(function(){var i=u.createDocumentFragment(),n=i.appendChild(u.createElement("div")),t=u.createElement("input");t.setAttribute("type","radio");t.setAttribute("checked","checked");t.setAttribute("name","t");n.appendChild(t);f.checkClone=n.cloneNode(!0).cloneNode(!0).lastChild.checked;n.innerHTML="<textarea>x<\/textarea>";f.noCloneChecked=!!n.cloneNode(!0).lastChild.defaultValue})();b=typeof undefined;f.focusinBubbles="onfocusin"in n;var cf=/^key/,lf=/^(?:mouse|pointer|contextmenu)|click/,or=/^(?:focusinfocus|focusoutblur)$/,sr=/^([^.]*)(?:\.(.+)|)$/;i.event={global:{},add:function(n,t,u,f,e){var v,y,w,p,k,h,s,l,o,d,g,a=r.get(n);if(a)for(u.handler&&(v=u,u=v.handler,e=v.selector),u.guid||(u.guid=i.guid++),(p=a.events)||(p=a.events={}),(y=a.handle)||(y=a.handle=function(t){return typeof i!==b&&i.event.triggered!==t.type?i.event.dispatch.apply(n,arguments):undefined}),t=(t||"").match(c)||[""],k=t.length;k--;)(w=sr.exec(t[k])||[],o=g=w[1],d=(w[2]||"").split(".").sort(),o)&&(s=i.event.special[o]||{},o=(e?s.delegateType:s.bindType)||o,s=i.event.special[o]||{},h=i.extend({type:o,origType:g,data:f,handler:u,guid:u.guid,selector:e,needsContext:e&&i.expr.match.needsContext.test(e),namespace:d.join(".")},v),(l=p[o])||(l=p[o]=[],l.delegateCount=0,s.setup&&s.setup.call(n,f,d,y)!==!1||n.addEventListener&&n.addEventListener(o,y,!1)),s.add&&(s.add.call(n,h),h.handler.guid||(h.handler.guid=u.guid)),e?l.splice(l.delegateCount++,0,h):l.push(h),i.event.global[o]=!0)},remove:function(n,t,u,f,e){var p,k,h,v,w,s,l,a,o,b,d,y=r.hasData(n)&&r.get(n);if(y&&(v=y.events)){for(t=(t||"").match(c)||[""],w=t.length;w--;){if(h=sr.exec(t[w])||[],o=d=h[1],b=(h[2]||"").split(".").sort(),!o){for(o in v)i.event.remove(n,o+t[w],u,f,!0);continue}for(l=i.event.special[o]||{},o=(f?l.delegateType:l.bindType)||o,a=v[o]||[],h=h[2]&&new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"),k=p=a.length;p--;)s=a[p],(e||d===s.origType)&&(!u||u.guid===s.guid)&&(!h||h.test(s.namespace))&&(!f||f===s.selector||f==="**"&&s.selector)&&(a.splice(p,1),s.selector&&a.delegateCount--,l.remove&&l.remove.call(n,s));k&&!a.length&&(l.teardown&&l.teardown.call(n,b,y.handle)!==!1||i.removeEvent(n,o,y.handle),delete v[o])}i.isEmptyObject(v)&&(delete y.handle,r.remove(n,"events"))}},trigger:function(t,f,e,o){var w,s,c,b,a,v,l,p=[e||u],h=ii.call(t,"type")?t.type:t,y=ii.call(t,"namespace")?t.namespace.split("."):[];if((s=c=e=e||u,e.nodeType!==3&&e.nodeType!==8)&&!or.test(h+i.event.triggered)&&(h.indexOf(".")>=0&&(y=h.split("."),h=y.shift(),y.sort()),a=h.indexOf(":")<0&&"on"+h,t=t[i.expando]?t:new i.Event(h,typeof t=="object"&&t),t.isTrigger=o?2:3,t.namespace=y.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=undefined,t.target||(t.target=e),f=f==null?[t]:i.makeArray(f,[t]),l=i.event.special[h]||{},o||!l.trigger||l.trigger.apply(e,f)!==!1)){if(!o&&!l.noBubble&&!i.isWindow(e)){for(b=l.delegateType||h,or.test(b+h)||(s=s.parentNode);s;s=s.parentNode)p.push(s),c=s;c===(e.ownerDocument||u)&&p.push(c.defaultView||c.parentWindow||n)}for(w=0;(s=p[w++])&&!t.isPropagationStopped();)t.type=w>1?b:l.bindType||h,v=(r.get(s,"events")||{})[t.type]&&r.get(s,"handle"),v&&v.apply(s,f),v=a&&s[a],v&&v.apply&&i.acceptData(s)&&(t.result=v.apply(s,f),t.result===!1&&t.preventDefault());return t.type=h,o||t.isDefaultPrevented()||(!l._default||l._default.apply(p.pop(),f)===!1)&&i.acceptData(e)&&a&&i.isFunction(e[h])&&!i.isWindow(e)&&(c=e[a],c&&(e[a]=null),i.event.triggered=h,e[h](),i.event.triggered=undefined,c&&(e[a]=c)),t.result}},dispatch:function(n){n=i.event.fix(n);var o,s,e,u,t,h=[],c=a.call(arguments),l=(r.get(this,"events")||{})[n.type]||[],f=i.event.special[n.type]||{};if(c[0]=n,n.delegateTarget=this,!f.preDispatch||f.preDispatch.call(this,n)!==!1){for(h=i.event.handlers.call(this,n,l),o=0;(u=h[o++])&&!n.isPropagationStopped();)for(n.currentTarget=u.elem,s=0;(t=u.handlers[s++])&&!n.isImmediatePropagationStopped();)(!n.namespace_re||n.namespace_re.test(t.namespace))&&(n.handleObj=t,n.data=t.data,e=((i.event.special[t.origType]||{}).handle||t.handler).apply(u.elem,c),e!==undefined&&(n.result=e)===!1&&(n.preventDefault(),n.stopPropagation()));return f.postDispatch&&f.postDispatch.call(this,n),n.result}},handlers:function(n,t){var e,u,f,o,h=[],s=t.delegateCount,r=n.target;if(s&&r.nodeType&&(!n.button||n.type!=="click"))for(;r!==this;r=r.parentNode||this)if(r.disabled!==!0||n.type!=="click"){for(u=[],e=0;e<s;e++)o=t[e],f=o.selector+" ",u[f]===undefined&&(u[f]=o.needsContext?i(f,this).index(r)>=0:i.find(f,this,null,[r]).length),u[f]&&u.push(o);u.length&&h.push({elem:r,handlers:u})}return s<t.length&&h.push({elem:this,handlers:t.slice(s)}),h},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(n,t){return n.which==null&&(n.which=t.charCode!=null?t.charCode:t.keyCode),n}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(n,t){var e,i,r,f=t.button;return n.pageX==null&&t.clientX!=null&&(e=n.target.ownerDocument||u,i=e.documentElement,r=e.body,n.pageX=t.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),n.pageY=t.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),n.which||f===undefined||(n.which=f&1?1:f&2?3:f&4?2:0),n}},fix:function(n){if(n[i.expando])return n;var f,e,o,r=n.type,s=n,t=this.fixHooks[r];for(t||(this.fixHooks[r]=t=lf.test(r)?this.mouseHooks:cf.test(r)?this.keyHooks:{}),o=t.props?this.props.concat(t.props):this.props,n=new i.Event(s),f=o.length;f--;)e=o[f],n[e]=s[e];return n.target||(n.target=u),n.target.nodeType===3&&(n.target=n.target.parentNode),t.filter?t.filter(n,s):n},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==hr()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===hr()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(this.type==="checkbox"&&this.click&&i.nodeName(this,"input"))return this.click(),!1},_default:function(n){return i.nodeName(n.target,"a")}},beforeunload:{postDispatch:function(n){n.result!==undefined&&n.originalEvent&&(n.originalEvent.returnValue=n.result)}}},simulate:function(n,t,r,u){var f=i.extend(new i.Event,r,{type:n,isSimulated:!0,originalEvent:{}});u?i.event.trigger(f,null,t):i.event.dispatch.call(t,f);f.isDefaultPrevented()&&r.preventDefault()}};i.removeEvent=function(n,t,i){n.removeEventListener&&n.removeEventListener(t,i,!1)};i.Event=function(n,t){if(!(this instanceof i.Event))return new i.Event(n,t);n&&n.type?(this.originalEvent=n,this.type=n.type,this.isDefaultPrevented=n.defaultPrevented||n.defaultPrevented===undefined&&n.returnValue===!1?lt:k):this.type=n;t&&i.extend(this,t);this.timeStamp=n&&n.timeStamp||i.now();this[i.expando]=!0};i.Event.prototype={isDefaultPrevented:k,isPropagationStopped:k,isImmediatePropagationStopped:k,preventDefault:function(){var n=this.originalEvent;this.isDefaultPrevented=lt;n&&n.preventDefault&&n.preventDefault()},stopPropagation:function(){var n=this.originalEvent;this.isPropagationStopped=lt;n&&n.stopPropagation&&n.stopPropagation()},stopImmediatePropagation:function(){var n=this.originalEvent;this.isImmediatePropagationStopped=lt;n&&n.stopImmediatePropagation&&n.stopImmediatePropagation();this.stopPropagation()}};i.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(n,t){i.event.special[n]={delegateType:t,bindType:t,handle:function(n){var u,f=this,r=n.relatedTarget,e=n.handleObj;return r&&(r===f||i.contains(f,r))||(n.type=e.origType,u=e.handler.apply(this,arguments),n.type=t),u}}});f.focusinBubbles||i.each({focus:"focusin",blur:"focusout"},function(n,t){var u=function(n){i.event.simulate(t,n.target,i.event.fix(n),!0)};i.event.special[t]={setup:function(){var i=this.ownerDocument||this,f=r.access(i,t);f||i.addEventListener(n,u,!0);r.access(i,t,(f||0)+1)},teardown:function(){var i=this.ownerDocument||this,f=r.access(i,t)-1;f?r.access(i,t,f):(i.removeEventListener(n,u,!0),r.remove(i,t))}}});i.fn.extend({on:function(n,t,r,u,f){var e,o;if(typeof n=="object"){typeof t!="string"&&(r=r||t,t=undefined);for(o in n)this.on(o,t,r,n[o],f);return this}if(r==null&&u==null?(u=t,r=t=undefined):u==null&&(typeof t=="string"?(u=r,r=undefined):(u=r,r=t,t=undefined)),u===!1)u=k;else if(!u)return this;return f===1&&(e=u,u=function(n){return i().off(n),e.apply(this,arguments)},u.guid=e.guid||(e.guid=i.guid++)),this.each(function(){i.event.add(this,n,u,r,t)})},one:function(n,t,i,r){return this.on(n,t,i,r,1)},off:function(n,t,r){var u,f;if(n&&n.preventDefault&&n.handleObj)return u=n.handleObj,i(n.delegateTarget).off(u.namespace?u.origType+"."+u.namespace:u.origType,u.selector,u.handler),this;if(typeof n=="object"){for(f in n)this.off(f,t,n[f]);return this}return(t===!1||typeof t=="function")&&(r=t,t=undefined),r===!1&&(r=k),this.each(function(){i.event.remove(this,n,r,t)})},trigger:function(n,t){return this.each(function(){i.event.trigger(n,t,this)})},triggerHandler:function(n,t){var r=this[0];if(r)return i.event.trigger(n,t,r,!0)}});var cr=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,lr=/<([\w:]+)/,af=/<|&#?\w+;/,vf=/<(?:script|style|link)/i,yf=/checked\s*(?:[^=]|=\s*.checked.)/i,ar=/^$|\/(?:java|ecma)script/i,pf=/^true\/(.*)/,wf=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,h={option:[1,"<select multiple='multiple'>","<\/select>"],thead:[1,"<table>","<\/table>"],col:[2,"<table><colgroup>","<\/colgroup><\/table>"],tr:[2,"<table><tbody>","<\/tbody><\/table>"],td:[3,"<table><tbody><tr>","<\/tr><\/tbody><\/table>"],_default:[0,"",""]};h.optgroup=h.option;h.tbody=h.tfoot=h.colgroup=h.caption=h.thead;h.th=h.td;i.extend({clone:function(n,t,r){var u,c,s,e,h=n.cloneNode(!0),l=i.contains(n.ownerDocument,n);if(!f.noCloneChecked&&(n.nodeType===1||n.nodeType===11)&&!i.isXMLDoc(n))for(e=o(h),s=o(n),u=0,c=s.length;u<c;u++)df(s[u],e[u]);if(t)if(r)for(s=s||o(n),e=e||o(h),u=0,c=s.length;u<c;u++)yr(s[u],e[u]);else yr(n,h);return e=o(h,"script"),e.length>0&&ei(e,!l&&o(n,"script")),h},buildFragment:function(n,t,r,u){for(var f,e,y,l,p,a,s=t.createDocumentFragment(),v=[],c=0,w=n.length;c<w;c++)if(f=n[c],f||f===0)if(i.type(f)==="object")i.merge(v,f.nodeType?[f]:f);else if(af.test(f)){for(e=e||s.appendChild(t.createElement("div")),y=(lr.exec(f)||["",""])[1].toLowerCase(),l=h[y]||h._default,e.innerHTML=l[1]+f.replace(cr,"<$1><\/$2>")+l[2],a=l[0];a--;)e=e.lastChild;i.merge(v,e.childNodes);e=s.firstChild;e.textContent=""}else v.push(t.createTextNode(f));for(s.textContent="",c=0;f=v[c++];)if((!u||i.inArray(f,u)===-1)&&(p=i.contains(f.ownerDocument,f),e=o(s.appendChild(f),"script"),p&&ei(e),r))for(a=0;f=e[a++];)ar.test(f.type||"")&&r.push(f);return s},cleanData:function(n){for(var f,t,o,u,h=i.event.special,s=0;(t=n[s])!==undefined;s++){if(i.acceptData(t)&&(u=t[r.expando],u&&(f=r.cache[u]))){if(f.events)for(o in f.events)h[o]?i.event.remove(t,o):i.removeEvent(t,o,f.handle);r.cache[u]&&delete r.cache[u]}delete e.cache[t[e.expando]]}}});i.fn.extend({text:function(n){return l(this,function(n){return n===undefined?i.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=n)})},null,n,arguments.length)},append:function(){return this.domManip(arguments,function(n){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=vr(this,n);t.appendChild(n)}})},prepend:function(){return this.domManip(arguments,function(n){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=vr(this,n);t.insertBefore(n,t.firstChild)}})},before:function(){return this.domManip(arguments,function(n){this.parentNode&&this.parentNode.insertBefore(n,this)})},after:function(){return this.domManip(arguments,function(n){this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling)})},remove:function(n,t){for(var r,f=n?i.filter(n,this):this,u=0;(r=f[u])!=null;u++)t||r.nodeType!==1||i.cleanData(o(r)),r.parentNode&&(t&&i.contains(r.ownerDocument,r)&&ei(o(r,"script")),r.parentNode.removeChild(r));return this},empty:function(){for(var n,t=0;(n=this[t])!=null;t++)n.nodeType===1&&(i.cleanData(o(n,!1)),n.textContent="");return this},clone:function(n,t){return n=n==null?!1:n,t=t==null?n:t,this.map(function(){return i.clone(this,n,t)})},html:function(n){return l(this,function(n){var t=this[0]||{},r=0,u=this.length;if(n===undefined&&t.nodeType===1)return t.innerHTML;if(typeof n=="string"&&!vf.test(n)&&!h[(lr.exec(n)||["",""])[1].toLowerCase()]){n=n.replace(cr,"<$1><\/$2>");try{for(;r<u;r++)t=this[r]||{},t.nodeType===1&&(i.cleanData(o(t,!1)),t.innerHTML=n);t=0}catch(f){}}t&&this.empty().append(n)},null,n,arguments.length)},replaceWith:function(){var n=arguments[0];return this.domManip(arguments,function(t){n=this.parentNode;i.cleanData(o(this));n&&n.replaceChild(t,this)}),n&&(n.length||n.nodeType)?this:this.remove()},detach:function(n){return this.remove(n,!0)},domManip:function(n,t){n=bi.apply([],n);var h,v,s,c,u,y,e=0,l=this.length,w=this,b=l-1,a=n[0],p=i.isFunction(a);if(p||l>1&&typeof a=="string"&&!f.checkClone&&yf.test(a))return this.each(function(i){var r=w.eq(i);p&&(n[0]=a.call(this,i,r.html()));r.domManip(n,t)});if(l&&(h=i.buildFragment(n,this[0].ownerDocument,!1,this),v=h.firstChild,h.childNodes.length===1&&(h=v),v)){for(s=i.map(o(h,"script"),bf),c=s.length;e<l;e++)u=h,e!==b&&(u=i.clone(u,!0,!0),c&&i.merge(s,o(u,"script"))),t.call(this[e],u,e);if(c)for(y=s[s.length-1].ownerDocument,i.map(s,kf),e=0;e<c;e++)u=s[e],ar.test(u.type||"")&&!r.access(u,"globalEval")&&i.contains(y,u)&&(u.src?i._evalUrl&&i._evalUrl(u.src):i.globalEval(u.textContent.replace(wf,"")))}return this}});i.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(n,t){i.fn[n]=function(n){for(var u,f=[],e=i(n),o=e.length-1,r=0;r<=o;r++)u=r===o?this:this.clone(!0),i(e[r])[t](u),ti.apply(f,u.get());return this.pushStack(f)}});oi={};var wr=/^margin/,hi=new RegExp("^("+ct+")(?!px)[a-z%]+$","i"),vt=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):n.getComputedStyle(t,null)};(function(){function h(){t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute";t.innerHTML="";e.appendChild(r);var i=n.getComputedStyle(t,null);s=i.top!=="1%";o=i.width==="4px";e.removeChild(r)}var s,o,e=u.documentElement,r=u.createElement("div"),t=u.createElement("div");t.style&&(t.style.backgroundClip="content-box",t.cloneNode(!0).style.backgroundClip="",f.clearCloneStyle=t.style.backgroundClip==="content-box",r.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",r.appendChild(t),n.getComputedStyle&&i.extend(f,{pixelPosition:function(){return h(),s},boxSizingReliable:function(){return o==null&&h(),o},reliableMarginRight:function(){var f,i=t.appendChild(u.createElement("div"));return i.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",t.style.width="1px",e.appendChild(r),f=!parseFloat(n.getComputedStyle(i,null).marginRight),e.removeChild(r),t.removeChild(i),f}}))})();i.swap=function(n,t,i,r){var f,u,e={};for(u in t)e[u]=n.style[u],n.style[u]=t[u];f=i.apply(n,r||[]);for(u in t)n.style[u]=e[u];return f};var gf=/^(none|table(?!-c[ea]).+)/,ne=new RegExp("^("+ct+")(.*)$","i"),te=new RegExp("^([+-])=("+ct+")","i"),ie={position:"absolute",visibility:"hidden",display:"block"},kr={letterSpacing:"0",fontWeight:"400"},dr=["Webkit","O","Moz","ms"];i.extend({cssHooks:{opacity:{get:function(n,t){if(t){var i=it(n,"opacity");return i===""?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(n,t,r,u){if(n&&n.nodeType!==3&&n.nodeType!==8&&n.style){var o,h,e,s=i.camelCase(t),c=n.style;if(t=i.cssProps[s]||(i.cssProps[s]=gr(c,s)),e=i.cssHooks[t]||i.cssHooks[s],r!==undefined){if(h=typeof r,h==="string"&&(o=te.exec(r))&&(r=(o[1]+1)*o[2]+parseFloat(i.css(n,t)),h="number"),r==null||r!==r)return;h!=="number"||i.cssNumber[s]||(r+="px");f.clearCloneStyle||r!==""||t.indexOf("background")!==0||(c[t]="inherit");e&&"set"in e&&(r=e.set(n,r,u))===undefined||(c[t]=r)}else return e&&"get"in e&&(o=e.get(n,!1,u))!==undefined?o:c[t]}},css:function(n,t,r,u){var f,s,e,o=i.camelCase(t);return(t=i.cssProps[o]||(i.cssProps[o]=gr(n.style,o)),e=i.cssHooks[t]||i.cssHooks[o],e&&"get"in e&&(f=e.get(n,!0,r)),f===undefined&&(f=it(n,t,u)),f==="normal"&&t in kr&&(f=kr[t]),r===""||r)?(s=parseFloat(f),r===!0||i.isNumeric(s)?s||0:f):f}});i.each(["height","width"],function(n,t){i.cssHooks[t]={get:function(n,r,u){if(r)return gf.test(i.css(n,"display"))&&n.offsetWidth===0?i.swap(n,ie,function(){return iu(n,t,u)}):iu(n,t,u)},set:function(n,r,u){var f=u&&vt(n);return nu(n,r,u?tu(n,t,u,i.css(n,"boxSizing",!1,f)==="border-box",f):0)}}});i.cssHooks.marginRight=br(f.reliableMarginRight,function(n,t){if(t)return i.swap(n,{display:"inline-block"},it,[n,"marginRight"])});i.each({margin:"",padding:"",border:"Width"},function(n,t){i.cssHooks[n+t]={expand:function(i){for(var r=0,f={},u=typeof i=="string"?i.split(" "):[i];r<4;r++)f[n+p[r]+t]=u[r]||u[r-2]||u[0];return f}};wr.test(n)||(i.cssHooks[n+t].set=nu)});i.fn.extend({css:function(n,t){return l(this,function(n,t,r){var f,e,o={},u=0;if(i.isArray(t)){for(f=vt(n),e=t.length;u<e;u++)o[t[u]]=i.css(n,t[u],!1,f);return o}return r!==undefined?i.style(n,t,r):i.css(n,t)},n,t,arguments.length>1)},show:function(){return ru(this,!0)},hide:function(){return ru(this)},toggle:function(n){return typeof n=="boolean"?n?this.show():this.hide():this.each(function(){tt(this)?i(this).show():i(this).hide()})}});i.Tween=s;s.prototype={constructor:s,init:function(n,t,r,u,f,e){this.elem=n;this.prop=r;this.easing=f||"swing";this.options=t;this.start=this.now=this.cur();this.end=u;this.unit=e||(i.cssNumber[r]?"":"px")},cur:function(){var n=s.propHooks[this.prop];return n&&n.get?n.get(this):s.propHooks._default.get(this)},run:function(n){var t,r=s.propHooks[this.prop];return this.pos=this.options.duration?t=i.easing[this.easing](n,this.options.duration*n,0,1,this.options.duration):t=n,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):s.propHooks._default.set(this),this}};s.prototype.init.prototype=s.prototype;s.propHooks={_default:{get:function(n){var t;return n.elem[n.prop]!=null&&(!n.elem.style||n.elem.style[n.prop]==null)?n.elem[n.prop]:(t=i.css(n.elem,n.prop,""),!t||t==="auto"?0:t)},set:function(n){i.fx.step[n.prop]?i.fx.step[n.prop](n):n.elem.style&&(n.elem.style[i.cssProps[n.prop]]!=null||i.cssHooks[n.prop])?i.style(n.elem,n.prop,n.now+n.unit):n.elem[n.prop]=n.now}}};s.propHooks.scrollTop=s.propHooks.scrollLeft={set:function(n){n.elem.nodeType&&n.elem.parentNode&&(n.elem[n.prop]=n.now)}};i.easing={linear:function(n){return n},swing:function(n){return.5-Math.cos(n*Math.PI)/2}};i.fx=s.prototype.init;i.fx.step={};var d,yt,re=/^(?:toggle|show|hide)$/,uu=new RegExp("^(?:([+-])=|)("+ct+")([a-z%]*)$","i"),ue=/queueHooks$/,pt=[fe],rt={"*":[function(n,t){var f=this.createTween(n,t),s=f.cur(),u=uu.exec(t),e=u&&u[3]||(i.cssNumber[n]?"":"px"),r=(i.cssNumber[n]||e!=="px"&&+s)&&uu.exec(i.css(f.elem,n)),o=1,h=20;if(r&&r[3]!==e){e=e||r[3];u=u||[];r=+s||1;do o=o||".5",r=r/o,i.style(f.elem,n,r+e);while(o!==(o=f.cur()/s)&&o!==1&&--h)}return u&&(r=f.start=+r||+s||0,f.unit=e,f.end=u[1]?r+(u[1]+1)*u[2]:+u[2]),f}]};i.Animation=i.extend(ou,{tweener:function(n,t){i.isFunction(n)?(t=n,n=["*"]):n=n.split(" ");for(var r,u=0,f=n.length;u<f;u++)r=n[u],rt[r]=rt[r]||[],rt[r].unshift(t)},prefilter:function(n,t){t?pt.unshift(n):pt.push(n)}});i.speed=function(n,t,r){var u=n&&typeof n=="object"?i.extend({},n):{complete:r||!r&&t||i.isFunction(n)&&n,duration:n,easing:r&&t||t&&!i.isFunction(t)&&t};return u.duration=i.fx.off?0:typeof u.duration=="number"?u.duration:u.duration in i.fx.speeds?i.fx.speeds[u.duration]:i.fx.speeds._default,(u.queue==null||u.queue===!0)&&(u.queue="fx"),u.old=u.complete,u.complete=function(){i.isFunction(u.old)&&u.old.call(this);u.queue&&i.dequeue(this,u.queue)},u};i.fn.extend({fadeTo:function(n,t,i,r){return this.filter(tt).css("opacity",0).show().end().animate({opacity:t},n,i,r)},animate:function(n,t,u,f){var s=i.isEmptyObject(n),o=i.speed(t,u,f),e=function(){var t=ou(this,i.extend({},n),o);(s||r.get(this,"finish"))&&t.stop(!0)};return e.finish=e,s||o.queue===!1?this.each(e):this.queue(o.queue,e)},stop:function(n,t,u){var f=function(n){var t=n.stop;delete n.stop;t(u)};return typeof n!="string"&&(u=t,t=n,n=undefined),t&&n!==!1&&this.queue(n||"fx",[]),this.each(function(){var s=!0,t=n!=null&&n+"queueHooks",o=i.timers,e=r.get(this);if(t)e[t]&&e[t].stop&&f(e[t]);else for(t in e)e[t]&&e[t].stop&&ue.test(t)&&f(e[t]);for(t=o.length;t--;)o[t].elem===this&&(n==null||o[t].queue===n)&&(o[t].anim.stop(u),s=!1,o.splice(t,1));(s||!u)&&i.dequeue(this,n)})},finish:function(n){return n!==!1&&(n=n||"fx"),this.each(function(){var t,e=r.get(this),u=e[n+"queue"],o=e[n+"queueHooks"],f=i.timers,s=u?u.length:0;for(e.finish=!0,i.queue(this,n,[]),o&&o.stop&&o.stop.call(this,!0),t=f.length;t--;)f[t].elem===this&&f[t].queue===n&&(f[t].anim.stop(!0),f.splice(t,1));for(t=0;t<s;t++)u[t]&&u[t].finish&&u[t].finish.call(this);delete e.finish})}});i.each(["toggle","show","hide"],function(n,t){var r=i.fn[t];i.fn[t]=function(n,i,u){return n==null||typeof n=="boolean"?r.apply(this,arguments):this.animate(wt(t,!0),n,i,u)}});i.each({slideDown:wt("show"),slideUp:wt("hide"),slideToggle:wt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(n,t){i.fn[n]=function(n,i,r){return this.animate(t,n,i,r)}});i.timers=[];i.fx.tick=function(){var r,n=0,t=i.timers;for(d=i.now();n<t.length;n++)r=t[n],r()||t[n]!==r||t.splice(n--,1);t.length||i.fx.stop();d=undefined};i.fx.timer=function(n){i.timers.push(n);n()?i.fx.start():i.timers.pop()};i.fx.interval=13;i.fx.start=function(){yt||(yt=setInterval(i.fx.tick,i.fx.interval))};i.fx.stop=function(){clearInterval(yt);yt=null};i.fx.speeds={slow:600,fast:200,_default:400};i.fn.delay=function(n,t){return n=i.fx?i.fx.speeds[n]||n:n,t=t||"fx",this.queue(t,function(t,i){var r=setTimeout(t,n);i.stop=function(){clearTimeout(r)}})},function(){var n=u.createElement("input"),t=u.createElement("select"),i=t.appendChild(u.createElement("option"));n.type="checkbox";f.checkOn=n.value!=="";f.optSelected=i.selected;t.disabled=!0;f.optDisabled=!i.disabled;n=u.createElement("input");n.value="t";n.type="radio";f.radioValue=n.value==="t"}();g=i.expr.attrHandle;i.fn.extend({attr:function(n,t){return l(this,i.attr,n,t,arguments.length>1)},removeAttr:function(n){return this.each(function(){i.removeAttr(this,n)})}});i.extend({attr:function(n,t,r){var u,f,e=n.nodeType;if(n&&e!==3&&e!==8&&e!==2){if(typeof n.getAttribute===b)return i.prop(n,t,r);if(e===1&&i.isXMLDoc(n)||(t=t.toLowerCase(),u=i.attrHooks[t]||(i.expr.match.bool.test(t)?su:oe)),r!==undefined)if(r===null)i.removeAttr(n,t);else return u&&"set"in u&&(f=u.set(n,r,t))!==undefined?f:(n.setAttribute(t,r+""),r);else return u&&"get"in u&&(f=u.get(n,t))!==null?f:(f=i.find.attr(n,t),f==null?undefined:f)}},removeAttr:function(n,t){var r,u,e=0,f=t&&t.match(c);if(f&&n.nodeType===1)while(r=f[e++])u=i.propFix[r]||r,i.expr.match.bool.test(r)&&(n[u]=!1),n.removeAttribute(r)},attrHooks:{type:{set:function(n,t){if(!f.radioValue&&t==="radio"&&i.nodeName(n,"input")){var r=n.value;return n.setAttribute("type",t),r&&(n.value=r),t}}}}});su={set:function(n,t,r){return t===!1?i.removeAttr(n,r):n.setAttribute(r,r),r}};i.each(i.expr.match.bool.source.match(/\w+/g),function(n,t){var r=g[t]||i.find.attr;g[t]=function(n,t,i){var u,f;return i||(f=g[t],g[t]=u,u=r(n,t,i)!=null?t.toLowerCase():null,g[t]=f),u}});hu=/^(?:input|select|textarea|button)$/i;i.fn.extend({prop:function(n,t){return l(this,i.prop,n,t,arguments.length>1)},removeProp:function(n){return this.each(function(){delete this[i.propFix[n]||n]})}});i.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(n,t,r){var f,u,o,e=n.nodeType;if(n&&e!==3&&e!==8&&e!==2)return o=e!==1||!i.isXMLDoc(n),o&&(t=i.propFix[t]||t,u=i.propHooks[t]),r!==undefined?u&&"set"in u&&(f=u.set(n,r,t))!==undefined?f:n[t]=r:u&&"get"in u&&(f=u.get(n,t))!==null?f:n[t]},propHooks:{tabIndex:{get:function(n){return n.hasAttribute("tabindex")||hu.test(n.nodeName)||n.href?n.tabIndex:-1}}}});f.optSelected||(i.propHooks.selected={get:function(n){var t=n.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}});i.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){i.propFix[this.toLowerCase()]=this});bt=/[\t\r\n\f]/g;i.fn.extend({addClass:function(n){var o,t,r,u,s,f,h=typeof n=="string"&&n,e=0,l=this.length;if(i.isFunction(n))return this.each(function(t){i(this).addClass(n.call(this,t,this.className))});if(h)for(o=(n||"").match(c)||[];e<l;e++)if(t=this[e],r=t.nodeType===1&&(t.className?(" "+t.className+" ").replace(bt," "):" "),r){for(s=0;u=o[s++];)r.indexOf(" "+u+" ")<0&&(r+=u+" ");f=i.trim(r);t.className!==f&&(t.className=f)}return this},removeClass:function(n){var o,t,r,u,s,f,h=arguments.length===0||typeof n=="string"&&n,e=0,l=this.length;if(i.isFunction(n))return this.each(function(t){i(this).removeClass(n.call(this,t,this.className))});if(h)for(o=(n||"").match(c)||[];e<l;e++)if(t=this[e],r=t.nodeType===1&&(t.className?(" "+t.className+" ").replace(bt," "):""),r){for(s=0;u=o[s++];)while(r.indexOf(" "+u+" ")>=0)r=r.replace(" "+u+" "," ");f=n?i.trim(r):"";t.className!==f&&(t.className=f)}return this},toggleClass:function(n,t){var u=typeof n;return typeof t=="boolean"&&u==="string"?t?this.addClass(n):this.removeClass(n):i.isFunction(n)?this.each(function(r){i(this).toggleClass(n.call(this,r,this.className,t),t)}):this.each(function(){if(u==="string")for(var t,e=0,f=i(this),o=n.match(c)||[];t=o[e++];)f.hasClass(t)?f.removeClass(t):f.addClass(t);else(u===b||u==="boolean")&&(this.className&&r.set(this,"__className__",this.className),this.className=this.className||n===!1?"":r.get(this,"__className__")||"")})},hasClass:function(n){for(var i=" "+n+" ",t=0,r=this.length;t<r;t++)if(this[t].nodeType===1&&(" "+this[t].className+" ").replace(bt," ").indexOf(i)>=0)return!0;return!1}});cu=/\r/g;i.fn.extend({val:function(n){var t,r,f,u=this[0];return arguments.length?(f=i.isFunction(n),this.each(function(r){var u;this.nodeType===1&&(u=f?n.call(this,r,i(this).val()):n,u==null?u="":typeof u=="number"?u+="":i.isArray(u)&&(u=i.map(u,function(n){return n==null?"":n+""})),t=i.valHooks[this.type]||i.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&t.set(this,u,"value")!==undefined||(this.value=u))})):u?(t=i.valHooks[u.type]||i.valHooks[u.nodeName.toLowerCase()],t&&"get"in t&&(r=t.get(u,"value"))!==undefined)?r:(r=u.value,typeof r=="string"?r.replace(cu,""):r==null?"":r):void 0}});i.extend({valHooks:{option:{get:function(n){var t=i.find.attr(n,"value");return t!=null?t:i.trim(i.text(n))}},select:{get:function(n){for(var o,t,s=n.options,r=n.selectedIndex,u=n.type==="select-one"||r<0,h=u?null:[],c=u?r+1:s.length,e=r<0?c:u?r:0;e<c;e++)if(t=s[e],(t.selected||e===r)&&(f.optDisabled?!t.disabled:t.getAttribute("disabled")===null)&&(!t.parentNode.disabled||!i.nodeName(t.parentNode,"optgroup"))){if(o=i(t).val(),u)return o;h.push(o)}return h},set:function(n,t){for(var u,r,f=n.options,e=i.makeArray(t),o=f.length;o--;)r=f[o],(r.selected=i.inArray(r.value,e)>=0)&&(u=!0);return u||(n.selectedIndex=-1),e}}}});i.each(["radio","checkbox"],function(){i.valHooks[this]={set:function(n,t){if(i.isArray(t))return n.checked=i.inArray(i(n).val(),t)>=0}};f.checkOn||(i.valHooks[this].get=function(n){return n.getAttribute("value")===null?"on":n.value})});i.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(n,t){i.fn[t]=function(n,i){return arguments.length>0?this.on(t,null,n,i):this.trigger(t)}});i.fn.extend({hover:function(n,t){return this.mouseenter(n).mouseleave(t||n)},bind:function(n,t,i){return this.on(n,null,t,i)},unbind:function(n,t){return this.off(n,null,t)},delegate:function(n,t,i,r){return this.on(t,n,i,r)},undelegate:function(n,t,i){return arguments.length===1?this.off(n,"**"):this.off(t,n||"**",i)}});kt=i.now();dt=/\?/;i.parseJSON=function(n){return JSON.parse(n+"")};i.parseXML=function(n){var t,r;if(!n||typeof n!="string")return null;try{r=new DOMParser;t=r.parseFromString(n,"text/xml")}catch(u){t=undefined}return(!t||t.getElementsByTagName("parsererror").length)&&i.error("Invalid XML: "+n),t};var se=/#.*$/,lu=/([?&])_=[^&]*/,he=/^(.*?):[ \t]*([^\r\n]*)$/mg,ce=/^(?:GET|HEAD)$/,le=/^\/\//,au=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,vu={},ci={},yu="*/".concat("*"),li=n.location.href,nt=au.exec(li.toLowerCase())||[];i.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:li,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(nt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":yu,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":i.parseJSON,"text xml":i.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(n,t){return t?ai(ai(n,i.ajaxSettings),t):ai(i.ajaxSettings,n)},ajaxPrefilter:pu(vu),ajaxTransport:pu(ci),ajax:function(n,t){function p(n,t,h,c){var v,it,tt,p,nt,l=t;e!==2&&(e=2,b&&clearTimeout(b),s=undefined,w=c||"",u.readyState=n>0?4:0,v=n>=200&&n<300||n===304,h&&(p=ae(r,u,h)),p=ve(r,p,u,v),v?(r.ifModified&&(nt=u.getResponseHeader("Last-Modified"),nt&&(i.lastModified[f]=nt),nt=u.getResponseHeader("etag"),nt&&(i.etag[f]=nt)),n===204||r.type==="HEAD"?l="nocontent":n===304?l="notmodified":(l=p.state,it=p.data,tt=p.error,v=!tt)):(tt=l,(n||!l)&&(l="error",n<0&&(n=0))),u.status=n,u.statusText=(t||l)+"",v?d.resolveWith(o,[it,l,u]):d.rejectWith(o,[u,l,tt]),u.statusCode(y),y=undefined,a&&k.trigger(v?"ajaxSuccess":"ajaxError",[u,r,v?it:tt]),g.fireWith(o,[u,l]),a&&(k.trigger("ajaxComplete",[u,r]),--i.active||i.event.trigger("ajaxStop")))}typeof n=="object"&&(t=n,n=undefined);t=t||{};var s,f,w,v,b,h,a,l,r=i.ajaxSetup({},t),o=r.context||r,k=r.context&&(o.nodeType||o.jquery)?i(o):i.event,d=i.Deferred(),g=i.Callbacks("once memory"),y=r.statusCode||{},tt={},it={},e=0,rt="canceled",u={readyState:0,getResponseHeader:function(n){var t;if(e===2){if(!v)for(v={};t=he.exec(w);)v[t[1].toLowerCase()]=t[2];t=v[n.toLowerCase()]}return t==null?null:t},getAllResponseHeaders:function(){return e===2?w:null},setRequestHeader:function(n,t){var i=n.toLowerCase();return e||(n=it[i]=it[i]||n,tt[n]=t),this},overrideMimeType:function(n){return e||(r.mimeType=n),this},statusCode:function(n){var t;if(n)if(e<2)for(t in n)y[t]=[y[t],n[t]];else u.always(n[u.status]);return this},abort:function(n){var t=n||rt;return s&&s.abort(t),p(0,t),this}};if(d.promise(u).complete=g.add,u.success=u.done,u.error=u.fail,r.url=((n||r.url||li)+"").replace(se,"").replace(le,nt[1]+"//"),r.type=t.method||t.type||r.method||r.type,r.dataTypes=i.trim(r.dataType||"*").toLowerCase().match(c)||[""],r.crossDomain==null&&(h=au.exec(r.url.toLowerCase()),r.crossDomain=!!(h&&(h[1]!==nt[1]||h[2]!==nt[2]||(h[3]||(h[1]==="http:"?"80":"443"))!==(nt[3]||(nt[1]==="http:"?"80":"443"))))),r.data&&r.processData&&typeof r.data!="string"&&(r.data=i.param(r.data,r.traditional)),wu(vu,r,t,u),e===2)return u;a=i.event&&r.global;a&&i.active++==0&&i.event.trigger("ajaxStart");r.type=r.type.toUpperCase();r.hasContent=!ce.test(r.type);f=r.url;r.hasContent||(r.data&&(f=r.url+=(dt.test(f)?"&":"?")+r.data,delete r.data),r.cache===!1&&(r.url=lu.test(f)?f.replace(lu,"$1_="+kt++):f+(dt.test(f)?"&":"?")+"_="+kt++));r.ifModified&&(i.lastModified[f]&&u.setRequestHeader("If-Modified-Since",i.lastModified[f]),i.etag[f]&&u.setRequestHeader("If-None-Match",i.etag[f]));(r.data&&r.hasContent&&r.contentType!==!1||t.contentType)&&u.setRequestHeader("Content-Type",r.contentType);u.setRequestHeader("Accept",r.dataTypes[0]&&r.accepts[r.dataTypes[0]]?r.accepts[r.dataTypes[0]]+(r.dataTypes[0]!=="*"?", "+yu+"; q=0.01":""):r.accepts["*"]);for(l in r.headers)u.setRequestHeader(l,r.headers[l]);if(r.beforeSend&&(r.beforeSend.call(o,u,r)===!1||e===2))return u.abort();rt="abort";for(l in{success:1,error:1,complete:1})u[l](r[l]);if(s=wu(ci,r,t,u),s){u.readyState=1;a&&k.trigger("ajaxSend",[u,r]);r.async&&r.timeout>0&&(b=setTimeout(function(){u.abort("timeout")},r.timeout));try{e=1;s.send(tt,p)}catch(ut){if(e<2)p(-1,ut);else throw ut;}}else p(-1,"No Transport");return u},getJSON:function(n,t,r){return i.get(n,t,r,"json")},getScript:function(n,t){return i.get(n,undefined,t,"script")}});i.each(["get","post"],function(n,t){i[t]=function(n,r,u,f){return i.isFunction(r)&&(f=f||u,u=r,r=undefined),i.ajax({url:n,type:t,dataType:f,data:r,success:u})}});i._evalUrl=function(n){return i.ajax({url:n,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})};i.fn.extend({wrapAll:function(n){var t;return i.isFunction(n)?this.each(function(t){i(this).wrapAll(n.call(this,t))}):(this[0]&&(t=i(n,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var n=this;n.firstElementChild;)n=n.firstElementChild;return n}).append(this)),this)},wrapInner:function(n){return i.isFunction(n)?this.each(function(t){i(this).wrapInner(n.call(this,t))}):this.each(function(){var t=i(this),r=t.contents();r.length?r.wrapAll(n):t.append(n)})},wrap:function(n){var t=i.isFunction(n);return this.each(function(r){i(this).wrapAll(t?n.call(this,r):n)})},unwrap:function(){return this.parent().each(function(){i.nodeName(this,"body")||i(this).replaceWith(this.childNodes)}).end()}});i.expr.filters.hidden=function(n){return n.offsetWidth<=0&&n.offsetHeight<=0};i.expr.filters.visible=function(n){return!i.expr.filters.hidden(n)};var ye=/%20/g,pe=/\[\]$/,bu=/\r?\n/g,we=/^(?:submit|button|image|reset|file)$/i,be=/^(?:input|select|textarea|keygen)/i;i.param=function(n,t){var r,u=[],f=function(n,t){t=i.isFunction(t)?t():t==null?"":t;u[u.length]=encodeURIComponent(n)+"="+encodeURIComponent(t)};if(t===undefined&&(t=i.ajaxSettings&&i.ajaxSettings.traditional),i.isArray(n)||n.jquery&&!i.isPlainObject(n))i.each(n,function(){f(this.name,this.value)});else for(r in n)vi(r,n[r],t,f);return u.join("&").replace(ye,"+")};i.fn.extend({serialize:function(){return i.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var n=i.prop(this,"elements");return n?i.makeArray(n):this}).filter(function(){var n=this.type;return this.name&&!i(this).is(":disabled")&&be.test(this.nodeName)&&!we.test(n)&&(this.checked||!er.test(n))}).map(function(n,t){var r=i(this).val();return r==null?null:i.isArray(r)?i.map(r,function(n){return{name:t.name,value:n.replace(bu,"\r\n")}}):{name:t.name,value:r.replace(bu,"\r\n")}}).get()}});i.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(n){}};var ke=0,gt={},de={0:200,1223:204},ut=i.ajaxSettings.xhr();return n.attachEvent&&n.attachEvent("onunload",function(){for(var n in gt)gt[n]()}),f.cors=!!ut&&"withCredentials"in ut,f.ajax=ut=!!ut,i.ajaxTransport(function(n){var t;if(f.cors||ut&&!n.crossDomain)return{send:function(i,r){var f,u=n.xhr(),e=++ke;if(u.open(n.type,n.url,n.async,n.username,n.password),n.xhrFields)for(f in n.xhrFields)u[f]=n.xhrFields[f];n.mimeType&&u.overrideMimeType&&u.overrideMimeType(n.mimeType);n.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(f in i)u.setRequestHeader(f,i[f]);t=function(n){return function(){t&&(delete gt[e],t=u.onload=u.onerror=null,n==="abort"?u.abort():n==="error"?r(u.status,u.statusText):r(de[u.status]||u.status,u.statusText,typeof u.responseText=="string"?{text:u.responseText}:undefined,u.getAllResponseHeaders()))}};u.onload=t();u.onerror=t("error");t=gt[e]=t("abort");try{u.send(n.hasContent&&n.data||null)}catch(o){if(t)throw o;}},abort:function(){t&&t()}}}),i.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(n){return i.globalEval(n),n}}}),i.ajaxPrefilter("script",function(n){n.cache===undefined&&(n.cache=!1);n.crossDomain&&(n.type="GET")}),i.ajaxTransport("script",function(n){if(n.crossDomain){var r,t;return{send:function(f,e){r=i("<script>").prop({async:!0,charset:n.scriptCharset,src:n.url}).on("load error",t=function(n){r.remove();t=null;n&&e(n.type==="error"?404:200,n.type)});u.head.appendChild(r[0])},abort:function(){t&&t()}}}}),yi=[],ni=/(=)\?(?=&|$)|\?\?/,i.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var n=yi.pop()||i.expando+"_"+kt++;return this[n]=!0,n}}),i.ajaxPrefilter("json jsonp",function(t,r,u){var f,o,e,s=t.jsonp!==!1&&(ni.test(t.url)?"url":typeof t.data=="string"&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&ni.test(t.data)&&"data");if(s||t.dataTypes[0]==="jsonp")return f=t.jsonpCallback=i.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(ni,"$1"+f):t.jsonp!==!1&&(t.url+=(dt.test(t.url)?"&":"?")+t.jsonp+"="+f),t.converters["script json"]=function(){return e||i.error(f+" was not called"),e[0]},t.dataTypes[0]="json",o=n[f],n[f]=function(){e=arguments},u.always(function(){n[f]=o;t[f]&&(t.jsonpCallback=r.jsonpCallback,yi.push(f));e&&i.isFunction(o)&&o(e[0]);e=o=undefined}),"script"}),i.parseHTML=function(n,t,r){if(!n||typeof n!="string")return null;typeof t=="boolean"&&(r=t,t=!1);t=t||u;var f=gi.exec(n),e=!r&&[];return f?[t.createElement(f[1])]:(f=i.buildFragment([n],t,e),e&&e.length&&i(e).remove(),i.merge([],f.childNodes))},pi=i.fn.load,i.fn.load=function(n,t,r){if(typeof n!="string"&&pi)return pi.apply(this,arguments);var u,o,s,f=this,e=n.indexOf(" ");return e>=0&&(u=i.trim(n.slice(e)),n=n.slice(0,e)),i.isFunction(t)?(r=t,t=undefined):t&&typeof t=="object"&&(o="POST"),f.length>0&&i.ajax({url:n,type:o,dataType:"html",data:t}).done(function(n){s=arguments;f.html(u?i("<div>").append(i.parseHTML(n)).find(u):n)}).complete(r&&function(n,t){f.each(r,s||[n.responseText,t,n])}),this},i.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(n,t){i.fn[t]=function(n){return this.on(t,n)}}),i.expr.filters.animated=function(n){return i.grep(i.timers,function(t){return n===t.elem}).length},wi=n.document.documentElement,i.offset={setOffset:function(n,t,r){var e,o,s,h,u,c,v,l=i.css(n,"position"),a=i(n),f={};l==="static"&&(n.style.position="relative");u=a.offset();s=i.css(n,"top");c=i.css(n,"left");v=(l==="absolute"||l==="fixed")&&(s+c).indexOf("auto")>-1;v?(e=a.position(),h=e.top,o=e.left):(h=parseFloat(s)||0,o=parseFloat(c)||0);i.isFunction(t)&&(t=t.call(n,r,u));t.top!=null&&(f.top=t.top-u.top+h);t.left!=null&&(f.left=t.left-u.left+o);"using"in t?t.using.call(n,f):a.css(f)}},i.fn.extend({offset:function(n){if(arguments.length)return n===undefined?this:this.each(function(t){i.offset.setOffset(this,n,t)});var r,f,t=this[0],u={top:0,left:0},e=t&&t.ownerDocument;if(e)return(r=e.documentElement,!i.contains(r,t))?u:(typeof t.getBoundingClientRect!==b&&(u=t.getBoundingClientRect()),f=ku(e),{top:u.top+f.pageYOffset-r.clientTop,left:u.left+f.pageXOffset-r.clientLeft})},position:function(){if(this[0]){var n,r,u=this[0],t={top:0,left:0};return i.css(u,"position")==="fixed"?r=u.getBoundingClientRect():(n=this.offsetParent(),r=this.offset(),i.nodeName(n[0],"html")||(t=n.offset()),t.top+=i.css(n[0],"borderTopWidth",!0),t.left+=i.css(n[0],"borderLeftWidth",!0)),{top:r.top-t.top-i.css(u,"marginTop",!0),left:r.left-t.left-i.css(u,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var n=this.offsetParent||wi;n&&!i.nodeName(n,"html")&&i.css(n,"position")==="static";)n=n.offsetParent;return n||wi})}}),i.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,r){var u="pageYOffset"===r;i.fn[t]=function(i){return l(this,function(t,i,f){var e=ku(t);if(f===undefined)return e?e[r]:t[i];e?e.scrollTo(u?n.pageXOffset:f,u?f:n.pageYOffset):t[i]=f},t,i,arguments.length,null)}}),i.each(["top","left"],function(n,t){i.cssHooks[t]=br(f.pixelPosition,function(n,r){if(r)return r=it(n,t),hi.test(r)?i(n).position()[t]+"px":r})}),i.each({Height:"height",Width:"width"},function(n,t){i.each({padding:"inner"+n,content:t,"":"outer"+n},function(r,u){i.fn[u]=function(u,f){var e=arguments.length&&(r||typeof u!="boolean"),o=r||(u===!0||f===!0?"margin":"border");return l(this,function(t,r,u){var f;return i.isWindow(t)?t.document.documentElement["client"+n]:t.nodeType===9?(f=t.documentElement,Math.max(t.body["scroll"+n],f["scroll"+n],t.body["offset"+n],f["offset"+n],f["client"+n])):u===undefined?i.css(t,r,o):i.style(t,r,u,o)},t,e?u:undefined,e,null)}})}),i.fn.size=function(){return this.length},i.fn.andSelf=i.fn.addBack,typeof define=="function"&&define.amd&&define("jquery",[],function(){return i}),du=n.jQuery,gu=n.$,i.noConflict=function(t){return n.$===i&&(n.$=gu),t&&n.jQuery===i&&(n.jQuery=du),i},typeof t===b&&(n.jQuery=n.$=i),i}),function(n){n.extend(n.fn,{validate:function(t){if(!this.length){t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.");return}var i=n.data(this[0],"validator");return i?i:(this.attr("novalidate","novalidate"),i=new n.validator(t,this[0]),n.data(this[0],"validator",i),i.settings.onsubmit&&(this.validateDelegate(":submit","click",function(t){i.settings.submitHandler&&(i.submitButton=t.target);n(t.target).hasClass("cancel")&&(i.cancelSubmit=!0);n(t.target).attr("formnovalidate")!==undefined&&(i.cancelSubmit=!0)}),this.submit(function(t){function r(){var r;return i.settings.submitHandler?(i.submitButton&&(r=n("<input type='hidden'/>").attr("name",i.submitButton.name).val(n(i.submitButton).val()).appendTo(i.currentForm)),i.settings.submitHandler.call(i,i.currentForm,t),i.submitButton&&r.remove(),!1):!0}return(i.settings.debug&&t.preventDefault(),i.cancelSubmit)?(i.cancelSubmit=!1,r()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):r():(i.focusInvalid(),!1)})),i)},valid:function(){if(n(this[0]).is("form"))return this.validate().form();var t=!0,i=n(this[0].form).validate();return this.each(function(){t=t&&i.element(this)}),t},removeAttrs:function(t){var i={},r=this;return n.each(t.split(/\s/),function(n,t){i[t]=r.attr(t);r.removeAttr(t)}),i},rules:function(t,i){var r=this[0],o,u,h;if(t){var e=n.data(r.form,"validator").settings,s=e.rules,f=n.validator.staticRules(r);switch(t){case"add":n.extend(f,n.validator.normalizeRule(i));delete f.messages;s[r.name]=f;i.messages&&(e.messages[r.name]=n.extend(e.messages[r.name],i.messages));break;case"remove":return i?(o={},n.each(i.split(/\s/),function(n,t){o[t]=f[t];delete f[t]}),o):(delete s[r.name],f)}}return u=n.validator.normalizeRules(n.extend({},n.validator.classRules(r),n.validator.attributeRules(r),n.validator.dataRules(r),n.validator.staticRules(r)),r),u.required&&(h=u.required,delete u.required,u=n.extend({required:h},u)),u}});n.extend(n.expr[":"],{blank:function(t){return!n.trim(""+n(t).val())},filled:function(t){return!!n.trim(""+n(t).val())},unchecked:function(t){return!n(t).prop("checked")}});n.validator=function(t,i){this.settings=n.extend(!0,{},n.validator.defaults,t);this.currentForm=i;this.init()};n.validator.format=function(t,i){return arguments.length===1?function(){var i=n.makeArray(arguments);return i.unshift(t),n.validator.format.apply(this,i)}:(arguments.length>2&&i.constructor!==Array&&(i=n.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),n.each(i,function(n,i){t=t.replace(new RegExp("\\{"+n+"\\}","g"),function(){return i})}),t)};n.extend(n.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:n([]),errorLabelContainer:n([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(n){this.lastActive=n;this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,n,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(n)).hide())},onfocusout:function(n){!this.checkable(n)&&(n.name in this.submitted||!this.optional(n))&&this.element(n)},onkeyup:function(n,t){(t.which!==9||this.elementValue(n)!=="")&&(n.name in this.submitted||n===this.lastElement)&&this.element(n)},onclick:function(n){n.name in this.submitted?this.element(n):n.parentNode.name in this.submitted&&this.element(n.parentNode)},highlight:function(t,i,r){t.type==="radio"?this.findByName(t.name).addClass(i).removeClass(r):n(t).addClass(i).removeClass(r)},unhighlight:function(t,i,r){t.type==="radio"?this.findByName(t.name).removeClass(i).addClass(r):n(t).removeClass(i).addClass(r)}},setDefaults:function(t){n.extend(n.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:n.validator.format("Please enter no more than {0} characters."),minlength:n.validator.format("Please enter at least {0} characters."),rangelength:n.validator.format("Please enter a value between {0} and {1} characters long."),range:n.validator.format("Please enter a value between {0} and {1}."),max:n.validator.format("Please enter a value less than or equal to {0}."),min:n.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function r(t){var i=n.data(this[0].form,"validator"),r="on"+t.type.replace(/^validate/,"");i.settings[r]&&i.settings[r].call(i,this[0],t)}var i,t;this.labelContainer=n(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||n(this.currentForm);this.containers=n(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();i=this.groups={};n.each(this.settings.groups,function(t,r){typeof r=="string"&&(r=r.split(/\s/));n.each(r,function(n,r){i[r]=t})});t=this.settings.rules;n.each(t,function(i,r){t[i]=n.validator.normalizeRule(r)});n(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",r).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",r);this.settings.invalidHandler&&n(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),n.extend(this.submitted,this.errorMap),this.invalid=n.extend({},this.errorMap),this.valid()||n(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var n=0,t=this.currentElements=this.elements();t[n];n++)this.check(t[n]);return this.valid()},element:function(t){t=this.validationTargetFor(this.clean(t));this.lastElement=t;this.prepareElement(t);this.currentElements=n(t);var i=this.check(t)!==!1;return i?delete this.invalid[t.name]:this.invalid[t.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),i},showErrors:function(t){if(t){n.extend(this.errorMap,t);this.errorList=[];for(var i in t)this.errorList.push({message:t[i],element:this.findByName(i)[0]});this.successList=n.grep(this.successList,function(n){return!(n.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){n.fn.resetForm&&n(this.currentForm).resetForm();this.submitted={};this.lastElement=null;this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass).removeData("previousValue")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(n){var t=0;for(var i in n)t++;return t},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return this.size()===0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{n(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var t=this.lastActive;return t&&n.grep(this.errorList,function(n){return n.element.name===t.name}).length===1&&t},elements:function(){var t=this,i={};return n(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return(!this.name&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in i||!t.objectLength(n(this).rules()))?!1:(i[this.name]=!0,!0)})},clean:function(t){return n(t)[0]},errors:function(){var t=this.settings.errorClass.replace(" ",".");return n(this.settings.errorElement+"."+t,this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=n([]);this.toHide=n([]);this.currentElements=n([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(n){this.reset();this.toHide=this.errorsFor(n)},elementValue:function(t){var r=n(t).attr("type"),i=n(t).val();return r==="radio"||r==="checkbox"?n("input[name='"+n(t).attr("name")+"']:checked").val():typeof i=="string"?i.replace(/\r/g,""):i},check:function(t){var r,u;t=this.validationTargetFor(this.clean(t));var f=n(t).rules(),e=!1,s=this.elementValue(t),i;for(r in f){u={method:r,parameters:f[r]};try{if(i=n.validator.methods[r].call(this,s,t,u.parameters),i==="dependency-mismatch"){e=!0;continue}if(e=!1,i==="pending"){this.toHide=this.toHide.not(this.errorsFor(t));return}if(!i)return this.formatAndAdd(t,u),!1}catch(o){this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+u.method+"' method.",o);throw o;}}if(!e)return this.objectLength(f)&&this.successList.push(t),!0},customDataMessage:function(t,i){return n(t).data("msg-"+i.toLowerCase())||t.attributes&&n(t).attr("data-msg-"+i.toLowerCase())},customMessage:function(n,t){var i=this.settings.messages[n];return i&&(i.constructor===String?i:i[t])},findDefined:function(){for(var n=0;n<arguments.length;n++)if(arguments[n]!==undefined)return arguments[n];return undefined},defaultMessage:function(t,i){return this.findDefined(this.customMessage(t.name,i),this.customDataMessage(t,i),!this.settings.ignoreTitle&&t.title||undefined,n.validator.messages[i],"<strong>Warning: No message defined for "+t.name+"<\/strong>")},formatAndAdd:function(t,i){var r=this.defaultMessage(t,i.method),u=/\$?\{(\d+)\}/g;typeof r=="function"?r=r.call(this,i.parameters,t):u.test(r)&&(r=n.validator.format(r.replace(u,"{$1}"),i.parameters));this.errorList.push({message:r,element:t});this.errorMap[t.name]=r;this.submitted[t.name]=r},addWrapper:function(n){return this.settings.wrapper&&(n=n.add(n.parent(this.settings.wrapper))),n},defaultShowErrors:function(){for(var i,t,n=0;this.errorList[n];n++)t=this.errorList[n],this.settings.highlight&&this.settings.highlight.call(this,t.element,this.settings.errorClass,this.settings.validClass),this.showLabel(t.element,t.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(n=0;this.successList[n];n++)this.showLabel(this.successList[n]);if(this.settings.unhighlight)for(n=0,i=this.validElements();i[n];n++)this.settings.unhighlight.call(this,i[n],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return n(this.errorList).map(function(){return this.element})},showLabel:function(t,i){var r=this.errorsFor(t);r.length?(r.removeClass(this.settings.validClass).addClass(this.settings.errorClass),r.html(i)):(r=n("<"+this.settings.errorElement+">").attr("for",this.idOrName(t)).addClass(this.settings.errorClass).html(i||""),this.settings.wrapper&&(r=r.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(r).length||(this.settings.errorPlacement?this.settings.errorPlacement(r,n(t)):r.insertAfter(t)));!i&&this.settings.success&&(r.text(""),typeof this.settings.success=="string"?r.addClass(this.settings.success):this.settings.success(r,t));this.toShow=this.toShow.add(r)},errorsFor:function(t){var i=this.idOrName(t);return this.errors().filter(function(){return n(this).attr("for")===i})},idOrName:function(n){return this.groups[n.name]||(this.checkable(n)?n.name:n.id||n.name)},validationTargetFor:function(n){return this.checkable(n)&&(n=this.findByName(n.name).not(this.settings.ignore)[0]),n},checkable:function(n){return/radio|checkbox/i.test(n.type)},findByName:function(t){return n(this.currentForm).find("[name='"+t+"']")},getLength:function(t,i){switch(i.nodeName.toLowerCase()){case"select":return n("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return t.length},depend:function(n,t){return this.dependTypes[typeof n]?this.dependTypes[typeof n](n,t):!0},dependTypes:{boolean:function(n){return n},string:function(t,i){return!!n(t,i.form).length},"function":function(n,t){return n(t)}},optional:function(t){var i=this.elementValue(t);return!n.validator.methods.required.call(this,i,t)&&"dependency-mismatch"},startRequest:function(n){this.pending[n.name]||(this.pendingRequest++,this.pending[n.name]=!0)},stopRequest:function(t,i){this.pendingRequest--;this.pendingRequest<0&&(this.pendingRequest=0);delete this.pending[t.name];i&&this.pendingRequest===0&&this.formSubmitted&&this.form()?(n(this.currentForm).submit(),this.formSubmitted=!1):!i&&this.pendingRequest===0&&this.formSubmitted&&(n(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t){return n.data(t,"previousValue")||n.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,i){t.constructor===String?this.classRuleSettings[t]=i:n.extend(this.classRuleSettings,t)},classRules:function(t){var i={},r=n(t).attr("class");return r&&n.each(r.split(" "),function(){this in n.validator.classRuleSettings&&n.extend(i,n.validator.classRuleSettings[this])}),i},attributeRules:function(t){var u={},e=n(t),f=e[0].getAttribute("type"),r,i;for(r in n.validator.methods)r==="required"?(i=e.get(0).getAttribute(r),i===""&&(i=!0),i=!!i):i=e.attr(r),/min|max/.test(r)&&(f===null||/number|range|text/.test(f))&&(i=Number(i)),i?u[r]=i:f===r&&f!=="range"&&(u[r]=!0);return u.maxlength&&/-1|2147483647|524288/.test(u.maxlength)&&delete u.maxlength,u},dataRules:function(t){var i,r,u={},f=n(t);for(i in n.validator.methods)r=f.data("rule-"+i.toLowerCase()),r!==undefined&&(u[i]=r);return u},staticRules:function(t){var i={},r=n.data(t.form,"validator");return r.settings.rules&&(i=n.validator.normalizeRule(r.settings.rules[t.name])||{}),i},normalizeRules:function(t,i){return n.each(t,function(r,u){if(u===!1){delete t[r];return}if(u.param||u.depends){var f=!0;switch(typeof u.depends){case"string":f=!!n(u.depends,i.form).length;break;case"function":f=u.depends.call(i,i)}f?t[r]=u.param!==undefined?u.param:!0:delete t[r]}}),n.each(t,function(r,u){t[r]=n.isFunction(u)?u(i):u}),n.each(["minlength","maxlength"],function(){t[this]&&(t[this]=Number(t[this]))}),n.each(["rangelength","range"],function(){var i;t[this]&&(n.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:typeof t[this]=="string"&&(i=t[this].split(/[\s,]+/),t[this]=[Number(i[0]),Number(i[1])]))}),n.validator.autoCreateRanges&&(t.min&&t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),t.minlength&&t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if(typeof t=="string"){var i={};n.each(t.split(/\s/),function(){i[this]=!0});t=i}return t},addMethod:function(t,i,r){n.validator.methods[t]=i;n.validator.messages[t]=r!==undefined?r:n.validator.messages[t];i.length<3&&n.validator.addClassRules(t,n.validator.normalizeRule(t))},methods:{required:function(t,i,r){if(!this.depend(r,i))return"dependency-mismatch";if(i.nodeName.toLowerCase()==="select"){var u=n(i).val();return u&&u.length>0}return this.checkable(i)?this.getLength(t,i)>0:n.trim(t).length>0},email:function(n,t){return this.optional(t)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(n)},url:function(n,t){return this.optional(t)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(n)},date:function(n,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(n))||/^(\d+)\/(\d+)\/(\d{2,})$/.test(n)||/^(\d+)\.(\d+)\.(\d{2,})$/.test(n)},dateISO:function(n,t){return this.optional(t)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(n)},number:function(n,t){return this.optional(t)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(n)},digits:function(n,t){return this.optional(t)||/^\d+$/.test(n)},creditcard:function(n,t){var r,e;if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(n))return!1;var f=0,i=0,u=!1;for(n=n.replace(/\D/g,""),r=n.length-1;r>=0;r--)e=n.charAt(r),i=parseInt(e,10),u&&(i*=2)>9&&(i-=9),f+=i,u=!u;return f%10==0},minlength:function(t,i,r){var u=n.isArray(t)?t.length:this.getLength(n.trim(t),i);return this.optional(i)||u>=r},maxlength:function(t,i,r){var u=n.isArray(t)?t.length:this.getLength(n.trim(t),i);return this.optional(i)||u<=r},rangelength:function(t,i,r){var u=n.isArray(t)?t.length:this.getLength(n.trim(t),i);return this.optional(i)||u>=r[0]&&u<=r[1]},min:function(n,t,i){return this.optional(t)||n>=i},max:function(n,t,i){return this.optional(t)||n<=i},range:function(n,t,i){return this.optional(t)||n>=i[0]&&n<=i[1]},equalTo:function(t,i,r){var u=n(r);return this.settings.onfocusout&&u.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){n(i).valid()}),t===u.val()},remote:function(t,i,r){var f,u,e;return this.optional(i)?"dependency-mismatch":(f=this.previousValue(i),this.settings.messages[i.name]||(this.settings.messages[i.name]={}),f.originalMessage=this.settings.messages[i.name].remote,this.settings.messages[i.name].remote=f.message,r=typeof r=="string"&&{url:r}||r,f.old===t)?f.valid:(f.old=t,u=this,this.startRequest(i),e={},e[i.name]=t,n.ajax(n.extend(!0,{url:r,mode:"abort",port:"validate"+i.name,dataType:"json",data:e,success:function(r){var e,h,s,o;u.settings.messages[i.name].remote=f.originalMessage;e=r===!0||r==="true";e?(h=u.formSubmitted,u.prepareElement(i),u.formSubmitted=h,u.successList.push(i),delete u.invalid[i.name],u.showErrors()):(s={},o=r||u.defaultMessage(i,"remote"),s[i.name]=f.message=n.isFunction(o)?o(t):o,u.invalid[i.name]=!0,u.showErrors(s));f.valid=e;u.stopRequest(i,e)}},r)),"pending")}}});n.format=n.validator.format}(jQuery),function(n){var t={},i;n.ajaxPrefilter?n.ajaxPrefilter(function(n,i,r){var u=n.port;n.mode==="abort"&&(t[u]&&t[u].abort(),t[u]=r)}):(i=n.ajax,n.ajax=function(r){var f=("mode"in r?r:n.ajaxSettings).mode,u=("port"in r?r:n.ajaxSettings).port;return f==="abort"?(t[u]&&t[u].abort(),t[u]=i.apply(this,arguments),t[u]):i.apply(this,arguments)})}(jQuery),function(n){n.extend(n.fn,{validateDelegate:function(t,i,r){return this.bind(i,function(i){var u=n(i.target);if(u.is(t))return r.apply(u,arguments)})}})}(jQuery),function(n){function i(n,t,i){n.rules[t]=i;n.message&&(n.messages[t]=n.message)}function h(n){return n.replace(/^\s+|\s+$/g,"").split(/\s*,\s*/g)}function f(n){return n.replace(/([!"#$%&'()*+,./:;<=>?@\[\\\]^`{|}~])/g,"\\$1")}function e(n){return n.substr(0,n.lastIndexOf(".")+1)}function o(n,t){return n.indexOf("*.")===0&&(n=n.replace("*.",t)),n}function c(t,i){var r=n(this).find("[data-valmsg-for='"+f(i[0].name)+"']"),u=r.attr("data-valmsg-replace"),e=u?n.parseJSON(u)!==!1:null;r.removeClass("field-validation-valid").addClass("field-validation-error");t.data("unobtrusiveContainer",r);e?(r.empty(),t.removeClass("input-validation-error").appendTo(r)):t.hide()}function l(t,i){var u=n(this).find("[data-valmsg-summary=true]"),r=u.find("ul");r&&r.length&&i.errorList.length&&(r.empty(),u.addClass("validation-summary-errors").removeClass("validation-summary-valid"),n.each(i.errorList,function(){n("<li />").html(this.message).appendTo(r)}))}function a(t){var i=t.data("unobtrusiveContainer"),r=i.attr("data-valmsg-replace"),u=r?n.parseJSON(r):null;i&&(i.addClass("field-validation-valid").removeClass("field-validation-error"),t.removeData("unobtrusiveContainer"),u&&i.empty())}function v(){var t=n(this);t.data("validator").resetForm();t.find(".validation-summary-errors").addClass("validation-summary-valid").removeClass("validation-summary-errors");t.find(".field-validation-error").addClass("field-validation-valid").removeClass("field-validation-error").removeData("unobtrusiveContainer").find(">*").removeData("unobtrusiveContainer")}function s(t){var i=n(t),r=i.data(u),f=n.proxy(v,t);return r||(r={options:{errorClass:"input-validation-error",errorElement:"span",errorPlacement:n.proxy(c,t),invalidHandler:n.proxy(l,t),messages:{},rules:{},success:n.proxy(a,t)},attachValidation:function(){i.unbind("reset."+u,f).bind("reset."+u,f).validate(this.options)},validate:function(){return i.validate(),i.valid()}},i.data(u,r)),r}var r=n.validator,t,u="unobtrusiveValidation";r.unobtrusive={adapters:[],parseElement:function(t,i){var u=n(t),f=u.parents("form")[0],r,e,o;f&&(r=s(f),r.options.rules[t.name]=e={},r.options.messages[t.name]=o={},n.each(this.adapters,function(){var i="data-val-"+this.name,r=u.attr(i),s={};r!==undefined&&(i+="-",n.each(this.params,function(){s[this]=u.attr(i+this)}),this.adapt({element:t,form:f,message:r,params:s,rules:e,messages:o}))}),n.extend(e,{__dummy__:!0}),i||r.attachValidation())},parse:function(t){var i=n(t).parents("form").andSelf().add(n(t).find("form")).filter("form");n(t).find(":input").filter("[data-val=true]").each(function(){r.unobtrusive.parseElement(this,!0)});i.each(function(){var n=s(this);n&&n.attachValidation()})}};t=r.unobtrusive.adapters;t.add=function(n,t,i){return i||(i=t,t=[]),this.push({name:n,params:t,adapt:i}),this};t.addBool=function(n,t){return this.add(n,function(r){i(r,t||n,!0)})};t.addMinMax=function(n,t,r,u,f,e){return this.add(n,[f||"min",e||"max"],function(n){var f=n.params.min,e=n.params.max;f&&e?i(n,u,[f,e]):f?i(n,t,f):e&&i(n,r,e)})};t.addSingleVal=function(n,t,r){return this.add(n,[t||"val"],function(u){i(u,r||n,u.params[t])})};r.addMethod("__dummy__",function(){return!0});r.addMethod("regex",function(n,t,i){var r;return this.optional(t)?!0:(r=new RegExp(i).exec(n),r&&r.index===0&&r[0].length===n.length)});r.addMethod("nonalphamin",function(n,t,i){var r;return i&&(r=n.match(/\W/g),r=r&&r.length>=i),r});r.methods.extension?(t.addSingleVal("accept","mimtype"),t.addSingleVal("extension","extension")):t.addSingleVal("extension","extension","accept");t.addSingleVal("regex","pattern");t.addBool("creditcard").addBool("date").addBool("digits").addBool("email").addBool("number").addBool("url");t.addMinMax("length","minlength","maxlength","rangelength").addMinMax("range","min","max","range");t.add("equalto",["other"],function(t){var r=e(t.element.name),u=t.params.other,s=o(u,r),h=n(t.form).find(":input").filter("[name='"+f(s)+"']")[0];i(t,"equalTo",h)});t.add("required",function(n){(n.element.tagName.toUpperCase()!=="INPUT"||n.element.type.toUpperCase()!=="CHECKBOX")&&i(n,"required",!0)});t.add("remote",["url","type","additionalfields"],function(t){var r={url:t.params.url,type:t.params.type||"GET",data:{}},u=e(t.element.name);n.each(h(t.params.additionalfields||t.element.name),function(i,e){var s=o(e,u);r.data[s]=function(){return n(t.form).find(":input").filter("[name='"+f(s)+"']").val()}});i(t,"remote",r)});t.add("password",["min","nonalphamin","regex"],function(n){n.params.min&&i(n,"minlength",n.params.min);n.params.nonalphamin&&i(n,"nonalphamin",n.params.nonalphamin);n.params.regex&&i(n,"regex",n.params.regex)});n(function(){r.unobtrusive.parse(document)})}(jQuery),function(n){typeof define=="function"&&define.amd?define(["jquery"],n):typeof exports=="object"?n(require("jquery")):n(jQuery)}(function(n){function i(n){return t.raw?n:encodeURIComponent(n)}function f(n){return t.raw?n:decodeURIComponent(n)}function e(n){return i(t.json?JSON.stringify(n):String(n))}function o(n){n.indexOf('"')===0&&(n=n.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return n=decodeURIComponent(n.replace(u," ")),t.json?JSON.parse(n):n}catch(i){}}function r(i,r){var u=t.raw?i:o(i);return n.isFunction(r)?r(u):u}var u=/\+/g,t=n.cookie=function(u,o,s){var y,a,h,v,c,p;if(o!==undefined&&!n.isFunction(o))return s=n.extend({},t.defaults,s),typeof s.expires=="number"&&(y=s.expires,a=s.expires=new Date,a.setTime(+a+y*864e5)),document.cookie=[i(u),"=",e(o),s.expires?"; expires="+s.expires.toUTCString():"",s.path?"; path="+s.path:"",s.domain?"; domain="+s.domain:"",s.secure?"; secure":""].join("");for(h=u?undefined:{},v=document.cookie?document.cookie.split("; "):[],c=0,p=v.length;c<p;c++){var w=v[c].split("="),b=f(w.shift()),l=w.join("=");if(u&&u===b){h=r(l,o);break}u||(l=r(l))===undefined||(h[b]=l)}return h};t.defaults={};n.removeCookie=function(t,i){return n.cookie(t)===undefined?!1:(n.cookie(t,"",n.extend({},i,{expires:-1})),!n.cookie(t))}}),function(){var t=[].indexOf||function(n){for(var t=0,i=this.length;t<i;t++)if(t in this&&this[t]===n)return t;return-1},n=[].slice;(function(n,t){return typeof define=="function"&&define.amd?define("waypoints",["jquery"],function(i){return t(i,n)}):t(n.jQuery,n)})(this,function(i,r){var a,b,v,o,k,h,s,y,u,f,p,w,d,l,c,e;return a=i(r),y=t.call(r,"ontouchstart")>=0,o={horizontal:{},vertical:{}},k=1,s={},h="waypoints-context-id",p="resize.waypoints",w="scroll.waypoints",d=1,l="waypoints-waypoint-ids",c="waypoint",e="waypoints",b=function(){function n(n){var t=this;this.$element=n;this.element=n[0];this.didResize=!1;this.didScroll=!1;this.id="context"+k++;this.oldScroll={x:n.scrollLeft(),y:n.scrollTop()};this.waypoints={horizontal:{},vertical:{}};this.element[h]=this.id;s[this.id]=this;n.bind(w,function(){var n;if(!(t.didScroll||y))return t.didScroll=!0,n=function(){return t.doScroll(),t.didScroll=!1},r.setTimeout(n,i[e].settings.scrollThrottle)});n.bind(p,function(){var n;if(!t.didResize)return t.didResize=!0,n=function(){return i[e]("refresh"),t.didResize=!1},r.setTimeout(n,i[e].settings.resizeThrottle)})}return n.prototype.doScroll=function(){var n,t=this;return n={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}},!y||n.vertical.oldScroll&&n.vertical.newScroll||i[e]("refresh"),i.each(n,function(n,r){var e,f,u;return u=[],f=r.newScroll>r.oldScroll,e=f?r.forward:r.backward,i.each(t.waypoints[n],function(n,t){var i,f;return r.oldScroll<(i=t.offset)&&i<=r.newScroll?u.push(t):r.newScroll<(f=t.offset)&&f<=r.oldScroll?u.push(t):void 0}),u.sort(function(n,t){return n.offset-t.offset}),f||u.reverse(),i.each(u,function(n,t){if(t.options.continuous||n===u.length-1)return t.trigger([e])})}),this.oldScroll={x:n.horizontal.newScroll,y:n.vertical.newScroll}},n.prototype.refresh=function(){var r,t,n,u=this;return n=i.isWindow(this.element),t=this.$element.offset(),this.doScroll(),r={horizontal:{contextOffset:n?0:t.left,contextScroll:n?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:n?0:t.top,contextScroll:n?0:this.oldScroll.y,contextDimension:n?i[e]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}},i.each(r,function(n,t){return i.each(u.waypoints[n],function(n,r){var u,e,f,o,s;if(u=r.options.offset,f=r.offset,e=i.isWindow(r.element)?0:r.$element.offset()[t.offsetProp],i.isFunction(u)?u=u.apply(r.element):typeof u=="string"&&(u=parseFloat(u),r.options.offset.indexOf("%")>-1&&(u=Math.ceil(t.contextDimension*u/100))),r.offset=e-t.contextOffset+t.contextScroll-u,(!r.options.onlyOnScroll||f==null)&&r.enabled)return f!==null&&f<(o=t.oldScroll)&&o<=r.offset?r.trigger([t.backward]):f!==null&&f>(s=t.oldScroll)&&s>=r.offset?r.trigger([t.forward]):f===null&&t.oldScroll>=r.offset?r.trigger([t.forward]):void 0})})},n.prototype.checkEmpty=function(){if(i.isEmptyObject(this.waypoints.horizontal)&&i.isEmptyObject(this.waypoints.vertical))return this.$element.unbind([p,w].join(" ")),delete s[this.id]},n}(),v=function(){function n(n,t,r){var u,f;r=i.extend({},i.fn[c].defaults,r);r.offset==="bottom-in-view"&&(r.offset=function(){var n;return n=i[e]("viewportHeight"),i.isWindow(t.element)||(n=t.$element.height()),n-i(this).outerHeight()});this.$element=n;this.element=n[0];this.axis=r.horizontal?"horizontal":"vertical";this.callback=r.handler;this.context=t;this.enabled=r.enabled;this.id="waypoints"+d++;this.offset=null;this.options=r;t.waypoints[this.axis][this.id]=this;o[this.axis][this.id]=this;u=(f=this.element[l])!=null?f:[];u.push(this.id);this.element[l]=u}return n.prototype.trigger=function(n){if(this.enabled)return this.callback!=null&&this.callback.apply(this.element,n),this.options.triggerOnce?this.destroy():void 0},n.prototype.disable=function(){return this.enabled=!1},n.prototype.enable=function(){return this.context.refresh(),this.enabled=!0},n.prototype.destroy=function(){return delete o[this.axis][this.id],delete this.context.waypoints[this.axis][this.id],this.context.checkEmpty()},n.getWaypointsByElement=function(n){var r,t;return(t=n[l],!t)?[]:(r=i.extend({},o.horizontal,o.vertical),i.map(t,function(n){return r[n]}))},n}(),f={init:function(n,t){var r;return t==null&&(t={}),(r=t.handler)==null&&(t.handler=n),this.each(function(){var u,r,n,f;return u=i(this),n=(f=t.context)!=null?f:i.fn[c].defaults.context,i.isWindow(n)||(n=u.closest(n)),n=i(n),r=s[n[0][h]],r||(r=new b(n)),new v(u,r,t)}),i[e]("refresh"),this},disable:function(){return f._invoke.call(this,"disable")},enable:function(){return f._invoke.call(this,"enable")},destroy:function(){return f._invoke.call(this,"destroy")},prev:function(n,t){return f._traverse.call(this,n,t,function(n,t,i){if(t>0)return n.push(i[t-1])})},next:function(n,t){return f._traverse.call(this,n,t,function(n,t,i){if(t<i.length-1)return n.push(i[t+1])})},_traverse:function(n,t,f){var e,o;return n==null&&(n="vertical"),t==null&&(t=r),o=u.aggregate(t),e=[],this.each(function(){var t;return t=i.inArray(this,o[n]),f(e,t,o[n])}),this.pushStack(e)},_invoke:function(n){return this.each(function(){var t;return t=v.getWaypointsByElement(this),i.each(t,function(t,i){return i[n](),!0})}),this}},i.fn[c]=function(){var r,t;return t=arguments[0],r=2<=arguments.length?n.call(arguments,1):[],f[t]?f[t].apply(this,r):i.isFunction(t)?f.init.apply(this,arguments):i.isPlainObject(t)?f.init.apply(this,[null,t]):t?i.error("The "+t+" method does not exist in jQuery Waypoints."):i.error("jQuery Waypoints needs a callback function or handler option.")},i.fn[c].defaults={context:r,continuous:!0,enabled:!0,horizontal:!1,offset:0,triggerOnce:!1},u={refresh:function(){return i.each(s,function(n,t){return t.refresh()})},viewportHeight:function(){var n;return(n=r.innerHeight)!=null?n:a.height()},aggregate:function(n){var r,t,u;return(r=o,n&&(r=(u=s[i(n)[0][h]])!=null?u.waypoints:void 0),!r)?[]:(t={horizontal:[],vertical:[]},i.each(t,function(n,u){return i.each(r[n],function(n,t){return u.push(t)}),u.sort(function(n,t){return n.offset-t.offset}),t[n]=i.map(u,function(n){return n.element}),t[n]=i.unique(t[n])}),t)},above:function(n){return n==null&&(n=r),u._filter(n,"vertical",function(n,t){return t.offset<=n.oldScroll.y})},below:function(n){return n==null&&(n=r),u._filter(n,"vertical",function(n,t){return t.offset>n.oldScroll.y})},left:function(n){return n==null&&(n=r),u._filter(n,"horizontal",function(n,t){return t.offset<=n.oldScroll.x})},right:function(n){return n==null&&(n=r),u._filter(n,"horizontal",function(n,t){return t.offset>n.oldScroll.x})},enable:function(){return u._invoke("enable")},disable:function(){return u._invoke("disable")},destroy:function(){return u._invoke("destroy")},extendFn:function(n,t){return f[n]=t},_invoke:function(n){var t;return t=i.extend({},o.vertical,o.horizontal),i.each(t,function(t,i){return i[n](),!0})},_filter:function(n,t,r){var u,f;return(u=s[i(n)[0][h]],!u)?[]:(f=[],i.each(u.waypoints[t],function(n,t){if(r(u,t))return f.push(t)}),f.sort(function(n,t){return n.offset-t.offset}),i.map(f,function(n){return n.element}))}},i[e]=function(){var i,t;return t=arguments[0],i=2<=arguments.length?n.call(arguments,1):[],u[t]?u[t].apply(null,i):u.aggregate.call(null,t)},i[e].settings={resizeThrottle:100,scrollThrottle:30},a.load(function(){return i[e]("refresh")})})}.call(this);Array.prototype.map||Object.defineProperty(Array.prototype,"map",{enumerable:!1,value:function(n){var r=this.length,i,u,t;if(typeof n!="function")throw new TypeError;for(i=new Array(r),u=arguments[1],t=0;t<r;t++)t in this&&(i[t]=n.call(u,this[t],t,this));return i}});Object.defineProperty(Array.prototype,"mergeAll",{enumerable:!1,value:function(){var n=[];return this.forEach(function(t){n.push.apply(n,t)}),n}});+function(n){"use strict";function u(i){return this.each(function(){var r=n(this),u=r.data("bs.alert");u||r.data("bs.alert",u=new t(this));typeof i=="string"&&u[i].call(r)})}var i='[data-dismiss="alert"]',t=function(t){n(t).on("click",i,this.close)},r;t.VERSION="3.3.5";t.TRANSITION_DURATION=150;t.prototype.close=function(i){function e(){r.detach().trigger("closed.bs.alert").remove()}var f=n(this),u=f.attr("data-target"),r;(u||(u=f.attr("href"),u=u&&u.replace(/.*(?=#[^\s]*$)/,"")),r=n(u),i&&i.preventDefault(),r.length||(r=f.closest(".alert")),r.trigger(i=n.Event("close.bs.alert")),i.isDefaultPrevented())||(r.removeClass("in"),n.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",e).emulateTransitionEnd(t.TRANSITION_DURATION):e())};r=n.fn.alert;n.fn.alert=u;n.fn.alert.Constructor=t;n.fn.alert.noConflict=function(){return n.fn.alert=r,this};n(document).on("click.bs.alert.data-api",i,t.prototype.close)}(jQuery);+function(n){"use strict";function i(i){return this.each(function(){var u=n(this),r=u.data("bs.button"),f=typeof i=="object"&&i;r||u.data("bs.button",r=new t(this,f));i=="toggle"?r.toggle():i&&r.setState(i)})}var t=function(i,r){this.$element=n(i);this.options=n.extend({},t.DEFAULTS,r);this.isLoading=!1},r;t.VERSION="3.3.5";t.DEFAULTS={loadingText:"loading..."};t.prototype.setState=function(t){var r="disabled",i=this.$element,f=i.is("input")?"val":"html",u=i.data();t+="Text";u.resetText==null&&i.data("resetText",i[f]());setTimeout(n.proxy(function(){i[f](u[t]==null?this.options[t]:u[t]);t=="loadingText"?(this.isLoading=!0,i.addClass(r).attr(r,r)):this.isLoading&&(this.isLoading=!1,i.removeClass(r).removeAttr(r))},this),0)};t.prototype.toggle=function(){var t=!0,i=this.$element.closest('[data-toggle="buttons"]'),n;i.length?(n=this.$element.find("input"),n.prop("type")=="radio"?(n.prop("checked")&&(t=!1),i.find(".active").removeClass("active"),this.$element.addClass("active")):n.prop("type")=="checkbox"&&(n.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),t&&n.trigger("change")):(this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active"))};r=n.fn.button;n.fn.button=i;n.fn.button.Constructor=t;n.fn.button.noConflict=function(){return n.fn.button=r,this};n(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(t){var r=n(t.target);r.hasClass("btn")||(r=r.closest(".btn"));i.call(r,"toggle");n(t.target).is('input[type="radio"]')||n(t.target).is('input[type="checkbox"]')||t.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){n(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery);+function(n){"use strict";function r(t){var i,r=t.attr("data-target")||(i=t.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return n(r)}function i(i){return this.each(function(){var u=n(this),r=u.data("bs.collapse"),f=n.extend({},t.DEFAULTS,u.data(),typeof i=="object"&&i);!r&&f.toggle&&/show|hide/.test(i)&&(f.toggle=!1);r||u.data("bs.collapse",r=new t(this,f));typeof i=="string"&&r[i]()})}var t=function(i,r){this.$element=n(i);this.options=n.extend({},t.DEFAULTS,r);this.$trigger=n('[data-toggle="collapse"][href="#'+i.id+'"],[data-toggle="collapse"][data-target="#'+i.id+'"]');this.transitioning=null;this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger);this.options.toggle&&this.toggle()},u;t.VERSION="3.3.5";t.TRANSITION_DURATION=350;t.DEFAULTS={toggle:!0};t.prototype.dimension=function(){var n=this.$element.hasClass("width");return n?"width":"height"};t.prototype.show=function(){var f,r,e,u,o,s;if(!this.transitioning&&!this.$element.hasClass("in")&&(r=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing"),!r||!r.length||(f=r.data("bs.collapse"),!f||!f.transitioning))&&(e=n.Event("show.bs.collapse"),this.$element.trigger(e),!e.isDefaultPrevented())){if(r&&r.length&&(i.call(r,"hide"),f||r.data("bs.collapse",null)),u=this.dimension(),this.$element.removeClass("collapse").addClass("collapsing")[u](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1,o=function(){this.$element.removeClass("collapsing").addClass("collapse in")[u]("");this.transitioning=0;this.$element.trigger("shown.bs.collapse")},!n.support.transition)return o.call(this);s=n.camelCase(["scroll",u].join("-"));this.$element.one("bsTransitionEnd",n.proxy(o,this)).emulateTransitionEnd(t.TRANSITION_DURATION)[u](this.$element[0][s])}};t.prototype.hide=function(){var r,i,u;if(!this.transitioning&&this.$element.hasClass("in")&&(r=n.Event("hide.bs.collapse"),this.$element.trigger(r),!r.isDefaultPrevented())){if(i=this.dimension(),this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1,u=function(){this.transitioning=0;this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")},!n.support.transition)return u.call(this);this.$element[i](0).one("bsTransitionEnd",n.proxy(u,this)).emulateTransitionEnd(t.TRANSITION_DURATION)}};t.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};t.prototype.getParent=function(){return n(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(n.proxy(function(t,i){var u=n(i);this.addAriaAndCollapsedClass(r(u),u)},this)).end()};t.prototype.addAriaAndCollapsedClass=function(n,t){var i=n.hasClass("in");n.attr("aria-expanded",i);t.toggleClass("collapsed",!i).attr("aria-expanded",i)};u=n.fn.collapse;n.fn.collapse=i;n.fn.collapse.Constructor=t;n.fn.collapse.noConflict=function(){return n.fn.collapse=u,this};n(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){var u=n(this);u.attr("data-target")||t.preventDefault();var f=r(u),e=f.data("bs.collapse"),o=e?"toggle":u.data();i.call(f,o)})}(jQuery);+function(n){"use strict";function r(t){var i=t.attr("data-target"),r;return i||(i=t.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,"")),r=i&&n(i),r&&r.length?r:t.parent()}function u(t){t&&t.which===3||(n(e).remove(),n(i).each(function(){var u=n(this),i=r(u),f={relatedTarget:this};i.hasClass("open")&&(t&&t.type=="click"&&/input|textarea/i.test(t.target.tagName)&&n.contains(i[0],t.target)||(i.trigger(t=n.Event("hide.bs.dropdown",f)),t.isDefaultPrevented())||(u.attr("aria-expanded","false"),i.removeClass("open").trigger("hidden.bs.dropdown",f)))}))}function o(i){return this.each(function(){var r=n(this),u=r.data("bs.dropdown");u||r.data("bs.dropdown",u=new t(this));typeof i=="string"&&u[i].call(r)})}var e=".dropdown-backdrop",i='[data-toggle="dropdown"]',t=function(t){n(t).on("click.bs.dropdown",this.toggle)},f;t.VERSION="3.3.5";t.prototype.toggle=function(t){var f=n(this),i,o,e;if(!f.is(".disabled, :disabled")){if(i=r(f),o=i.hasClass("open"),u(),!o){if("ontouchstart"in document.documentElement&&!i.closest(".navbar-nav").length)n(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(n(this)).on("click",u);if(e={relatedTarget:this},i.trigger(t=n.Event("show.bs.dropdown",e)),t.isDefaultPrevented())return;f.trigger("focus").attr("aria-expanded","true");i.toggleClass("open").trigger("shown.bs.dropdown",e)}return!1}};t.prototype.keydown=function(t){var e,o,s,h,f,u;if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)&&(e=n(this),t.preventDefault(),t.stopPropagation(),!e.is(".disabled, :disabled"))){if(o=r(e),s=o.hasClass("open"),!s&&t.which!=27||s&&t.which==27)return t.which==27&&o.find(i).trigger("focus"),e.trigger("click");(h=" li:not(.disabled):visible a",f=o.find(".dropdown-menu"+h),f.length)&&(u=f.index(t.target),t.which==38&&u>0&&u--,t.which==40&&u<f.length-1&&u++,~u||(u=0),f.eq(u).trigger("focus"))}};f=n.fn.dropdown;n.fn.dropdown=o;n.fn.dropdown.Constructor=t;n.fn.dropdown.noConflict=function(){return n.fn.dropdown=f,this};n(document).on("click.bs.dropdown.data-api",u).on("click.bs.dropdown.data-api",".dropdown form",function(n){n.stopPropagation()}).on("click.bs.dropdown.data-api",i,t.prototype.toggle).on("keydown.bs.dropdown.data-api",i,t.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",t.prototype.keydown)}(jQuery);+function(n){"use strict";function i(i,r){return this.each(function(){var f=n(this),u=f.data("bs.modal"),e=n.extend({},t.DEFAULTS,f.data(),typeof i=="object"&&i);u||f.data("bs.modal",u=new t(this,e));typeof i=="string"?u[i](r):e.show&&u.show(r)})}var t=function(t,i){this.options=i;this.$body=n(document.body);this.$element=n(t);this.$dialog=this.$element.find(".modal-dialog");this.$backdrop=null;this.isShown=null;this.originalBodyPad=null;this.scrollbarWidth=0;this.ignoreBackdropClick=!1;this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,n.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))},r;t.VERSION="3.3.5";t.TRANSITION_DURATION=300;t.BACKDROP_TRANSITION_DURATION=150;t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0};t.prototype.toggle=function(n){return this.isShown?this.hide():this.show(n)};t.prototype.show=function(i){var r=this,u=n.Event("show.bs.modal",{relatedTarget:i});if(this.$element.trigger(u),!this.isShown&&!u.isDefaultPrevented()){this.isShown=!0;this.checkScrollbar();this.setScrollbar();this.$body.addClass("modal-open");this.escape();this.resize();this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',n.proxy(this.hide,this));this.$dialog.on("mousedown.dismiss.bs.modal",function(){r.$element.one("mouseup.dismiss.bs.modal",function(t){n(t.target).is(r.$element)&&(r.ignoreBackdropClick=!0)})});this.backdrop(function(){var f=n.support.transition&&r.$element.hasClass("fade"),u;r.$element.parent().length||r.$element.appendTo(r.$body);r.$element.show().scrollTop(0);r.adjustDialog();f&&r.$element[0].offsetWidth;r.$element.addClass("in");r.enforceFocus();u=n.Event("shown.bs.modal",{relatedTarget:i});f?r.$dialog.one("bsTransitionEnd",function(){r.$element.trigger("focus").trigger(u)}).emulateTransitionEnd(t.TRANSITION_DURATION):r.$element.trigger("focus").trigger(u)})}};t.prototype.hide=function(i){(i&&i.preventDefault(),i=n.Event("hide.bs.modal"),this.$element.trigger(i),this.isShown&&!i.isDefaultPrevented())&&(this.isShown=!1,this.escape(),this.resize(),n(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),n.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",n.proxy(this.hideModal,this)).emulateTransitionEnd(t.TRANSITION_DURATION):this.hideModal())};t.prototype.enforceFocus=function(){n(document).off("focusin.bs.modal").on("focusin.bs.modal",n.proxy(function(n){this.$element[0]===n.target||this.$element.has(n.target).length||this.$element.trigger("focus")},this))};t.prototype.escape=function(){if(this.isShown&&this.options.keyboard)this.$element.on("keydown.dismiss.bs.modal",n.proxy(function(n){n.which==27&&this.hide()},this));else this.isShown||this.$element.off("keydown.dismiss.bs.modal")};t.prototype.resize=function(){if(this.isShown)n(window).on("resize.bs.modal",n.proxy(this.handleUpdate,this));else n(window).off("resize.bs.modal")};t.prototype.hideModal=function(){var n=this;this.$element.hide();this.backdrop(function(){n.$body.removeClass("modal-open");n.resetAdjustments();n.resetScrollbar();n.$element.trigger("hidden.bs.modal")})};t.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};t.prototype.backdrop=function(i){var e=this,f=this.$element.hasClass("fade")?"fade":"",r,u;if(this.isShown&&this.options.backdrop){r=n.support.transition&&f;this.$backdrop=n(document.createElement("div")).addClass("modal-backdrop "+f).appendTo(this.$body);this.$element.on("click.dismiss.bs.modal",n.proxy(function(n){if(this.ignoreBackdropClick){this.ignoreBackdropClick=!1;return}n.target===n.currentTarget&&(this.options.backdrop=="static"?this.$element[0].focus():this.hide())},this));if(r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!i)return;r?this.$backdrop.one("bsTransitionEnd",i).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):i()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),u=function(){e.removeBackdrop();i&&i()},n.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",u).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):u()):i&&i()};t.prototype.handleUpdate=function(){this.adjustDialog()};t.prototype.adjustDialog=function(){var n=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&n?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!n?this.scrollbarWidth:""})};t.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})};t.prototype.checkScrollbar=function(){var n=window.innerWidth,t;n||(t=document.documentElement.getBoundingClientRect(),n=t.right-Math.abs(t.left));this.bodyIsOverflowing=document.body.clientWidth<n;this.scrollbarWidth=this.measureScrollbar()};t.prototype.setScrollbar=function(){var n=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"";this.bodyIsOverflowing&&this.$body.css("padding-right",n+this.scrollbarWidth)};t.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)};t.prototype.measureScrollbar=function(){var n=document.createElement("div"),t;return n.className="modal-scrollbar-measure",this.$body.append(n),t=n.offsetWidth-n.clientWidth,this.$body[0].removeChild(n),t};r=n.fn.modal;n.fn.modal=i;n.fn.modal.Constructor=t;n.fn.modal.noConflict=function(){return n.fn.modal=r,this};n(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var r=n(this),f=r.attr("href"),u=n(r.attr("data-target")||f&&f.replace(/.*(?=#[^\s]+$)/,"")),e=u.data("bs.modal")?"toggle":n.extend({remote:!/#/.test(f)&&f},u.data(),r.data());r.is("a")&&t.preventDefault();u.one("show.bs.modal",function(n){if(!n.isDefaultPrevented())u.one("hidden.bs.modal",function(){r.is(":visible")&&r.trigger("focus")})});i.call(u,e,this)})}(jQuery);+function(n){"use strict";function r(i){return this.each(function(){var u=n(this),r=u.data("bs.tooltip"),f=typeof i=="object"&&i;(r||!/destroy|hide/.test(i))&&(r||u.data("bs.tooltip",r=new t(this,f)),typeof i=="string"&&r[i]())})}var t=function(n,t){this.type=null;this.options=null;this.enabled=null;this.timeout=null;this.hoverState=null;this.$element=null;this.inState=null;this.init("tooltip",n,t)},i;t.VERSION="3.3.5";t.TRANSITION_DURATION=150;t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"><\/div><div class="tooltip-inner"><\/div><\/div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}};t.prototype.init=function(t,i,r){var f,e,u,o,s;if(this.enabled=!0,this.type=t,this.$element=n(i),this.options=this.getOptions(r),this.$viewport=this.options.viewport&&n(n.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(f=this.options.trigger.split(" "),e=f.length;e--;)if(u=f[e],u=="click")this.$element.on("click."+this.type,this.options.selector,n.proxy(this.toggle,this));else if(u!="manual"){o=u=="hover"?"mouseenter":"focusin";s=u=="hover"?"mouseleave":"focusout";this.$element.on(o+"."+this.type,this.options.selector,n.proxy(this.enter,this));this.$element.on(s+"."+this.type,this.options.selector,n.proxy(this.leave,this))}this.options.selector?this._options=n.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()};t.prototype.getDefaults=function(){return t.DEFAULTS};t.prototype.getOptions=function(t){return t=n.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),t};t.prototype.getDelegateOptions=function(){var t={},i=this.getDefaults();return this._options&&n.each(this._options,function(n,r){i[n]!=r&&(t[n]=r)}),t};t.prototype.enter=function(t){var i=t instanceof this.constructor?t:n(t.currentTarget).data("bs."+this.type);if(i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),n(t.currentTarget).data("bs."+this.type,i)),t instanceof n.Event&&(i.inState[t.type=="focusin"?"focus":"hover"]=!0),i.tip().hasClass("in")||i.hoverState=="in"){i.hoverState="in";return}if(clearTimeout(i.timeout),i.hoverState="in",!i.options.delay||!i.options.delay.show)return i.show();i.timeout=setTimeout(function(){i.hoverState=="in"&&i.show()},i.options.delay.show)};t.prototype.isInStateTrue=function(){for(var n in this.inState)if(this.inState[n])return!0;return!1};t.prototype.leave=function(t){var i=t instanceof this.constructor?t:n(t.currentTarget).data("bs."+this.type);if(i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),n(t.currentTarget).data("bs."+this.type,i)),t instanceof n.Event&&(i.inState[t.type=="focusout"?"focus":"hover"]=!1),!i.isInStateTrue()){if(clearTimeout(i.timeout),i.hoverState="out",!i.options.delay||!i.options.delay.hide)return i.hide();i.timeout=setTimeout(function(){i.hoverState=="out"&&i.hide()},i.options.delay.hide)}};t.prototype.show=function(){var c=n.Event("show.bs."+this.type),l,p,e,w,h;if(this.hasContent()&&this.enabled){if(this.$element.trigger(c),l=n.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]),c.isDefaultPrevented()||!l)return;var u=this,r=this.tip(),a=this.getUID(this.type);this.setContent();r.attr("id",a);this.$element.attr("aria-describedby",a);this.options.animation&&r.addClass("fade");var i=typeof this.options.placement=="function"?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,v=/\s?auto?\s?/i,y=v.test(i);y&&(i=i.replace(v,"")||"top");r.detach().css({top:0,left:0,display:"block"}).addClass(i).data("bs."+this.type,this);this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element);this.$element.trigger("inserted.bs."+this.type);var f=this.getPosition(),o=r[0].offsetWidth,s=r[0].offsetHeight;y&&(p=i,e=this.getPosition(this.$viewport),i=i=="bottom"&&f.bottom+s>e.bottom?"top":i=="top"&&f.top-s<e.top?"bottom":i=="right"&&f.right+o>e.width?"left":i=="left"&&f.left-o<e.left?"right":i,r.removeClass(p).addClass(i));w=this.getCalculatedOffset(i,f,o,s);this.applyPlacement(w,i);h=function(){var n=u.hoverState;u.$element.trigger("shown.bs."+u.type);u.hoverState=null;n=="out"&&u.leave(u)};n.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",h).emulateTransitionEnd(t.TRANSITION_DURATION):h()}};t.prototype.applyPlacement=function(t,i){var r=this.tip(),l=r[0].offsetWidth,e=r[0].offsetHeight,o=parseInt(r.css("margin-top"),10),s=parseInt(r.css("margin-left"),10),h,f,u;isNaN(o)&&(o=0);isNaN(s)&&(s=0);t.top+=o;t.left+=s;n.offset.setOffset(r[0],n.extend({using:function(n){r.css({top:Math.round(n.top),left:Math.round(n.left)})}},t),0);r.addClass("in");h=r[0].offsetWidth;f=r[0].offsetHeight;i=="top"&&f!=e&&(t.top=t.top+e-f);u=this.getViewportAdjustedDelta(i,t,h,f);u.left?t.left+=u.left:t.top+=u.top;var c=/top|bottom/.test(i),a=c?u.left*2-l+h:u.top*2-e+f,v=c?"offsetWidth":"offsetHeight";r.offset(t);this.replaceArrow(a,r[0][v],c)};t.prototype.replaceArrow=function(n,t,i){this.arrow().css(i?"left":"top",50*(1-n/t)+"%").css(i?"top":"left","")};t.prototype.setContent=function(){var n=this.tip(),t=this.getTitle();n.find(".tooltip-inner")[this.options.html?"html":"text"](t);n.removeClass("fade in top bottom left right")};t.prototype.hide=function(i){function e(){u.hoverState!="in"&&r.detach();u.$element.removeAttr("aria-describedby").trigger("hidden.bs."+u.type);i&&i()}var u=this,r=n(this.$tip),f=n.Event("hide.bs."+this.type);if(this.$element.trigger(f),!f.isDefaultPrevented())return r.removeClass("in"),n.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",e).emulateTransitionEnd(t.TRANSITION_DURATION):e(),this.hoverState=null,this};t.prototype.fixTitle=function(){var n=this.$element;(n.attr("title")||typeof n.attr("data-original-title")!="string")&&n.attr("data-original-title",n.attr("title")||"").attr("title","")};t.prototype.hasContent=function(){return this.getTitle()};t.prototype.getPosition=function(t){t=t||this.$element;var u=t[0],r=u.tagName=="BODY",i=u.getBoundingClientRect();i.width==null&&(i=n.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var f=r?{top:0,left:0}:t.offset(),e={scroll:r?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},o=r?{width:n(window).width(),height:n(window).height()}:null;return n.extend({},i,e,o,f)};t.prototype.getCalculatedOffset=function(n,t,i,r){return n=="bottom"?{top:t.top+t.height,left:t.left+t.width/2-i/2}:n=="top"?{top:t.top-r,left:t.left+t.width/2-i/2}:n=="left"?{top:t.top+t.height/2-r/2,left:t.left-i}:{top:t.top+t.height/2-r/2,left:t.left+t.width}};t.prototype.getViewportAdjustedDelta=function(n,t,i,r){var f={top:0,left:0},e,u,o,s,h,c;return this.$viewport?(e=this.options.viewport&&this.options.viewport.padding||0,u=this.getPosition(this.$viewport),/right|left/.test(n)?(o=t.top-e-u.scroll,s=t.top+e-u.scroll+r,o<u.top?f.top=u.top-o:s>u.top+u.height&&(f.top=u.top+u.height-s)):(h=t.left-e,c=t.left+e+i,h<u.left?f.left=u.left-h:c>u.right&&(f.left=u.left+u.width-c)),f):f};t.prototype.getTitle=function(){var t=this.$element,n=this.options;return t.attr("data-original-title")||(typeof n.title=="function"?n.title.call(t[0]):n.title)};t.prototype.getUID=function(n){do n+=~~(Math.random()*1e6);while(document.getElementById(n));return n};t.prototype.tip=function(){if(!this.$tip&&(this.$tip=n(this.options.template),this.$tip.length!=1))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip};t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};t.prototype.enable=function(){this.enabled=!0};t.prototype.disable=function(){this.enabled=!1};t.prototype.toggleEnabled=function(){this.enabled=!this.enabled};t.prototype.toggle=function(t){var i=this;t&&(i=n(t.currentTarget).data("bs."+this.type),i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),n(t.currentTarget).data("bs."+this.type,i)));t?(i.inState.click=!i.inState.click,i.isInStateTrue()?i.enter(i):i.leave(i)):i.tip().hasClass("in")?i.leave(i):i.enter(i)};t.prototype.destroy=function(){var n=this;clearTimeout(this.timeout);this.hide(function(){n.$element.off("."+n.type).removeData("bs."+n.type);n.$tip&&n.$tip.detach();n.$tip=null;n.$arrow=null;n.$viewport=null})};i=n.fn.tooltip;n.fn.tooltip=r;n.fn.tooltip.Constructor=t;n.fn.tooltip.noConflict=function(){return n.fn.tooltip=i,this}}(jQuery);+function(n){"use strict";function r(i){return this.each(function(){var u=n(this),r=u.data("bs.popover"),f=typeof i=="object"&&i;(r||!/destroy|hide/.test(i))&&(r||u.data("bs.popover",r=new t(this,f)),typeof i=="string"&&r[i]())})}var t=function(n,t){this.init("popover",n,t)},i;if(!n.fn.tooltip)throw new Error("Popover requires tooltip.js");t.VERSION="3.3.5";t.DEFAULTS=n.extend({},n.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"><\/div><h3 class="popover-title"><\/h3><div class="popover-content"><\/div><\/div>'});t.prototype=n.extend({},n.fn.tooltip.Constructor.prototype);t.prototype.constructor=t;t.prototype.getDefaults=function(){return t.DEFAULTS};t.prototype.setContent=function(){var n=this.tip(),i=this.getTitle(),t=this.getContent();n.find(".popover-title")[this.options.html?"html":"text"](i);n.find(".popover-content").children().detach().end()[this.options.html?typeof t=="string"?"html":"append":"text"](t);n.removeClass("fade top bottom left right in");n.find(".popover-title").html()||n.find(".popover-title").hide()};t.prototype.hasContent=function(){return this.getTitle()||this.getContent()};t.prototype.getContent=function(){var t=this.$element,n=this.options;return t.attr("data-content")||(typeof n.content=="function"?n.content.call(t[0]):n.content)};t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};i=n.fn.popover;n.fn.popover=r;n.fn.popover.Constructor=t;n.fn.popover.noConflict=function(){return n.fn.popover=i,this}}(jQuery);+function(n){"use strict";function r(i){return this.each(function(){var u=n(this),r=u.data("bs.tab");r||u.data("bs.tab",r=new t(this));typeof i=="string"&&r[i]()})}var t=function(t){this.element=n(t)},u,i;t.VERSION="3.3.5";t.TRANSITION_DURATION=150;t.prototype.show=function(){var t=this.element,f=t.closest("ul:not(.dropdown-menu)"),i=t.data("target"),u;if(i||(i=t.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var r=f.find(".active:last a"),e=n.Event("hide.bs.tab",{relatedTarget:t[0]}),o=n.Event("show.bs.tab",{relatedTarget:r[0]});(r.trigger(e),t.trigger(o),o.isDefaultPrevented()||e.isDefaultPrevented())||(u=n(i),this.activate(t.closest("li"),f),this.activate(u,u.parent(),function(){r.trigger({type:"hidden.bs.tab",relatedTarget:t[0]});t.trigger({type:"shown.bs.tab",relatedTarget:r[0]})}))}};t.prototype.activate=function(i,r,u){function o(){f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1);i.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0);e?(i[0].offsetWidth,i.addClass("in")):i.removeClass("fade");i.parent(".dropdown-menu").length&&i.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0);u&&u()}var f=r.find("> .active"),e=u&&n.support.transition&&(f.length&&f.hasClass("fade")||!!r.find("> .fade").length);f.length&&e?f.one("bsTransitionEnd",o).emulateTransitionEnd(t.TRANSITION_DURATION):o();f.removeClass("in")};u=n.fn.tab;n.fn.tab=r;n.fn.tab.Constructor=t;n.fn.tab.noConflict=function(){return n.fn.tab=u,this};i=function(t){t.preventDefault();r.call(n(this),"show")};n(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',i).on("click.bs.tab.data-api",'[data-toggle="pill"]',i)}(jQuery);+function(n){"use strict";function t(){var i=document.createElement("bootstrap"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var t in n)if(i.style[t]!==undefined)return{end:n[t]};return!1}n.fn.emulateTransitionEnd=function(t){var i=!1,u=this,r;n(this).one("bsTransitionEnd",function(){i=!0});return r=function(){i||n(u).trigger(n.support.transition.end)},setTimeout(r,t),this};n(function(){(n.support.transition=t(),n.support.transition)&&(n.event.special.bsTransitionEnd={bindType:n.support.transition.end,delegateType:n.support.transition.end,handle:function(t){if(n(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(n){function r(){return new Date(Date.UTC.apply(Date,arguments))}function c(t,i){var u=n(t).data(),f={},e,o=new RegExp("^"+i.toLowerCase()+"([A-Z])"),i=new RegExp("^"+i.toLowerCase());for(var r in u)i.test(r)&&(e=r.replace(o,function(n,t){return t.toLowerCase()}),f[e]=u[r]);return f}function l(t){var u={},r;if(i[t]||(t=t.split("-")[0],i[t]))return r=i[t],n.each(h,function(n,t){t in r&&(u[t]=r[t])}),u}var e=n(window),u=function(i,r){var u=this;this._process_options(r);this.element=n(i);this.isInline=!1;this.isInput=this.element.is("input");this.component=this.element.is(".date")?this.element.find(".input-group-addon"):!1;this.hasInput=this.component&&this.element.find("input").length;this.component&&this.component.length===0&&(this.component=!1);this.picker=n(t.template);this._buildEvents();this._attachEvents();this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu");this.o.rtl&&(this.picker.addClass("datepicker-rtl"),this.picker.find(".prev i, .next i").toggleClass("icon-arrow-left icon-arrow-right"));this.viewMode=this.o.startView;this.o.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(n,t){return parseInt(t)+1});this._allow_update=!1;this.setStartDate(this._o.startDate);this.setEndDate(this._o.endDate);this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled);this.fillDow();this.fillMonths();this._allow_update=!0;this.update();this.showMode();this.isInline&&this.show()},o,s,f,h,i,t;u.prototype={constructor:u,_process_options:function(r){var u,o,h,e,s;this._o=n.extend({},this._o,r);u=this.o=n.extend({},this._o);o=u.language;i[o]||(o=o.split("-")[0],i[o]||(o=f.language));u.language=o;switch(u.startView){case 2:case"decade":u.startView=2;break;case 1:case"year":u.startView=1;break;default:u.startView=0}switch(u.minViewMode){case 1:case"months":u.minViewMode=1;break;case 2:case"years":u.minViewMode=2;break;default:u.minViewMode=0}if(u.startView=Math.max(u.startView,u.minViewMode),u.weekStart%=7,u.weekEnd=(u.weekStart+6)%7,h=t.parseFormat(u.format),u.startDate!==-Infinity&&(u.startDate=u.startDate?u.startDate instanceof Date?this._local_to_utc(this._zero_time(u.startDate)):t.parseDate(u.startDate,h,u.language):-Infinity),u.endDate!==Infinity&&(u.endDate=u.endDate?u.endDate instanceof Date?this._local_to_utc(this._zero_time(u.endDate)):t.parseDate(u.endDate,h,u.language):Infinity),u.daysOfWeekDisabled=u.daysOfWeekDisabled||[],n.isArray(u.daysOfWeekDisabled)||(u.daysOfWeekDisabled=u.daysOfWeekDisabled.split(/[,\s]*/)),u.daysOfWeekDisabled=n.map(u.daysOfWeekDisabled,function(n){return parseInt(n,10)}),e=String(u.orientation).toLowerCase().split(/\s+/g),s=u.orientation.toLowerCase(),e=n.grep(e,function(n){return/^auto|left|right|top|bottom$/.test(n)}),u.orientation={x:"auto",y:"auto"},s&&s!=="auto")if(e.length===1)switch(e[0]){case"top":case"bottom":u.orientation.y=e[0];break;case"left":case"right":u.orientation.x=e[0]}else s=n.grep(e,function(n){return/^left|right$/.test(n)}),u.orientation.x=s[0]||"auto",s=n.grep(e,function(n){return/^top|bottom$/.test(n)}),u.orientation.y=s[0]||"auto"},_events:[],_secondaryEvents:[],_applyEvents:function(n){for(var t=0,i,r;t<n.length;t++){i=n[t][0];r=n[t][1];i.on(r)}},_unapplyEvents:function(n){for(var t=0,i,r;t<n.length;t++)i=n[t][0],r=n[t][1],i.off(r)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:n.proxy(this.show,this),keyup:n.proxy(this.update,this),keydown:n.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:n.proxy(this.show,this),keyup:n.proxy(this.update,this),keydown:n.proxy(this.keydown,this)}],[this.component,{click:n.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:n.proxy(this.show,this)}]];this._secondaryEvents=[[this.picker,{click:n.proxy(this.click,this)}],[n(window),{resize:n.proxy(this.place,this)}],[n(document),{mousedown:n.proxy(function(n){this.element.is(n.target)||this.element.find(n.target).length||this.picker.is(n.target)||this.picker.find(n.target).length||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents();this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents();this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(i,r){var u=r||this.date,f=this._utc_to_local(u);this.element.trigger({type:i,date:f,format:n.proxy(function(n){var i=n||this.o.format;return t.formatDate(u,i,this.o.language)},this)})},show:function(n){this.isInline||this.picker.appendTo("body");this.picker.show();this.height=this.component?this.component.outerHeight():this.element.outerHeight();this.place();this._attachSecondaryEvents();n&&n.preventDefault();this._trigger("show")},hide:function(){this.isInline||this.picker.is(":visible")&&(this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"))},remove:function(){this.hide();this._detachEvents();this._detachSecondaryEvents();this.picker.remove();delete this.element.data().datepicker;this.isInput||delete this.element.data().date},_utc_to_local:function(n){return new Date(n.getTime()+n.getTimezoneOffset()*6e4)},_local_to_utc:function(n){return new Date(n.getTime()-n.getTimezoneOffset()*6e4)},_zero_time:function(n){return new Date(n.getFullYear(),n.getMonth(),n.getDate())},_zero_utc_time:function(n){return new Date(Date.UTC(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()))},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){return this.date},setDate:function(n){this.setUTCDate(this._local_to_utc(n))},setUTCDate:function(n){this.date=n;this.setValue()},setValue:function(){var n=this.getFormattedDate();this.isInput?this.element.val(n).change():this.component&&this.element.find("input").val(n).change()},getFormattedDate:function(n){return n===undefined&&(n=this.o.format),t.formatDate(this.date,n,this.o.language)},setStartDate:function(n){this._process_options({startDate:n});this.update();this.updateNavArrows()},setEndDate:function(n){this._process_options({endDate:n});this.update();this.updateNavArrows()},setDaysOfWeekDisabled:function(n){this._process_options({daysOfWeekDisabled:n});this.update();this.updateNavArrows()},place:function(){var i,v,s;if(!this.isInline){var u=this.picker.outerWidth(),f=this.picker.outerHeight(),h=10,c=e.width(),y=e.height(),l=e.scrollTop(),p=parseInt(this.element.parents().filter(function(){return n(this).css("z-index")!="auto"}).first().css("z-index"))+10,t=this.component?this.component.parent().offset():this.element.offset(),a=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),w=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),r=t.left,o=t.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left");this.o.orientation.x!=="auto"?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),this.o.orientation.x==="right"&&(r-=u-w)):(this.picker.addClass("datepicker-orient-left"),t.left<0?r-=t.left-h:t.left+u>c&&(r=c-u-h));i=this.o.orientation.y;i==="auto"&&(v=-l+t.top-f,s=l+y-(t.top+a+f),i=Math.max(v,s)===s?"top":"bottom");this.picker.addClass("datepicker-orient-"+i);i==="top"?o+=a:o-=f+parseInt(this.picker.css("padding-top"));this.picker.css({top:o,left:r,zIndex:p})}},_allow_update:!0,update:function(){if(this._allow_update){var r=new Date(this.date),n,i=!1;arguments&&arguments.length&&(typeof arguments[0]=="string"||arguments[0]instanceof Date)?(n=arguments[0],n instanceof Date&&(n=this._local_to_utc(n)),i=!0):(n=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),delete this.element.data().date);this.date=t.parseDate(n,this.o.format,this.o.language);i?this.setValue():n?r.getTime()!==this.date.getTime()&&this._trigger("changeDate"):this._trigger("clearDate");this.date<this.o.startDate?(this.viewDate=new Date(this.o.startDate),this.date=new Date(this.o.startDate)):this.date>this.o.endDate?(this.viewDate=new Date(this.o.endDate),this.date=new Date(this.o.endDate)):(this.viewDate=new Date(this.date),this.date=new Date(this.date));this.fill()}},fillDow:function(){var r=this.o.weekStart,n="<tr>",t;for(this.o.calendarWeeks&&(t='<th class="cw">&nbsp;<\/th>',n+=t,this.picker.find(".datepicker-days thead tr:first-child").prepend(t));r<this.o.weekStart+7;)n+='<th class="dow">'+i[this.o.language].daysMin[r++%7]+"<\/th>";n+="<\/tr>";this.picker.find(".datepicker-days thead").append(n)},fillMonths:function(){for(var n="",t=0;t<12;)n+='<span class="month">'+i[this.o.language].monthsShort[t++]+"<\/span>";this.picker.find(".datepicker-months td").html(n)},setRange:function(t){t&&t.length?this.range=n.map(t,function(n){return n.valueOf()}):delete this.range;this.fill()},getClassNames:function(t){var i=[],r=this.viewDate.getUTCFullYear(),f=this.viewDate.getUTCMonth(),e=this.date.valueOf(),u=new Date;return t.getUTCFullYear()<r||t.getUTCFullYear()==r&&t.getUTCMonth()<f?i.push("old"):(t.getUTCFullYear()>r||t.getUTCFullYear()==r&&t.getUTCMonth()>f)&&i.push("new"),this.o.todayHighlight&&t.getUTCFullYear()==u.getFullYear()&&t.getUTCMonth()==u.getMonth()&&t.getUTCDate()==u.getDate()&&i.push("today"),e&&t.valueOf()==e&&i.push("active"),(t.valueOf()<this.o.startDate||t.valueOf()>this.o.endDate||n.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled)!==-1)&&i.push("disabled"),this.range&&(t>this.range[0]&&t<this.range[this.range.length-1]&&i.push("range"),n.inArray(t.valueOf(),this.range)!=-1&&i.push("selected")),i},fill:function(){var k=new Date(this.viewDate),u=k.getUTCFullYear(),d=k.getUTCMonth(),v=this.o.startDate!==-Infinity?this.o.startDate.getUTCFullYear():-Infinity,it=this.o.startDate!==-Infinity?this.o.startDate.getUTCMonth():-Infinity,y=this.o.endDate!==Infinity?this.o.endDate.getUTCFullYear():Infinity,rt=this.o.endDate!==Infinity?this.o.endDate.getUTCMonth():Infinity,ft=this.date&&this.date.valueOf(),p,f,w,h,o,s,e,a,c,tt,l;for(this.picker.find(".datepicker-days thead th.datepicker-switch").text(i[this.o.language].months[d]+" "+u),this.picker.find("tfoot th.today").text(i[this.o.language].today).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot th.clear").text(i[this.o.language].clear).toggle(this.o.clearBtn!==!1),this.updateNavArrows(),this.fillMonths(),f=r(u,d-1,28,0,0,0,0),w=t.getDaysInMonth(f.getUTCFullYear(),f.getUTCMonth()),f.setUTCDate(w),f.setUTCDate(w-(f.getUTCDay()-this.o.weekStart+7)%7),h=new Date(f),h.setUTCDate(h.getUTCDate()+42),h=h.valueOf(),o=[];f.valueOf()<h;){if(f.getUTCDay()==this.o.weekStart&&(o.push("<tr>"),this.o.calendarWeeks)){var g=new Date(+f+(this.o.weekStart-f.getUTCDay()-7)%7*864e5),nt=new Date(+g+(11-g.getUTCDay())%7*864e5),b=new Date(+(b=r(nt.getUTCFullYear(),0,1))+(11-b.getUTCDay())%7*864e5),ut=(nt-b)/6048e5+1;o.push('<td class="cw">'+ut+"<\/td>")}s=this.getClassNames(f);s.push("day");this.o.beforeShowDay!==n.noop&&(e=this.o.beforeShowDay(this._utc_to_local(f)),e===undefined?e={}:typeof e=="boolean"?e={enabled:e}:typeof e=="string"&&(e={classes:e}),e.enabled===!1&&s.push("disabled"),e.classes&&(s=s.concat(e.classes.split(/\s+/))),e.tooltip&&(p=e.tooltip));s=n.unique(s);o.push('<td class="'+s.join(" ")+'"'+(p?' title="'+p+'"':"")+">"+f.getUTCDate()+"<\/td>");f.getUTCDay()==this.o.weekEnd&&o.push("<\/tr>");f.setUTCDate(f.getUTCDate()+1)}for(this.picker.find(".datepicker-days tbody").empty().append(o.join("")),a=this.date&&this.date.getUTCFullYear(),c=this.picker.find(".datepicker-months").find("th:eq(1)").text(u).end().find("span").removeClass("active"),a&&a==u&&c.eq(this.date.getUTCMonth()).addClass("active"),(u<v||u>y)&&c.addClass("disabled"),u==v&&c.slice(0,it).addClass("disabled"),u==y&&c.slice(rt+1).addClass("disabled"),o="",u=parseInt(u/10,10)*10,tt=this.picker.find(".datepicker-years").find("th:eq(1)").text(u+"-"+(u+9)).end().find("td"),u-=1,l=-1;l<11;l++)o+='<span class="year'+(l==-1?" old":l==10?" new":"")+(a==u?" active":"")+(u<v||u>y?" disabled":"")+'">'+u+"<\/span>",u+=1;tt.html(o)},updateNavArrows:function(){if(this._allow_update){var t=new Date(this.viewDate),n=t.getUTCFullYear(),i=t.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-Infinity&&n<=this.o.startDate.getUTCFullYear()&&i<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"});this.o.endDate!==Infinity&&n>=this.o.endDate.getUTCFullYear()&&i>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.o.startDate!==-Infinity&&n<=this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"});this.o.endDate!==Infinity&&n>=this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(i){var u,h,e,l,s;if(i.preventDefault(),u=n(i.target).closest("span, td, th"),u.length==1)switch(u[0].nodeName.toLowerCase()){case"th":switch(u[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":h=t.modes[this.viewMode].navStep*(u[0].className=="prev"?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,h);this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,h);this.viewMode===1&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":e=new Date;e=r(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0);this.showMode(-2);l=this.o.todayBtn=="linked"?null:"view";this._setDate(e,l);break;case"clear":this.isInput?s=this.element:this.component&&(s=this.element.find("input"));s&&s.val("").change();this._trigger("changeDate");this.update();this.o.autoclose&&this.hide()}break;case"span":if(!u.is(".disabled")){if(this.viewDate.setUTCDate(1),u.is(".month")){var c=1,f=u.parent().find("span").index(u),o=this.viewDate.getUTCFullYear();this.viewDate.setUTCMonth(f);this._trigger("changeMonth",this.viewDate);this.o.minViewMode===1&&this._setDate(r(o,f,c,0,0,0,0))}else{var o=parseInt(u.text(),10)||0,c=1,f=0;this.viewDate.setUTCFullYear(o);this._trigger("changeYear",this.viewDate);this.o.minViewMode===2&&this._setDate(r(o,f,c,0,0,0,0))}this.showMode(-1);this.fill()}break;case"td":if(u.is(".day")&&!u.is(".disabled")){var c=parseInt(u.text(),10)||1,o=this.viewDate.getUTCFullYear(),f=this.viewDate.getUTCMonth();u.is(".old")?f===0?(f=11,o-=1):f-=1:u.is(".new")&&(f==11?(f=0,o+=1):f+=1);this._setDate(r(o,f,c,0,0,0,0))}}},_setDate:function(n,t){t&&t!="date"||(this.date=new Date(n));t&&t!="view"||(this.viewDate=new Date(n));this.fill();this.setValue();this._trigger("changeDate");var i;this.isInput?i=this.element:this.component&&(i=this.element.find("input"));i&&i.change();this.o.autoclose&&(!t||t=="date")&&this.hide()},moveMonth:function(n,t){var f;if(!t)return n;var i=new Date(n.valueOf()),e=i.getUTCDate(),o=i.getUTCMonth(),s=Math.abs(t),r,u;if(t=t>0?1:-1,s==1)u=t==-1?function(){return i.getUTCMonth()==o}:function(){return i.getUTCMonth()!=r},r=o+t,i.setUTCMonth(r),(r<0||r>11)&&(r=(r+12)%12);else{for(f=0;f<s;f++)i=this.moveMonth(i,t);r=i.getUTCMonth();i.setUTCDate(e);u=function(){return r!=i.getUTCMonth()}}while(u())i.setUTCDate(--e),i.setUTCMonth(r);return i},moveYear:function(n,t){return this.moveMonth(n,t*12)},dateWithinRange:function(n){return n>=this.o.startDate&&n<=this.o.endDate},keydown:function(n){var u,t,i,r,f;if(this.picker.is(":not(:visible)")){n.keyCode==27&&this.show();return}u=!1;switch(n.keyCode){case 27:this.hide();n.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;t=n.keyCode==37?-1:1;n.ctrlKey?(i=this.moveYear(this.date,t),r=this.moveYear(this.viewDate,t),this._trigger("changeYear",this.viewDate)):n.shiftKey?(i=this.moveMonth(this.date,t),r=this.moveMonth(this.viewDate,t),this._trigger("changeMonth",this.viewDate)):(i=new Date(this.date),i.setUTCDate(this.date.getUTCDate()+t),r=new Date(this.viewDate),r.setUTCDate(this.viewDate.getUTCDate()+t));this.dateWithinRange(i)&&(this.date=i,this.viewDate=r,this.setValue(),this.update(),n.preventDefault(),u=!0);break;case 38:case 40:if(!this.o.keyboardNavigation)break;t=n.keyCode==38?-1:1;n.ctrlKey?(i=this.moveYear(this.date,t),r=this.moveYear(this.viewDate,t),this._trigger("changeYear",this.viewDate)):n.shiftKey?(i=this.moveMonth(this.date,t),r=this.moveMonth(this.viewDate,t),this._trigger("changeMonth",this.viewDate)):(i=new Date(this.date),i.setUTCDate(this.date.getUTCDate()+t*7),r=new Date(this.viewDate),r.setUTCDate(this.viewDate.getUTCDate()+t*7));this.dateWithinRange(i)&&(this.date=i,this.viewDate=r,this.setValue(),this.update(),n.preventDefault(),u=!0);break;case 13:this.hide();n.preventDefault();break;case 9:this.hide()}u&&(this._trigger("changeDate"),this.isInput?f=this.element:this.component&&(f=this.element.find("input")),f&&f.change())},showMode:function(n){n&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+n)));this.picker.find(">div").hide().filter(".datepicker-"+t.modes[this.viewMode].clsName).css("display","block");this.updateNavArrows()}};o=function(t,i){this.element=n(t);this.inputs=n.map(i.inputs,function(n){return n.jquery?n[0]:n});delete i.inputs;n(this.inputs).datepicker(i).bind("changeDate",n.proxy(this.dateUpdated,this));this.pickers=n.map(this.inputs,function(t){return n(t).data("datepicker")});this.updateDates()};o.prototype={updateDates:function(){this.dates=n.map(this.pickers,function(n){return n.date});this.updateRanges()},updateRanges:function(){var t=n.map(this.dates,function(n){return n.valueOf()});n.each(this.pickers,function(n,i){i.setRange(t)})},dateUpdated:function(t){var u=n(t.target).data("datepicker"),r=u.getUTCDate(),i=n.inArray(t.target,this.inputs),f=this.inputs.length;if(i!=-1){if(r<this.dates[i])while(i>=0&&r<this.dates[i])this.pickers[i--].setUTCDate(r);else if(r>this.dates[i])while(i<f&&r>this.dates[i])this.pickers[i++].setUTCDate(r);this.updateDates()}},remove:function(){n.map(this.pickers,function(n){n.remove()});delete this.element.data().datepicker}};s=n.fn.datepicker;n.fn.datepicker=function(t){var r=Array.apply(null,arguments),i;return r.shift(),this.each(function(){var s=n(this),e=s.data("datepicker"),a=typeof t=="object"&&t,y;if(!e){var v=c(this,"date"),p=n.extend({},f,v,a),w=l(p.language),h=n.extend({},f,w,v,a);s.is(".input-daterange")||h.inputs?(y={inputs:h.inputs||s.find("input").toArray()},s.data("datepicker",e=new o(this,n.extend(h,y)))):s.data("datepicker",e=new u(this,h))}if(typeof t=="string"&&typeof e[t]=="function"&&(i=e[t].apply(e,r),i!==undefined))return!1}),i!==undefined?i:this};f=n.fn.datepicker.defaults={autoclose:!1,beforeShowDay:n.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:Infinity,forceParse:!0,format:"m/d/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,orientation:"auto",rtl:!1,startDate:-Infinity,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0};h=n.fn.datepicker.locale_opts=["format","rtl","weekStart"];n.fn.datepicker.Constructor=u;i=n.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}};t={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(n){return n%4==0&&n%100!=0||n%400==0},getDaysInMonth:function(n,i){return[31,t.isLeapYear(n)?29:28,31,30,31,30,31,31,30,31,30,31][i]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(n){var t=n.replace(this.validParts,'\0').split('\0'),i=n.match(this.validParts);if(!t||!t.length||!i||i.length===0)throw new Error("Invalid date format.");return{separators:t,parts:i}},parseDate:function(f,e,o){var g,h,a,v,l,nt,s,k,p;if(f instanceof Date)return f;if(typeof e=="string"&&(e=t.parseFormat(e)),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(f)){for(g=/([\-+]\d+)([dmwy])/,h=f.match(/([\-+]\d+)([dmwy])/g),f=new Date,s=0;s<h.length;s++){a=g.exec(h[s]);v=parseInt(a[1]);switch(a[2]){case"d":f.setUTCDate(f.getUTCDate()+v);break;case"m":f=u.prototype.moveMonth.call(u.prototype,f,v);break;case"w":f.setUTCDate(f.getUTCDate()+v*7);break;case"y":f=u.prototype.moveYear.call(u.prototype,f,v)}}return r(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate(),0,0,0)}var h=f&&f.match(this.nonpunctuation)||[],f=new Date,w={},d=["yyyy","yy","M","MM","m","mm","d","dd"],c={yyyy:function(n,t){return n.setUTCFullYear(t)},yy:function(n,t){return n.setUTCFullYear(2e3+t)},m:function(n,t){if(isNaN(n))return n;for(t-=1;t<0;)t+=12;for(t%=12,n.setUTCMonth(t);n.getUTCMonth()!=t;)n.setUTCDate(n.getUTCDate()-1);return n},d:function(n,t){return n.setUTCDate(t)}},y,b,a;if(c.M=c.MM=c.mm=c.m,c.dd=c.d,f=r(f.getFullYear(),f.getMonth(),f.getDate(),0,0,0),l=e.parts.slice(),h.length!=l.length&&(l=n(l).filter(function(t,i){return n.inArray(i,d)!==-1}).toArray()),h.length==l.length){for(s=0,nt=l.length;s<nt;s++){if(y=parseInt(h[s],10),a=l[s],isNaN(y))switch(a){case"MM":b=n(i[o].months).filter(function(){var n=this.slice(0,h[s].length),t=h[s].slice(0,n.length);return n==t});y=n.inArray(b[0],i[o].months)+1;break;case"M":b=n(i[o].monthsShort).filter(function(){var n=this.slice(0,h[s].length),t=h[s].slice(0,n.length);return n==t});y=n.inArray(b[0],i[o].monthsShort)+1}w[a]=y}for(s=0;s<d.length;s++)p=d[s],p in w&&!isNaN(w[p])&&(k=new Date(f),c[p](k,w[p]),isNaN(k)||(f=k))}return f},formatDate:function(r,u,f){var e,r,s,o,h;for(typeof u=="string"&&(u=t.parseFormat(u)),e={d:r.getUTCDate(),D:i[f].daysShort[r.getUTCDay()],DD:i[f].days[r.getUTCDay()],m:r.getUTCMonth()+1,M:i[f].monthsShort[r.getUTCMonth()],MM:i[f].months[r.getUTCMonth()],yy:r.getUTCFullYear().toString().substring(2),yyyy:r.getUTCFullYear()},e.dd=(e.d<10?"0":"")+e.d,e.mm=(e.m<10?"0":"")+e.m,r=[],s=n.extend([],u.separators),o=0,h=u.parts.length;o<=h;o++)s.length&&r.push(s.shift()),r.push(e[u.parts[o]]);return r.join("")},headTemplate:'<thead><tr><th class="prev">&laquo;<\/th><th colspan="5" class="datepicker-switch"><\/th><th class="next">&raquo;<\/th><\/tr><\/thead>',contTemplate:'<tbody><tr><td colspan="7"><\/td><\/tr><\/tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"><\/th><\/tr><tr><th colspan="7" class="clear"><\/th><\/tr><\/tfoot>'};t.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+t.headTemplate+"<tbody><\/tbody>"+t.footTemplate+'<\/table><\/div><div class="datepicker-months"><table class="table-condensed">'+t.headTemplate+t.contTemplate+t.footTemplate+'<\/table><\/div><div class="datepicker-years"><table class="table-condensed">'+t.headTemplate+t.contTemplate+t.footTemplate+"<\/table><\/div><\/div>";n.fn.datepicker.DPGlobal=t;n.fn.datepicker.noConflict=function(){return n.fn.datepicker=s,this};n(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var i=n(this);i.data("datepicker")||(t.preventDefault(),i.datepicker("show"))});n(function(){n('[data-provide="datepicker-inline"]').datepicker()})}(window.jQuery);!function(n){var t=function(t,i){var r,u;this.element=n(t);this.picker=n('<div class="slider"><div class="slider-track"><div class="slider-selection"><\/div><div class="slider-handle"><\/div><div class="slider-handle"><\/div><\/div><div class="tooltip"><div class="tooltip-arrow"><\/div><div class="tooltip-inner"><\/div><\/div><\/div>').insertBefore(this.element).append(this.element);this.id=this.element.data("slider-id")||i.id;this.id&&(this.picker[0].id=this.id);typeof Modernizr!="undefined"&&Modernizr.touch&&(this.touchCapable=!0);r=this.element.data("slider-tooltip")||i.tooltip;this.tooltip=this.picker.find(".tooltip");this.tooltipInner=this.tooltip.find("div.tooltip-inner");this.orientation=this.element.data("slider-orientation")||i.orientation;switch(this.orientation){case"vertical":this.picker.addClass("slider-vertical");this.stylePos="top";this.mousePos="pageY";this.sizePos="offsetHeight";this.tooltip.addClass("right")[0].style.left="100%";break;default:this.picker.addClass("slider-horizontal").css("width",this.element.outerWidth());this.orientation="horizontal";this.stylePos="left";this.mousePos="pageX";this.sizePos="offsetWidth";this.tooltip.addClass("top")[0].style.top=-this.tooltip.outerHeight()-14+"px"}this.min=this.element.data("slider-min")||i.min;this.max=this.element.data("slider-max")||i.max;this.step=this.element.data("slider-step")||i.step;this.value=this.element.data("slider-value")||i.value;this.value[1]&&(this.range=!0);this.selection=this.element.data("slider-selection")||i.selection;this.selectionEl=this.picker.find(".slider-selection");this.selection==="none"&&this.selectionEl.addClass("hide");this.selectionElStyle=this.selectionEl[0].style;this.handle1=this.picker.find(".slider-handle:first");this.handle1Stype=this.handle1[0].style;this.handle2=this.picker.find(".slider-handle:last");this.handle2Stype=this.handle2[0].style;u=this.element.data("slider-handle")||i.handle;switch(u){case"round":this.handle1.addClass("round");this.handle2.addClass("round");break;case"triangle":this.handle1.addClass("triangle");this.handle2.addClass("triangle")}if(this.range?(this.value[0]=Math.max(this.min,Math.min(this.max,this.value[0])),this.value[1]=Math.max(this.min,Math.min(this.max,this.value[1]))):(this.value=[Math.max(this.min,Math.min(this.max,this.value))],this.handle2.addClass("hide"),this.value[1]=this.selection=="after"?this.max:this.min),this.diff=this.max-this.min,this.percentage=[(this.value[0]-this.min)*100/this.diff,(this.value[1]-this.min)*100/this.diff,this.step*100/this.diff],this.offset=this.picker.offset(),this.size=this.picker[0][this.sizePos],this.formater=i.formater,this.layout(),this.touchCapable)this.picker.on({touchstart:n.proxy(this.mousedown,this)});else this.picker.on({mousedown:n.proxy(this.mousedown,this)});if(r==="show")this.picker.on({mouseenter:n.proxy(this.showTooltip,this),mouseleave:n.proxy(this.hideTooltip,this)});else this.tooltip.addClass("hide")};t.prototype={constructor:t,over:!1,inDrag:!1,showTooltip:function(){this.tooltip.addClass("in");this.over=!0},hideTooltip:function(){this.inDrag===!1&&this.tooltip.removeClass("in");this.over=!1},layout:function(){this.handle1Stype[this.stylePos]=this.percentage[0]+"%";this.handle2Stype[this.stylePos]=this.percentage[1]+"%";this.orientation=="vertical"?(this.selectionElStyle.top=Math.min(this.percentage[0],this.percentage[1])+"%",this.selectionElStyle.height=Math.abs(this.percentage[0]-this.percentage[1])+"%"):(this.selectionElStyle.left=Math.min(this.percentage[0],this.percentage[1])+"%",this.selectionElStyle.width=Math.abs(this.percentage[0]-this.percentage[1])+"%");this.range?(this.tooltipInner.text(this.formater(this.value[0])+" : "+this.formater(this.value[1])),this.tooltip[0].style[this.stylePos]=this.size*(this.percentage[0]+(this.percentage[1]-this.percentage[0])/2)/100-(this.orientation==="vertical"?this.tooltip.outerHeight()/2:this.tooltip.outerWidth()/2)+"px"):(this.tooltipInner.text(this.formater(this.value[0])),this.tooltip[0].style[this.stylePos]=this.size*this.percentage[0]/100-(this.orientation==="vertical"?this.tooltip.outerHeight()/2:this.tooltip.outerWidth()/2)+"px")},mousedown:function(t){var i,u,f,r;if(this.touchCapable&&t.type==="touchstart"&&(t=t.originalEvent),this.offset=this.picker.offset(),this.size=this.picker[0][this.sizePos],i=this.getPercentage(t),this.range?(u=Math.abs(this.percentage[0]-i),f=Math.abs(this.percentage[1]-i),this.dragged=u<f?0:1):this.dragged=0,this.percentage[this.dragged]=i,this.layout(),this.touchCapable)n(document).on({touchmove:n.proxy(this.mousemove,this),touchend:n.proxy(this.mouseup,this)});else n(document).on({mousemove:n.proxy(this.mousemove,this),mouseup:n.proxy(this.mouseup,this)});return this.inDrag=!0,r=this.calculateValue(),this.element.trigger({type:"slideStart",value:r}).trigger({type:"slide",value:r}),!1},mousemove:function(n){var t,i;return this.touchCapable&&n.type==="touchmove"&&(n=n.originalEvent),t=this.getPercentage(n),this.range&&(this.dragged===0&&this.percentage[1]<t?(this.percentage[0]=this.percentage[1],this.dragged=1):this.dragged===1&&this.percentage[0]>t&&(this.percentage[1]=this.percentage[0],this.dragged=0)),this.percentage[this.dragged]=t,this.layout(),i=this.calculateValue(),this.element.trigger({type:"slide",value:i}).data("value",i).prop("value",i),!1},mouseup:function(){this.touchCapable?n(document).off({touchmove:this.mousemove,touchend:this.mouseup}):n(document).off({mousemove:this.mousemove,mouseup:this.mouseup});this.inDrag=!1;this.over==!1&&this.hideTooltip();this.element;var t=this.calculateValue();return this.element.trigger({type:"slideStop",value:t}).data("value",t).prop("value",t),!1},calculateValue:function(){var n;return this.range?(n=[this.min+Math.round(this.diff*this.percentage[0]/100/this.step)*this.step,this.min+Math.round(this.diff*this.percentage[1]/100/this.step)*this.step],this.value=n):(n=this.min+Math.round(this.diff*this.percentage[0]/100/this.step)*this.step,this.value=[n,this.value[1]]),n},getPercentage:function(n){this.touchCapable&&(n=n.touches[0]);var t=(n[this.mousePos]-this.offset[this.stylePos])*100/this.size;return t=Math.round(t/this.percentage[2])*this.percentage[2],Math.max(0,Math.min(100,t))},getValue:function(){return this.range?this.value:this.value[0]},setValue:function(n){this.value=n;this.range?(this.value[0]=Math.max(this.min,Math.min(this.max,this.value[0])),this.value[1]=Math.max(this.min,Math.min(this.max,this.value[1]))):(this.value=[Math.max(this.min,Math.min(this.max,this.value))],this.handle2.addClass("hide"),this.value[1]=this.selection=="after"?this.max:this.min);this.diff=this.max-this.min;this.percentage=[(this.value[0]-this.min)*100/this.diff,(this.value[1]-this.min)*100/this.diff,this.step*100/this.diff];this.layout()}};n.fn.slider=function(i,r){return this.each(function(){var f=n(this),u=f.data("slider"),e=typeof i=="object"&&i;u||f.data("slider",u=new t(this,n.extend({},n.fn.slider.defaults,e)));typeof i=="string"&&u[i](r)})};n.fn.slider.defaults={min:0,max:10,step:1,orientation:"horizontal",value:5,selection:"before",tooltip:"show",handle:"round",formater:function(n){return n}};n.fn.slider.Constructor=t}(window.jQuery);$(function(){"use strict";(function(){var n=$(window).height()-60,t=$("<style />").attr("type","text/css").html(".modal-window-height .modal-content{overflow-y: scroll;max-height: "+n+"px;}");$("body").append(t)})()}),function(n){"use strict";function i(n,t){typeof t!="undefined"&&n.$element.prop("checked",t);var u=n.$element.is(":checked"),r=n.$textButton,i=n.$icon;i.removeClass();u?(i.addClass(i.data("onIcon")),r.removeClass("btn-default").addClass("btn-"+n.color)):(i.addClass(i.data("offIcon")),r.removeClass("btn-"+n.color).addClass("btn-default"))}function f(i){var r=!!arguments&&arguments.length>0?Array.prototype.slice.call(arguments).slice(1):[];return this.each(function(){var f=n(this),u=f.data("bs.checkboxbutton");u||f.data("bs.checkboxbutton",u=new t(this,i));typeof i=="string"&&u[i].apply(u,r)})}var u={hiddenClass:"hidden",color:"primary",buttonText:"",onIcon:"cw-toolbar-success",offIcon:"cw-toolbar-success transparent",noIcon:!1},t=function(t,i){this.$element=n(t);this.build(n.extend(u,i,this.$element.data()))},r;t.prototype.build=function(t){var r=this,u=r.$element.parent();r.$element=r.$element.detach();r.$element.addClass(t.hiddenClass);r.color=t.color;r.$textButton=n("<button/>").addClass("btn btn-"+r.color+" text").data("color",r.color).text(" "+t.buttonText);r.$iconButton=n("<button/>").addClass("btn btn-default icon");r.$iconButton.append(r.$element);r.$icon=n("<span/>").data("onIcon",t.onIcon).data("offIcon",t.offIcon);r.$iconButton.append(r.$icon);r.$wrapper=n("<div/>").addClass("btn-group button-checkbox").attr("role","group");r.$wrapper.append(r.$iconButton).append(r.$textButton);u.prepend(r.$wrapper);t.noIcon&&r.$icon.addClass(t.hiddenClass);r.$element.is(":checked")?r.$icon.addClass(t.onIcon):r.$icon.addClass(t.offIcon);r.$wrapper.on("click",function(){r.$element.prop("checked",!r.$element.is(":checked"));r.$element.triggerHandler("change");r.$element.triggerHandler("click");i(r)});r.$element.on("change",function(){i(r)});i(r)};t.prototype.destroy=function(){var n=this;n.$element.removeClass(options.hiddenClass);n.$wrapper.off("click");n.$element.off("change");n.$iconButton.remove();n.$textButton.remove();n.$icon.remove();n.$element.unwrap()};t.prototype.updateState=function(n){var t=this;i(t,n)};r=n.fn.checkboxbutton;n.fn.checkboxbutton=f;n.fn.checkboxbutton.Constructor=t;n.fn.checkboxbutton.noConflict=function(){return n.fn.checkboxbutton=r,this}}(window.jQuery),function(n,t){typeof define=="function"&&define.amd?define("typeahead.js",["jquery"],function(n){return t(n)}):typeof exports=="object"?module.exports=t(require("jquery")):t(jQuery)}(this,function(n){var t=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(n){return!n||/^\s*$/.test(n)},escapeRegExChars:function(n){return n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(n){return typeof n=="string"},isNumber:function(n){return typeof n=="number"},isArray:n.isArray,isFunction:n.isFunction,isObject:n.isPlainObject,isUndefined:function(n){return typeof n=="undefined"},isElement:function(n){return!!(n&&n.nodeType===1)},isJQuery:function(t){return t instanceof n},toStr:function(n){return t.isUndefined(n)||n===null?"":n+""},bind:n.proxy,each:function(t,i){function r(n,t){return i(t,n)}n.each(t,r)},map:n.map,filter:n.grep,every:function(t,i){var r=!0;return t?(n.each(t,function(n,u){if(!(r=i.call(null,u,n,t)))return!1}),!!r):r},some:function(t,i){var r=!1;return t?(n.each(t,function(n,u){if(r=i.call(null,u,n,t))return!1}),!!r):r},mixin:n.extend,identity:function(n){return n},clone:function(t){return n.extend(!0,{},t)},getIdGenerator:function(){var n=0;return function(){return n++}},templatify:function(t){function i(){return String(t)}return n.isFunction(t)?t:i},defer:function(n){setTimeout(n,0)},debounce:function(n,t,i){var r,u;return function(){var f=this,e=arguments,o,s;return o=function(){r=null;i||(u=n.apply(f,e))},s=i&&!r,clearTimeout(r),r=setTimeout(o,t),s&&(u=n.apply(f,e)),u}},throttle:function(n,t){var u,f,i,e,r,o;return r=0,o=function(){r=new Date;i=null;e=n.apply(u,f)},function(){var s=new Date,h=t-(s-r);return u=this,f=arguments,h<=0?(clearTimeout(i),i=null,r=s,e=n.apply(u,f)):i||(i=setTimeout(o,h)),e}},stringify:function(n){return t.isString(n)?n:JSON.stringify(n)},noop:function(){}}}(),e=function(){"use strict";function i(i){var e,o;return o=t.mixin({},n,i),e={css:f(),classes:o,html:r(o),selectors:u(o)},{css:e.css,html:e.html,classes:e.classes,selectors:e.selectors,mixin:function(n){t.mixin(n,e)}}}function r(n){return{wrapper:'<span class="'+n.wrapper+'"><\/span>',menu:'<div class="'+n.menu+'"><\/div>'}}function u(n){var i={};return t.each(n,function(n,t){i[t]="."+n}),i}function f(){var n={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return t.isMsie()&&t.mixin(n.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),n}var n={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-dropdown-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return i}(),o=function(){"use strict";function u(t){t&&t.el||n.error("EventBus initialized without el");this.$el=n(t.el)}var i,r;return i="typeahead:",r={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"},t.mixin(u.prototype,{_trigger:function(t,r){var u;return u=n.Event(i+t),(r=r||[]).unshift(u),this.$el.trigger.apply(this.$el,r),u},before:function(n){var t,i;return t=[].slice.call(arguments,1),i=this._trigger("before"+n,t),i.isDefaultPrevented()},trigger:function(n){var t;this._trigger(n,[].slice.call(arguments,1));(t=r[n])&&this._trigger(t,[].slice.call(arguments,1))}}),u}(),r=function(){"use strict";function t(t,i,r,u){var f;if(!r)return this;for(i=i.split(n),r=u?h(r,u):r,this._callbacks=this._callbacks||{};f=i.shift();)this._callbacks[f]=this._callbacks[f]||{sync:[],async:[]},this._callbacks[f][t].push(r);return this}function u(n,i,r){return t.call(this,"async",n,i,r)}function f(n,i,r){return t.call(this,"sync",n,i,r)}function e(t){var i;if(!this._callbacks)return this;for(t=t.split(n);i=t.shift();)delete this._callbacks[i];return this}function o(t){var u,f,e,o,s;if(!this._callbacks)return this;for(t=t.split(n),e=[].slice.call(arguments,1);(u=t.shift())&&(f=this._callbacks[u]);)o=i(f.sync,this,[u].concat(e)),s=i(f.async,this,[u].concat(e)),o()&&r(s);return this}function i(n,t,i){function r(){for(var r,u=0,f=n.length;!r&&u<f;u+=1)r=n[u].apply(t,i)===!1;return!r}return r}function s(){return window.setImmediate?function(n){setImmediate(function(){n()})}:function(n){setTimeout(function(){n()},0)}}function h(n,t){return n.bind?n.bind(t):function(){n.apply(t,[].slice.call(arguments,0))}}var n=/\s+/,r=s();return{onSync:f,onAsync:u,off:e,trigger:o}}(),s=function(n){"use strict";function r(n,i,r){for(var u=[],f,e=0,o=n.length;e<o;e++)u.push(t.escapeRegExChars(n[e]));return f=r?"\\b("+u.join("|")+")\\b":"("+u.join("|")+")",i?new RegExp(f):new RegExp(f,"i")}var i={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(u){function o(t){var i,r,e;return(i=f.exec(t.data))&&(e=n.createElement(u.tagName),u.className&&(e.className=u.className),r=t.splitText(i.index),r.splitText(i[0].length),e.appendChild(r.cloneNode(!0)),t.parentNode.replaceChild(e,r)),!!i}function e(n,t){for(var i,r=0;r<n.childNodes.length;r++)i=n.childNodes[r],i.nodeType===3?r+=t(i)?1:0:e(i,t)}var f;(u=t.mixin({},i,u),u.node&&u.pattern)&&(u.pattern=t.isArray(u.pattern)?u.pattern:[u.pattern],f=r(u.pattern,u.caseSensitive,u.wordsOnly),e(u.node,o))}}(window.document),u=function(){"use strict";function i(i,r){i=i||{};i.input||n.error("input is missing");r.mixin(this);this.$hint=n(i.hint);this.$input=n(i.input);this.query=this.$input.val();this.queryWhenFocused=this.hasFocus()?this.query:null;this.$overflowHelper=e(this.$input);this._checkLanguageDirection();this.$hint.length===0&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=t.noop)}function e(t){return n('<pre aria-hidden="true"><\/pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:t.css("font-family"),fontSize:t.css("font-size"),fontStyle:t.css("font-style"),fontVariant:t.css("font-variant"),fontWeight:t.css("font-weight"),wordSpacing:t.css("word-spacing"),letterSpacing:t.css("letter-spacing"),textIndent:t.css("text-indent"),textRendering:t.css("text-rendering"),textTransform:t.css("text-transform")}).insertAfter(t)}function o(n,t){return i.normalizeQuery(n)===i.normalizeQuery(t)}function f(n){return n.altKey||n.ctrlKey||n.metaKey||n.shiftKey}var u;return u={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},i.normalizeQuery=function(n){return t.toStr(n).replace(/^\s*/g,"").replace(/\s{2,}/g," ")},t.mixin(i.prototype,r,{_onBlur:function(){this.resetInputValue();this.trigger("blurred")},_onFocus:function(){this.queryWhenFocused=this.query;this.trigger("focused")},_onKeydown:function(n){var t=u[n.which||n.keyCode];this._managePreventDefault(t,n);t&&this._shouldTrigger(t,n)&&this.trigger(t+"Keyed",n)},_onInput:function(){this._setQuery(this.getInputValue());this.clearHintIfInvalid();this._checkLanguageDirection()},_managePreventDefault:function(n,t){var i;switch(n){case"up":case"down":i=!f(t);break;default:i=!1}i&&t.preventDefault()},_shouldTrigger:function(n,t){var i;switch(n){case"tab":i=!f(t);break;default:i=!0}return i},_checkLanguageDirection:function(){var n=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==n&&(this.dir=n,this.$hint.attr("dir",n),this.trigger("langDirChanged",n))},_setQuery:function(n,t){var i,r;i=o(n,this.query);r=i?this.query.length!==n.length:!1;this.query=n;t||i?!t&&r&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},bind:function(){var n=this,i,r,f,e;i=t.bind(this._onBlur,this);r=t.bind(this._onFocus,this);f=t.bind(this._onKeydown,this);e=t.bind(this._onInput,this);this.$input.on("blur.tt",i).on("focus.tt",r).on("keydown.tt",f);if(!t.isMsie()||t.isMsie()>9)this.$input.on("input.tt",e);else this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(i){u[i.which||i.keyCode]||t.defer(t.bind(n._onInput,n,i))});return this},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getLangDir:function(){return this.dir},getQuery:function(){return this.query||""},setQuery:function(n,t){this.setInputValue(n);this._setQuery(n,t)},hasQueryChangedSinceLastFocus:function(){return this.query!==this.queryWhenFocused},getInputValue:function(){return this.$input.val()},setInputValue:function(n){this.$input.val(n);this.clearHintIfInvalid();this._checkLanguageDirection()},resetInputValue:function(){this.setInputValue(this.query)},getHint:function(){return this.$hint.val()},setHint:function(n){this.$hint.val(n)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var n,t,i,r;n=this.getInputValue();t=this.getHint();i=n!==t&&t.indexOf(n)===0;r=n!==""&&i&&!this.hasOverflow();r||this.clearHint()},hasFocus:function(){return this.$input.is(":focus")},hasOverflow:function(){var n=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=n},isCursorAtEnd:function(){var n,i,r;return(n=this.$input.val().length,i=this.$input[0].selectionStart,t.isNumber(i))?i===n:document.selection?(r=document.selection.createRange(),r.moveStart("character",-n),n===r.text.length):!0},destroy:function(){this.$hint.off(".tt");this.$input.off(".tt");this.$overflowHelper.remove();this.$hint=this.$input=this.$overflowHelper=n("<div>")}}),i}(),f=function(){"use strict";function u(i,r){i=i||{};i.templates=i.templates||{};i.templates.notFound=i.templates.notFound||i.templates.empty;i.source||n.error("missing source");i.node||n.error("missing node");i.name&&!h(i.name)&&n.error("invalid dataset name: "+i.name);r.mixin(this);this.highlight=!!i.highlight;this.name=i.name||f();this.limit=i.limit||5;this.displayFn=e(i.display||i.displayKey);this.templates=o(i.templates,this.displayFn);this.source=i.source.__ttAdapter?i.source.__ttAdapter():i.source;this.async=t.isUndefined(i.async)?this.source.length>2:!!i.async;this._resetLastSuggestion();this.$el=n(i.node).addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}function e(n){function i(t){return t[n]}return n=n||t.stringify,t.isFunction(n)?n:i}function o(i,r){function u(t){return n("<div>").text(r(t))}return{notFound:i.notFound&&t.templatify(i.notFound),pending:i.pending&&t.templatify(i.pending),header:i.header&&t.templatify(i.header),footer:i.footer&&t.templatify(i.footer),suggestion:i.suggestion||u}}function h(n){return/^[_a-zA-Z0-9-]+$/.test(n)}var i,f;return i={val:"tt-selectable-display",obj:"tt-selectable-object"},f=t.getIdGenerator(),u.extractData=function(t){var r=n(t);return r.data(i.obj)?{val:r.data(i.val)||"",obj:r.data(i.obj)||null}:null},t.mixin(u.prototype,r,{_overwrite:function(n,t){t=t||[];t.length?this._renderSuggestions(n,t):this.async&&this.templates.pending?this._renderPending(n):!this.async&&this.templates.notFound?this._renderNotFound(n):this._empty();this.trigger("rendered",this.name,t,!1)},_append:function(n,t){t=t||[];t.length&&this.$lastSuggestion.length?this._appendSuggestions(n,t):t.length?this._renderSuggestions(n,t):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(n);this.trigger("rendered",this.name,t,!0)},_renderSuggestions:function(n,t){var i;i=this._getSuggestionsFragment(n,t);this.$lastSuggestion=i.children().last();this.$el.html(i).prepend(this._getHeader(n,t)).append(this._getFooter(n,t))},_appendSuggestions:function(n,t){var i,r;i=this._getSuggestionsFragment(n,t);r=i.children().last();this.$lastSuggestion.after(i);this.$lastSuggestion=r},_renderPending:function(n){var t=this.templates.pending;this._resetLastSuggestion();t&&this.$el.html(t({query:n,dataset:this.name}))},_renderNotFound:function(n){var t=this.templates.notFound;this._resetLastSuggestion();t&&this.$el.html(t({query:n,dataset:this.name}))},_empty:function(){this.$el.empty();this._resetLastSuggestion()},_getSuggestionsFragment:function(r,u){var f=this,e;return e=document.createDocumentFragment(),t.each(u,function(t){var u,o;o=f._injectQuery(r,t);u=n(f.templates.suggestion(o)).data(i.obj,t).data(i.val,f.displayFn(t)).addClass(f.classes.suggestion+" "+f.classes.selectable);e.appendChild(u[0])}),this.highlight&&s({className:this.classes.highlight,node:e,pattern:r}),n(e)},_getFooter:function(n,t){return this.templates.footer?this.templates.footer({query:n,suggestions:t,dataset:this.name}):null},_getHeader:function(n,t){return this.templates.header?this.templates.header({query:n,suggestions:t,dataset:this.name}):null},_resetLastSuggestion:function(){this.$lastSuggestion=n()},_injectQuery:function(n,i){return t.isObject(i)?t.mixin({_query:n},i):i},update:function(t){function e(n){u||(u=!0,n=(n||[]).slice(0,i.limit),r=n.length,i._overwrite(t,n),r<i.limit&&i.async&&i.trigger("asyncRequested",t))}function o(u){u=u||[];!f&&r<i.limit&&(i.cancel=n.noop,i._append(t,u.slice(0,i.limit-r)),r+=u.length,i.async&&i.trigger("asyncReceived",t))}var i=this,f=!1,u=!1,r=0;this.cancel();this.cancel=function(){f=!0;i.cancel=n.noop;i.async&&i.trigger("asyncCanceled",t)};this.source(t,e,o);u||e([])},cancel:n.noop,clear:function(){this._empty();this.cancel();this.trigger("cleared")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=n("<div>")}}),u}(),i=function(){"use strict";function i(i,r){function e(t){var i=u.$node.find(t.node).first();return t.node=i.length?i:n("<div>").appendTo(u.$node),new f(t,r)}var u=this;i=i||{};i.node||n.error("node is required");r.mixin(this);this.$node=n(i.node);this.query=null;this.datasets=t.map(i.datasets,e)}return t.mixin(i.prototype,r,{_onSelectableClick:function(t){this.trigger("selectableClicked",n(t.currentTarget))},_onRendered:function(n,t,i,r){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty());this.trigger("datasetRendered",t,i,r)},_onCleared:function(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty());this.trigger("datasetCleared")},_propagate:function(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function(){function n(n){return n.isEmpty()}return t.every(this.datasets,n)},_getSelectables:function(){return this.$node.find(this.selectors.selectable)},_removeCursor:function(){var n=this.getActiveSelectable();n&&n.removeClass(this.classes.cursor)},_ensureVisible:function(n){var t,i,r,u;t=n.position().top;i=t+n.outerHeight(!0);r=this.$node.scrollTop();u=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10);t<0?this.$node.scrollTop(r+t):u<i&&this.$node.scrollTop(r+(i-u))},bind:function(){var n=this,i=t.bind(this._onSelectableClick,this);this.$node.on("click.tt",this.selectors.selectable,i);return t.each(this.datasets,function(t){t.onSync("asyncRequested",n._propagate,n).onSync("asyncCanceled",n._propagate,n).onSync("asyncReceived",n._propagate,n).onSync("rendered",n._onRendered,n).onSync("cleared",n._onCleared,n)}),this},isOpen:function(){return this.$node.hasClass(this.classes.open)},open:function(){this.$node.addClass(this.classes.open)},close:function(){this.$node.removeClass(this.classes.open);this._removeCursor()},setLanguageDirection:function(n){this.$node.attr("dir",n)},selectableRelativeToCursor:function(n){var i,r,u,t;return r=this.getActiveSelectable(),i=this._getSelectables(),u=r?i.index(r):-1,t=u+n,t=(t+1)%(i.length+1)-1,t=t<-1?i.length-1:t,t===-1?null:i.eq(t)},setCursor:function(n){this._removeCursor();(n=n&&n.first())&&(n.addClass(this.classes.cursor),this._ensureVisible(n))},getSelectableData:function(n){return n&&n.length?f.extractData(n):null},getActiveSelectable:function(){var n=this._getSelectables().filter(this.selectors.cursor).first();return n.length?n:null},getTopSelectable:function(){var n=this._getSelectables().first();return n.length?n:null},update:function(n){function r(t){t.update(n)}var i=n!==this.query;return i&&(this.query=n,t.each(this.datasets,r)),i},empty:function(){function n(n){n.clear()}t.each(this.datasets,n);this.query=null;this.$node.addClass(this.classes.empty)},destroy:function(){function i(n){n.destroy()}this.$node.off(".tt");this.$node=n("<div>");t.each(this.datasets,i)}}),i}(),h=function(){"use strict";function r(){i.apply(this,[].slice.call(arguments,0))}var n=i.prototype;return t.mixin(r.prototype,i.prototype,{open:function(){return this._allDatasetsEmpty()||this._show(),n.open.apply(this,[].slice.call(arguments,0))},close:function(){return this._hide(),n.close.apply(this,[].slice.call(arguments,0))},_onRendered:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),n._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),n._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function(t){return this.$node.css(t==="ltr"?this.css.ltr:this.css.rtl),n.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function(){this.$node.hide()},_show:function(){this.$node.css("display","block")}}),r}(),c=function(){"use strict";function r(r,u){var f,e,o,s,h,c,l,a,v,y,p;r=r||{};r.input||n.error("missing input");r.menu||n.error("missing menu");r.eventBus||n.error("missing event bus");u.mixin(this);this.eventBus=r.eventBus;this.minLength=t.isNumber(r.minLength)?r.minLength:1;this.input=r.input;this.menu=r.menu;this.enabled=!0;this.active=!1;this.input.hasFocus()&&this.activate();this.dir=this.input.getLangDir();this._hacks();this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this);f=i(this,"activate","open","_onFocused");e=i(this,"deactivate","_onBlurred");o=i(this,"isActive","isOpen","_onEnterKeyed");s=i(this,"isActive","isOpen","_onTabKeyed");h=i(this,"isActive","_onEscKeyed");c=i(this,"isActive","open","_onUpKeyed");l=i(this,"isActive","open","_onDownKeyed");a=i(this,"isActive","isOpen","_onLeftKeyed");v=i(this,"isActive","isOpen","_onRightKeyed");y=i(this,"_openIfActive","_onQueryChanged");p=i(this,"_openIfActive","_onWhitespaceChanged");this.input.bind().onSync("focused",f,this).onSync("blurred",e,this).onSync("enterKeyed",o,this).onSync("tabKeyed",s,this).onSync("escKeyed",h,this).onSync("upKeyed",c,this).onSync("downKeyed",l,this).onSync("leftKeyed",a,this).onSync("rightKeyed",v,this).onSync("queryChanged",y,this).onSync("whitespaceChanged",p,this).onSync("langDirChanged",this._onLangDirChanged,this)}function i(n){var i=[].slice.call(arguments,1);return function(){var r=[].slice.call(arguments);t.each(i,function(t){return n[t].apply(n,r)})}}return t.mixin(r.prototype,{_hacks:function(){var r,i;r=this.input.$input||n("<div>");i=this.menu.$node||n("<div>");r.on("blur.tt",function(n){var u,f,e;u=document.activeElement;f=i.is(u);e=i.has(u).length>0;t.isMsie()&&(f||e)&&(n.preventDefault(),n.stopImmediatePropagation(),t.defer(function(){r.focus()}))});i.on("mousedown.tt",function(n){n.preventDefault()})},_onSelectableClicked:function(n,t){this.select(t)},_onDatasetCleared:function(){this._updateHint()},_onDatasetRendered:function(n,t,i,r){this._updateHint();this.eventBus.trigger("render",i,r,t)},_onAsyncRequested:function(n,t,i){this.eventBus.trigger("asyncrequest",i,t)},_onAsyncCanceled:function(n,t,i){this.eventBus.trigger("asynccancel",i,t)},_onAsyncReceived:function(n,t,i){this.eventBus.trigger("asyncreceive",i,t)},_onFocused:function(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function(n,t){var i;(i=this.menu.getActiveSelectable())&&this.select(i)&&t.preventDefault()},_onTabKeyed:function(n,t){var i;(i=this.menu.getActiveSelectable())?this.select(i)&&t.preventDefault():(i=this.menu.getTopSelectable())&&this.autocomplete(i)&&t.preventDefault()},_onEscKeyed:function(){this.close()},_onUpKeyed:function(){this.moveCursor(-1)},_onDownKeyed:function(){this.moveCursor(1)},_onLeftKeyed:function(){this.dir==="rtl"&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onRightKeyed:function(){this.dir==="ltr"&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onQueryChanged:function(n,t){this._minLengthMet(t)?this.menu.update(t):this.menu.empty()},_onWhitespaceChanged:function(){this._updateHint()},_onLangDirChanged:function(n,t){this.dir!==t&&(this.dir=t,this.menu.setLanguageDirection(t))},_openIfActive:function(){this.isActive()&&this.open()},_minLengthMet:function(n){return n=t.isString(n)?n:this.input.getQuery()||"",n.length>=this.minLength},_updateHint:function(){var f,i,n,e,o,s,r;f=this.menu.getTopSelectable();i=this.menu.getSelectableData(f);n=this.input.getInputValue();!i||t.isBlankString(n)||this.input.hasOverflow()?this.input.clearHint():(e=u.normalizeQuery(n),o=t.escapeRegExChars(e),s=new RegExp("^(?:"+o+")(.+$)","i"),r=s.exec(i.val),r&&this.input.setHint(n+r[1]))},isEnabled:function(){return this.enabled},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},isActive:function(){return this.active},activate:function(){return this.isActive()?!0:!this.isEnabled()||this.eventBus.before("active")?!1:(this.active=!0,this.eventBus.trigger("active"),!0)},deactivate:function(){return this.isActive()?this.eventBus.before("idle")?!1:(this.active=!1,this.close(),this.eventBus.trigger("idle"),!0):!0},isOpen:function(){return this.menu.isOpen()},open:function(){return this.isOpen()||this.eventBus.before("open")||(this.menu.open(),this._updateHint(),this.eventBus.trigger("open")),this.isOpen()},close:function(){return this.isOpen()&&!this.eventBus.before("close")&&(this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close")),!this.isOpen()},setVal:function(n){this.input.setQuery(t.toStr(n))},getVal:function(){return this.input.getQuery()},select:function(n){var t=this.menu.getSelectableData(n);return t&&!this.eventBus.before("select",t.obj)?(this.input.setQuery(t.val,!0),this.eventBus.trigger("select",t.obj),this.close(),!0):!1},autocomplete:function(n){var i,t,r;return(i=this.input.getQuery(),t=this.menu.getSelectableData(n),r=t&&i!==t.val,r&&!this.eventBus.before("autocomplete",t.obj))?(this.input.setQuery(t.val),this.eventBus.trigger("autocomplete",t.obj),!0):!1},moveCursor:function(n){var u,i,t,r,f;return(u=this.input.getQuery(),i=this.menu.selectableRelativeToCursor(n),t=this.menu.getSelectableData(i),r=t?t.obj:null,f=this._minLengthMet()&&this.menu.update(u),!f&&!this.eventBus.before("cursorchange",r))?(this.menu.setCursor(i),t?this.input.setInputValue(t.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",r),!0):!1},destroy:function(){this.input.destroy();this.menu.destroy()}}),r}();(function(){"use strict";function r(t,i){t.each(function(){var t=n(this),r;(r=t.data(f.typeahead))&&i(r,t)})}function v(n,t){return n.clone().addClass(t.classes.hint).removeData().css(t.css.hint).css(p(n)).prop("readonly",!0).removeAttr("id name placeholder required").attr({autocomplete:"off",spellcheck:"false",tabindex:-1})}function y(n,t){n.data(f.attrs,{dir:n.attr("dir"),autocomplete:n.attr("autocomplete"),spellcheck:n.attr("spellcheck"),style:n.attr("style")});n.addClass(t.classes.input).attr({autocomplete:"off",spellcheck:!1});try{n.attr("dir")||n.attr("dir","auto")}catch(i){}return n}function p(n){return{backgroundAttachment:n.css("background-attachment"),backgroundClip:n.css("background-clip"),backgroundColor:n.css("background-color"),backgroundImage:n.css("background-image"),backgroundOrigin:n.css("background-origin"),backgroundPosition:n.css("background-position"),backgroundRepeat:n.css("background-repeat"),backgroundSize:n.css("background-size")}}function w(n){var r,i;r=n.data(f.www);i=n.parent().filter(r.selectors.wrapper);t.each(n.data(f.attrs),function(i,r){t.isUndefined(i)?n.removeAttr(r):n.attr(r,i)});n.removeData(f.typeahead).removeData(f.www).removeData(f.attr).removeClass(r.classes.input);i.length&&(n.detach().insertAfter(i),i.remove())}function a(i){var u,r;return u=t.isJQuery(i)||t.isElement(i),r=u?n(i).first():[],r.length?r:null}var l,f,s;l=n.fn.typeahead;f={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"};s={initialize:function(r,s){function p(){var e,d,p,w,b,k,g,nt,tt,it,rt;t.each(s,function(n){n.highlight=!!r.highlight});e=n(this);d=n(l.html.wrapper);p=a(r.hint);w=a(r.menu);b=r.hint!==!1&&!p;k=r.menu!==!1&&!w;b&&(p=v(e,l));k&&(w=n(l.html.menu).css(l.css.menu));p&&p.val("");e=y(e,l);(b||k)&&(d.css(l.css.wrapper),e.css(b?l.css.input:l.css.inputWithNoHint),e.wrap(d).parent().prepend(b?p:null).append(k?w:null));rt=k?h:i;g=new o({el:e});nt=new u({hint:p,input:e},l);tt=new rt({node:w,datasets:s},l);it=new c({input:nt,menu:tt,eventBus:g,minLength:r.minLength},l);e.data(f.www,l);e.data(f.typeahead,it)}var l;return s=t.isArray(s)?s:[].slice.call(arguments,1),r=r||{},l=e(r.classNames),this.each(p)},isEnabled:function(){var n;return r(this.first(),function(t){n=t.isEnabled()}),n},enable:function(){return r(this,function(n){n.enable()}),this},disable:function(){return r(this,function(n){n.disable()}),this},isActive:function(){var n;return r(this.first(),function(t){n=t.isActive()}),n},activate:function(){return r(this,function(n){n.activate()}),this},deactivate:function(){return r(this,function(n){n.deactivate()}),this},isOpen:function(){var n;return r(this.first(),function(t){n=t.isOpen()}),n},open:function(){return r(this,function(n){n.open()}),this},close:function(){return r(this,function(n){n.close()}),this},select:function(t){var i=!1,u=n(t);return r(this.first(),function(n){i=n.select(u)}),i},autocomplete:function(t){var i=!1,u=n(t);return r(this.first(),function(n){i=n.autocomplete(u)}),i},moveCursor:function(n){var t=!1;return r(this.first(),function(i){t=i.moveCursor(n)}),t},val:function(n){var t;return arguments.length?(r(this,function(t){t.setVal(n)}),this):(r(this.first(),function(n){t=n.getVal()}),t)},destroy:function(){return r(this,function(n,t){w(t);n.destroy()}),this}};n.fn.typeahead=function(n){return s[n]?s[n].apply(this,[].slice.call(arguments,1)):s.initialize.apply(this,arguments)};n.fn.typeahead.noConflict=function(){return n.fn.typeahead=l,this}})()});fakewaffle=function(n,t){"use strict";return t.responsiveTabs=function(i){t.currentPosition="tabs";var e=n(".nav-tabs.responsive"),o="",u="",r="",f="";i===undefined&&(i=["xs","sm"]);n.each(i,function(){o+=" hidden-"+this;u+=" visible-"+this;f=this});n.each(e,function(){var t=n(this),e=t.find("li a"),i=n("<div><\/div>",{"class":"panel-group panel-group-accordion responsive hidden-print"+u,"data-visible":f,id:"collapse-"+t.attr("id")});n.each(e,function(){var u=n(this),s=u.attr("class")===undefined?"":u.attr("class"),h="accordion-toggle",e=u.parent().attr("class")===undefined?"":u.parent().attr("class"),f="panel panel-default",o=u.get(0).hash.replace("#","collapse-");s.length>0&&(h+=" "+s);e.length>0&&(e=e.replace(/\bactive\b/g,""),f+=" "+e,f=f.replace(/\s{2,}/g," "),f=f.replace(/^\s+|\s+$/g,""));u.parent().hasClass("active")&&(r="#"+o);i.append(n("<div>").attr("class",f).html(n("<div>").attr("class","panel-heading").html(n("<h2>").attr("class","panel-title").html(n("<a>",{"class":"item-with-img template-accordion-link collapsed "+h,"data-toggle":"collapse","data-parent":"#collapse-"+t.attr("id"),href:"#"+o,html:'<span aria-hidden="true" class="item-img cw-transinfo cw-nav-collapse2"><\/span><span class="item-text">'+u.html()+"<\/span>"})))).append(n("<div>",{id:o,"class":"panel-collapse collapse"})))});t.next().after(i)});t.checkResize();t.bindTabToCollapse();r&&n(r).collapse("show")},t.checkResize=function(){n(".panel-group.responsive").is(":visible")===!0&&t.currentPosition==="tabs"?(t.tabToPanel(),t.currentPosition="panel"):n(".panel-group.responsive").is(":visible")===!1&&t.currentPosition==="panel"&&(t.panelToTab(),t.currentPosition="tabs")},t.tabToPanel=function(){var r=n(".panel-group.responsive"),t,i;r.removeClass("hidden-print");t=r.attr("data-visible");i=n(".nav-tabs.responsive");i.addClass("hidden-"+t);n(".tab-content.responsive").addClass("hidden-"+t);n.each(i,function(t,i){var r=n(i).next(".tab-content").find(".tab-pane");n.each(r,function(t,i){var r=n(i).attr("id").replace(/^/,"#collapse-");n(i).removeClass("tab-pane").addClass("panel-body").appendTo(n(r))})})},t.panelToTab=function(){var t=n(".panel-group.responsive"),i,r;t.addClass("hidden-print");i=t.attr("data-visible");r=n(".nav-tabs.responsive");r.removeClass("hidden-"+i);n(".tab-content.responsive").removeClass("hidden-"+i);n.each(t,function(t,i){var r=n(i).attr("id").replace("collapse-","#"),u=n(r).next(".tab-content")[0],f=n(i).find(".panel-body");f.removeClass("panel-body").addClass("tab-pane").appendTo(n(u))})},t.bindTabToCollapse=function(){var t=n(".nav-tabs.responsive").find("li a"),i=n(".panel-group.responsive").find(".panel-collapse");t.on("shown.bs.tab",function(t){var r=n(t.currentTarget.hash.replace(/#/,"#collapse-")),i;r.collapse("show");t.relatedTarget&&(i=n(t.relatedTarget.hash.replace(/#/,"#collapse-")),i.collapse("hide"))});i.on("shown.bs.collapse",function(t){var i=n(t.target).context.id.replace(/collapse-/g,"#"),r;n('a[href="'+i+'"]').tab("show");r=n(t.currentTarget).closest(".panel-group.responsive");n(r).find(".panel-body").removeClass("active");n(t.currentTarget).find(".panel-body").addClass("active");cityWay.eventManager.publish(cityWay.events.template.showPanel,i)})},n(window).resize(function(){t.checkResize()}),t}(window.jQuery,fakewaffle||{}),function(){var n=[].slice;(function(t,i){"use strict";var r;return r=function(){function n(n,i){i==null&&(i={});this.$element=t(n);this.options=t.extend({},t.fn.bootstrapSwitch.defaults,{state:this.$element.is(":checked"),size:this.$element.data("size"),animate:this.$element.data("animate"),disabled:this.$element.is(":disabled"),readonly:this.$element.is("[readonly]"),indeterminate:this.$element.data("indeterminate"),inverse:this.$element.data("inverse"),radioAllOff:this.$element.data("radio-all-off"),onColor:this.$element.data("on-color"),offColor:this.$element.data("off-color"),onText:this.$element.data("on-text"),offText:this.$element.data("off-text"),labelText:this.$element.data("label-text"),handleWidth:this.$element.data("handle-width"),labelWidth:this.$element.data("label-width"),baseClass:this.$element.data("base-class"),wrapperClass:this.$element.data("wrapper-class")},i);this.prevOptions={};this.$wrapper=t("<div>",{"class":function(n){return function(){var t;return t=[""+n.options.baseClass].concat(n._getClasses(n.options.wrapperClass)),t.push(n.options.state?n.options.baseClass+"-on":n.options.baseClass+"-off"),n.options.size!=null&&t.push(n.options.baseClass+"-"+n.options.size),n.options.disabled&&t.push(n.options.baseClass+"-disabled"),n.options.readonly&&t.push(n.options.baseClass+"-readonly"),n.options.indeterminate&&t.push(n.options.baseClass+"-indeterminate"),n.options.inverse&&t.push(n.options.baseClass+"-inverse"),n.$element.attr("id")&&t.push(n.options.baseClass+"-id-"+n.$element.attr("id")),t.join(" ")}}(this)()});this.$container=t("<div>",{"class":this.options.baseClass+"-container"});this.$on=t("<span>",{html:this.options.onText,"class":this.options.baseClass+"-handle-on "+this.options.baseClass+"-"+this.options.onColor});this.$off=t("<span>",{html:this.options.offText,"class":this.options.baseClass+"-handle-off "+this.options.baseClass+"-"+this.options.offColor});this.$label=t("<span>",{html:this.options.labelText,"class":this.options.baseClass+"-label"});this.$element.on("init.bootstrapSwitch",function(t){return function(){return t.options.onInit.apply(n,arguments)}}(this));this.$element.on("switchChange.bootstrapSwitch",function(i){return function(){if(!1===i.options.onSwitchChange.apply(n,arguments))return i.$element.is(":radio")?t("[name='"+i.$element.attr("name")+"']").trigger("previousState.bootstrapSwitch",!0):i.$element.trigger("previousState.bootstrapSwitch",!0)}}(this));this.$container=this.$element.wrap(this.$container).parent();this.$wrapper=this.$container.wrap(this.$wrapper).parent();this.$element.before(this.options.inverse?this.$off:this.$on).before(this.$label).before(this.options.inverse?this.$on:this.$off);this.options.indeterminate&&this.$element.prop("indeterminate",!0);this._init();this._elementHandlers();this._handleHandlers();this._labelHandlers();this._formHandler();this._externalLabelHandler();this.$element.trigger("init.bootstrapSwitch",this.options.state)}return n.prototype._constructor=n,n.prototype.setPrevOptions=function(){return this.prevOptions=t.extend(!0,{},this.options)},n.prototype.state=function(n,i){return typeof n=="undefined"?this.options.state:this.options.disabled||this.options.readonly?this.$element:this.options.state&&!this.options.radioAllOff&&this.$element.is(":radio")?this.$element:(this.$element.is(":radio")?t("[name='"+this.$element.attr("name")+"']").trigger("setPreviousOptions.bootstrapSwitch"):this.$element.trigger("setPreviousOptions.bootstrapSwitch"),this.options.indeterminate&&this.indeterminate(!1),n=!!n,this.$element.prop("checked",n).trigger("change.bootstrapSwitch",i),this.$element)},n.prototype.toggleState=function(n){return this.options.disabled||this.options.readonly?this.$element:this.options.indeterminate?(this.indeterminate(!1),this.state(!0)):this.$element.prop("checked",!this.options.state).trigger("change.bootstrapSwitch",n)},n.prototype.size=function(n){return typeof n=="undefined"?this.options.size:(this.options.size!=null&&this.$wrapper.removeClass(this.options.baseClass+"-"+this.options.size),n&&this.$wrapper.addClass(this.options.baseClass+"-"+n),this._width(),this._containerPosition(),this.options.size=n,this.$element)},n.prototype.animate=function(n){return typeof n=="undefined"?this.options.animate:(n=!!n,n===this.options.animate)?this.$element:this.toggleAnimate()},n.prototype.toggleAnimate=function(){return this.options.animate=!this.options.animate,this.$wrapper.toggleClass(this.options.baseClass+"-animate"),this.$element},n.prototype.disabled=function(n){return typeof n=="undefined"?this.options.disabled:(n=!!n,n===this.options.disabled)?this.$element:this.toggleDisabled()},n.prototype.toggleDisabled=function(){return this.options.disabled=!this.options.disabled,this.$element.prop("disabled",this.options.disabled),this.$wrapper.toggleClass(this.options.baseClass+"-disabled"),this.$element},n.prototype.readonly=function(n){return typeof n=="undefined"?this.options.readonly:(n=!!n,n===this.options.readonly)?this.$element:this.toggleReadonly()},n.prototype.toggleReadonly=function(){return this.options.readonly=!this.options.readonly,this.$element.prop("readonly",this.options.readonly),this.$wrapper.toggleClass(this.options.baseClass+"-readonly"),this.$element},n.prototype.indeterminate=function(n){return typeof n=="undefined"?this.options.indeterminate:(n=!!n,n===this.options.indeterminate)?this.$element:this.toggleIndeterminate()},n.prototype.toggleIndeterminate=function(){return this.options.indeterminate=!this.options.indeterminate,this.$element.prop("indeterminate",this.options.indeterminate),this.$wrapper.toggleClass(this.options.baseClass+"-indeterminate"),this._containerPosition(),this.$element},n.prototype.inverse=function(n){return typeof n=="undefined"?this.options.inverse:(n=!!n,n===this.options.inverse)?this.$element:this.toggleInverse()},n.prototype.toggleInverse=function(){var n,t;return this.$wrapper.toggleClass(this.options.baseClass+"-inverse"),t=this.$on.clone(!0),n=this.$off.clone(!0),this.$on.replaceWith(n),this.$off.replaceWith(t),this.$on=n,this.$off=t,this.options.inverse=!this.options.inverse,this.$element},n.prototype.onColor=function(n){var t;return(t=this.options.onColor,typeof n=="undefined")?t:(t!=null&&this.$on.removeClass(this.options.baseClass+"-"+t),this.$on.addClass(this.options.baseClass+"-"+n),this.options.onColor=n,this.$element)},n.prototype.offColor=function(n){var t;return(t=this.options.offColor,typeof n=="undefined")?t:(t!=null&&this.$off.removeClass(this.options.baseClass+"-"+t),this.$off.addClass(this.options.baseClass+"-"+n),this.options.offColor=n,this.$element)},n.prototype.onText=function(n){return typeof n=="undefined"?this.options.onText:(this.$on.html(n),this._width(),this._containerPosition(),this.options.onText=n,this.$element)},n.prototype.offText=function(n){return typeof n=="undefined"?this.options.offText:(this.$off.html(n),this._width(),this._containerPosition(),this.options.offText=n,this.$element)},n.prototype.labelText=function(n){return typeof n=="undefined"?this.options.labelText:(this.$label.html(n),this._width(),this.options.labelText=n,this.$element)},n.prototype.handleWidth=function(n){return typeof n=="undefined"?this.options.handleWidth:(this.options.handleWidth=n,this._width(),this._containerPosition(),this.$element)},n.prototype.labelWidth=function(n){return typeof n=="undefined"?this.options.labelWidth:(this.options.labelWidth=n,this._width(),this._containerPosition(),this.$element)},n.prototype.baseClass=function(){return this.options.baseClass},n.prototype.wrapperClass=function(n){return typeof n=="undefined"?this.options.wrapperClass:(n||(n=t.fn.bootstrapSwitch.defaults.wrapperClass),this.$wrapper.removeClass(this._getClasses(this.options.wrapperClass).join(" ")),this.$wrapper.addClass(this._getClasses(n).join(" ")),this.options.wrapperClass=n,this.$element)},n.prototype.radioAllOff=function(n){return typeof n=="undefined"?this.options.radioAllOff:(n=!!n,n===this.options.radioAllOff)?this.$element:(this.options.radioAllOff=n,this.$element)},n.prototype.onInit=function(n){return typeof n=="undefined"?this.options.onInit:(n||(n=t.fn.bootstrapSwitch.defaults.onInit),this.options.onInit=n,this.$element)},n.prototype.onSwitchChange=function(n){return typeof n=="undefined"?this.options.onSwitchChange:(n||(n=t.fn.bootstrapSwitch.defaults.onSwitchChange),this.options.onSwitchChange=n,this.$element)},n.prototype.destroy=function(){var n;return n=this.$element.closest("form"),n.length&&n.off("reset.bootstrapSwitch").removeData("bootstrap-switch"),this.$container.children().not(this.$element).remove(),this.$element.unwrap().unwrap().off(".bootstrapSwitch").removeData("bootstrap-switch"),this.$element},n.prototype._width=function(){var t,n;return t=this.$on.add(this.$off),t.add(this.$label).css("width",""),n=this.options.handleWidth==="auto"?Math.max(this.$on.width(),this.$off.width()):this.options.handleWidth,t.width(n),this.$label.width(function(t){return function(i,r){return t.options.labelWidth!=="auto"?t.options.labelWidth:r<n?n:r}}(this)),this._handleWidth=this.$on.outerWidth(),this._labelWidth=this.$label.outerWidth(),this.$container.width(this._handleWidth*2+this._labelWidth),this.$wrapper.width(this._handleWidth+this._labelWidth)},n.prototype._containerPosition=function(n,t){if(n==null&&(n=this.options.state),this.$container.css("margin-left",function(t){return function(){var i;return(i=[0,"-"+t._handleWidth+"px"],t.options.indeterminate)?"-"+t._handleWidth/2+"px":n?t.options.inverse?i[1]:i[0]:t.options.inverse?i[0]:i[1]}}(this)),t)return setTimeout(function(){return t()},50)},n.prototype._init=function(){var n,t;return(n=function(n){return function(){return n.setPrevOptions(),n._width(),n._containerPosition(null,function(){if(n.options.animate)return n.$wrapper.addClass(n.options.baseClass+"-animate")})}}(this),this.$wrapper.is(":visible"))?n():t=i.setInterval(function(r){return function(){if(r.$wrapper.is(":visible"))return n(),i.clearInterval(t)}}(this),50)},n.prototype._elementHandlers=function(){return this.$element.on({"setPreviousOptions.bootstrapSwitch":function(n){return function(){return n.setPrevOptions()}}(this),"previousState.bootstrapSwitch":function(n){return function(){return n.options=n.prevOptions,n.options.indeterminate&&n.$wrapper.addClass(n.options.baseClass+"-indeterminate"),n.$element.prop("checked",n.options.state).trigger("change.bootstrapSwitch",!0)}}(this),"change.bootstrapSwitch":function(n){return function(i,r){var u;if(i.preventDefault(),i.stopImmediatePropagation(),u=n.$element.is(":checked"),n._containerPosition(u),u!==n.options.state)return n.options.state=u,n.$wrapper.toggleClass(n.options.baseClass+"-off").toggleClass(n.options.baseClass+"-on"),r?void 0:(n.$element.is(":radio")&&t("[name='"+n.$element.attr("name")+"']").not(n.$element).prop("checked",!1).trigger("change.bootstrapSwitch",!0),n.$element.trigger("switchChange.bootstrapSwitch",[u]))}}(this),"focus.bootstrapSwitch":function(n){return function(t){return t.preventDefault(),n.$wrapper.addClass(n.options.baseClass+"-focused")}}(this),"blur.bootstrapSwitch":function(n){return function(t){return t.preventDefault(),n.$wrapper.removeClass(n.options.baseClass+"-focused")}}(this),"keydown.bootstrapSwitch":function(n){return function(t){if(t.which&&!n.options.disabled&&!n.options.readonly)switch(t.which){case 37:return t.preventDefault(),t.stopImmediatePropagation(),n.state(!1);case 39:return t.preventDefault(),t.stopImmediatePropagation(),n.state(!0)}}}(this)})},n.prototype._handleHandlers=function(){this.$on.on("click.bootstrapSwitch",function(n){return function(t){return t.preventDefault(),t.stopPropagation(),n.state(!1),n.$element.trigger("focus.bootstrapSwitch")}}(this));return this.$off.on("click.bootstrapSwitch",function(n){return function(t){return t.preventDefault(),t.stopPropagation(),n.state(!0),n.$element.trigger("focus.bootstrapSwitch")}}(this))},n.prototype._labelHandlers=function(){return this.$label.on({click:function(n){return n.stopPropagation()},"mousedown.bootstrapSwitch touchstart.bootstrapSwitch":function(n){return function(t){if(!n._dragStart&&!n.options.disabled&&!n.options.readonly)return t.preventDefault(),t.stopPropagation(),n._dragStart=(t.pageX||t.originalEvent.touches[0].pageX)-parseInt(n.$container.css("margin-left"),10),n.options.animate&&n.$wrapper.removeClass(n.options.baseClass+"-animate"),n.$element.trigger("focus.bootstrapSwitch")}}(this),"mousemove.bootstrapSwitch touchmove.bootstrapSwitch":function(n){return function(t){var i;if(n._dragStart!=null)return(t.preventDefault(),i=(t.pageX||t.originalEvent.touches[0].pageX)-n._dragStart,i<-n._handleWidth||i>0)?void 0:(n._dragEnd=i,n.$container.css("margin-left",n._dragEnd+"px"))}}(this),"mouseup.bootstrapSwitch touchend.bootstrapSwitch":function(n){return function(t){var i;if(n._dragStart)return t.preventDefault(),n.options.animate&&n.$wrapper.addClass(n.options.baseClass+"-animate"),n._dragEnd?(i=n._dragEnd>-(n._handleWidth/2),n._dragEnd=!1,n.state(n.options.inverse?!i:i)):n.state(!n.options.state),n._dragStart=!1}}(this),"mouseleave.bootstrapSwitch":function(n){return function(){return n.$label.trigger("mouseup.bootstrapSwitch")}}(this)})},n.prototype._externalLabelHandler=function(){var n=this.$element.closest("label");return n.on("click",function(t){return function(i){return i.preventDefault(),i.stopImmediatePropagation(),i.target===n[0]?t.toggleState():void 0}}(this))},n.prototype._formHandler=function(){var n;if(n=this.$element.closest("form"),!n.data("bootstrap-switch"))return n.on("reset.bootstrapSwitch",function(){return i.setTimeout(function(){return n.find("input").filter(function(){return t(this).data("bootstrap-switch")}).each(function(){return t(this).bootstrapSwitch("state",this.checked)})},1)}).data("bootstrap-switch",!0)},n.prototype._getClasses=function(n){var u,r,i,f;if(!t.isArray(n))return[this.options.baseClass+"-"+n];for(r=[],i=0,f=n.length;i<f;i++)u=n[i],r.push(this.options.baseClass+"-"+u);return r},n}(),t.fn.bootstrapSwitch=function(){var f,i,u;return i=arguments[0],f=2<=arguments.length?n.call(arguments,1):[],u=this,this.each(function(){var e,n;return e=t(this),n=e.data("bootstrap-switch"),n||e.data("bootstrap-switch",n=new r(this,i)),typeof i=="string"?u=n[i].apply(n,f):void 0}),u},t.fn.bootstrapSwitch.Constructor=r,t.fn.bootstrapSwitch.defaults={state:!0,size:null,animate:!0,disabled:!1,readonly:!1,indeterminate:!1,inverse:!1,radioAllOff:!1,onColor:"primary",offColor:"default",onText:"ON",offText:"OFF",labelText:"&nbsp;",handleWidth:"auto",labelWidth:"auto",baseClass:"bootstrap-switch",wrapperClass:"wrapper",onInit:function(){},onSwitchChange:function(){}}})(window.jQuery,window)}.call(this),function(){var n=!0;(function(t){var u=this||(0,eval)("this"),r=u.document,e=u.navigator,i=u.jQuery,f=u.JSON;(function(n){if(typeof require=="function"&&typeof exports=="object"&&typeof module=="object"){var t=module.exports||exports;n(t)}else typeof define=="function"&&define.amd?define(["exports"],n):n(u.ko={})})(function(o){function p(n,t){var i=n===null||typeof n in nt;return i?n===t:!1}function tt(n,i){var r;return function(){r||(r=setTimeout(function(){r=t;n()},i))}}function it(n,t){var i;return function(){clearTimeout(i);i=setTimeout(n,t)}}function rt(n){var t=this;return n&&s.utils.objectForEach(n,function(n,i){var r=s.extenders[n];typeof r=="function"&&(t=r(t,i)||t)}),t}function ut(n){s.bindingHandlers[n]={init:function(t,i,r,u,f){var e=function(){var t={};return t[n]=i(),t};return s.bindingHandlers.event.init.call(this,t,e,r,u,f)}}}function g(n,t,i,r){s.bindingHandlers[n]={init:function(n,u,f,e,o){var c,h;return s.computed(function(){var l=s.utils.unwrapObservable(u()),f=!i!=!l,e=!h,a=e||t||f!==c;a&&(e&&s.computedContext.getDependenciesCount()&&(h=s.utils.cloneNodes(s.virtualElements.childNodes(n),!0)),f?(e||s.virtualElements.setDomNodeChildren(n,s.utils.cloneNodes(h)),s.applyBindingsToDescendants(r?r(o,l):o,n)):s.virtualElements.emptyNode(n),c=f)},null,{disposeWhenNodeIsRemoved:n}),{controlsDescendantBindings:!0}}};s.expressionRewriting.bindingRewriteValidators[n]=!1;s.virtualElements.allowedBindings[n]=!0}var s=typeof o!="undefined"?o:{},nt,l,h,c,a,w,b,k,v,d,y;s.exportSymbol=function(n,t){for(var i=n.split("."),r=s,u=0;u<i.length-1;u++)r=r[i[u]];r[i[i.length-1]]=t};s.exportProperty=function(n,t,i){n[t]=i};s.version="3.1.0";s.exportSymbol("version",s.version);s.utils=function(){function o(n,t){for(var i in n)n.hasOwnProperty(i)&&t(i,n[i])}function c(n,t){if(t)for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n}function l(n,t){return n.__proto__=t,n}function k(n,t){if(s.utils.tagNameLower(n)!=="input"||!n.type||t.toLowerCase()!="click")return!1;var i=n.type;return i=="checkbox"||i=="radio"}var a={__proto__:[]}instanceof Array,h={},v={},y=e&&/Firefox\/2/i.test(e.userAgent)?"KeyboardEvent":"UIEvents";h[y]=["keyup","keydown","keypress"];h.MouseEvents=["click","dblclick","mousedown","mouseup","mousemove","mouseover","mouseout","mouseenter","mouseleave"];o(h,function(n,t){if(t.length)for(var i=0,r=t.length;i<r;i++)v[t[i]]=n});var p={propertychange:!0},n=r&&function(){for(var n=3,i=r.createElement("div"),u=i.getElementsByTagName("i");i.innerHTML="<!--[if gt IE "+ ++n+"]><i><\/i><![endif]-->",u[0];);return n>4?n:t}(),w=n===6,b=n===7;return{fieldsIncludedWithJsonPost:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],arrayForEach:function(n,t){for(var i=0,r=n.length;i<r;i++)t(n[i],i)},arrayIndexOf:function(n,t){if(typeof Array.prototype.indexOf=="function")return Array.prototype.indexOf.call(n,t);for(var i=0,r=n.length;i<r;i++)if(n[i]===t)return i;return-1},arrayFirst:function(n,t,i){for(var r=0,u=n.length;r<u;r++)if(t.call(i,n[r],r))return n[r];return null},arrayRemoveItem:function(n,t){var i=s.utils.arrayIndexOf(n,t);i>0?n.splice(i,1):i===0&&n.shift()},arrayGetDistinctValues:function(n){var i,t,r;for(n=n||[],i=[],t=0,r=n.length;t<r;t++)s.utils.arrayIndexOf(i,n[t])<0&&i.push(n[t]);return i},arrayMap:function(n,t){var r,i,u;for(n=n||[],r=[],i=0,u=n.length;i<u;i++)r.push(t(n[i],i));return r},arrayFilter:function(n,t){var r,i,u;for(n=n||[],r=[],i=0,u=n.length;i<u;i++)t(n[i],i)&&r.push(n[i]);return r},arrayPushAll:function(n,t){if(t instanceof Array)n.push.apply(n,t);else for(var i=0,r=t.length;i<r;i++)n.push(t[i]);return n},addOrRemoveItem:function(n,t,i){var r=s.utils.arrayIndexOf(s.utils.peekObservable(n),t);r<0?i&&n.push(t):i||n.splice(r,1)},canSetPrototype:a,extend:c,setPrototypeOf:l,setPrototypeOfOrExtend:a?l:c,objectForEach:o,objectMap:function(n,t){var r,i;if(!n)return n;r={};for(i in n)n.hasOwnProperty(i)&&(r[i]=t(n[i],i,n));return r},emptyDomNode:function(n){while(n.firstChild)s.removeNode(n.firstChild)},moveCleanedNodesToContainerElement:function(n){for(var i=s.utils.makeArray(n),u=r.createElement("div"),t=0,f=i.length;t<f;t++)u.appendChild(s.cleanNode(i[t]));return u},cloneNodes:function(n,t){for(var r,i=0,f=n.length,u=[];i<f;i++)r=n[i].cloneNode(!0),u.push(t?s.cleanNode(r):r);return u},setDomNodeChildren:function(n,t){if(s.utils.emptyDomNode(n),t)for(var i=0,r=t.length;i<r;i++)n.appendChild(t[i])},replaceDomNodes:function(n,t){var r=n.nodeType?[n]:n,f,e,i,u;if(r.length>0){for(f=r[0],e=f.parentNode,i=0,u=t.length;i<u;i++)e.insertBefore(t[i],f);for(i=0,u=r.length;i<u;i++)s.removeNode(r[i])}},fixUpContinuousNodeArray:function(n,t){if(n.length){for(t=t.nodeType===8&&t.parentNode||t;n.length&&n[0].parentNode!==t;)n.shift();if(n.length>1){var i=n[0],r=n[n.length-1];for(n.length=0;i!==r;)if(n.push(i),i=i.nextSibling,!i)return;n.push(r)}}return n},setOptionNodeSelectionState:function(t,i){n<7?t.setAttribute("selected",i):t.selected=i},stringTrim:function(n){return n===null||n===t?"":n.trim?n.trim():n.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},stringTokenize:function(n,t){for(var r,u=[],f=(n||"").split(t),i=0,e=f.length;i<e;i++)r=s.utils.stringTrim(f[i]),r!==""&&u.push(r);return u},stringStartsWith:function(n,t){return(n=n||"",t.length>n.length)?!1:n.substring(0,t.length)===t},domNodeIsContainedBy:function(n,t){if(n===t)return!0;if(n.nodeType===11)return!1;if(t.contains)return t.contains(n.nodeType===3?n.parentNode:n);if(t.compareDocumentPosition)return(t.compareDocumentPosition(n)&16)==16;while(n&&n!=t)n=n.parentNode;return!!n},domNodeIsAttachedToDocument:function(n){return s.utils.domNodeIsContainedBy(n,n.ownerDocument.documentElement)},anyDomNodeIsAttachedToDocument:function(n){return!!s.utils.arrayFirst(n,s.utils.domNodeIsAttachedToDocument)},tagNameLower:function(n){return n&&n.tagName&&n.tagName.toLowerCase()},registerEventHandler:function(t,r,u){var o=n&&p[r],f,e;if(!o&&i)i(t).bind(r,u);else if(o||typeof t.addEventListener!="function")if(typeof t.attachEvent!="undefined")f=function(n){u.call(t,n)},e="on"+r,t.attachEvent(e,f),s.utils.domNodeDisposal.addDisposeCallback(t,function(){t.detachEvent(e,f)});else throw new Error("Browser doesn't support addEventListener or attachEvent");else t.addEventListener(r,u,!1)},triggerEvent:function(n,t){var f,o,e;if(!(n&&n.nodeType))throw new Error("element must be a DOM node when calling triggerEvent");if(f=k(n,t),i&&!f)i(n).trigger(t);else if(typeof r.createEvent=="function")if(typeof n.dispatchEvent=="function")o=v[t]||"HTMLEvents",e=r.createEvent(o),e.initEvent(t,!0,!0,u,0,0,0,0,0,!1,!1,!1,!1,0,n),n.dispatchEvent(e);else throw new Error("The supplied element doesn't support dispatchEvent");else if(f&&n.click)n.click();else if(typeof n.fireEvent!="undefined")n.fireEvent("on"+t);else throw new Error("Browser doesn't support triggering events");},unwrapObservable:function(n){return s.isObservable(n)?n():n},peekObservable:function(n){return s.isObservable(n)?n.peek():n},toggleDomNodeCssClass:function(n,t,i){if(t){var r=/\S+/g,u=n.className.match(r)||[];s.utils.arrayForEach(t.match(r),function(n){s.utils.addOrRemoveItem(u,n,i)});n.className=u.join(" ")}},setTextContent:function(n,i){var r=s.utils.unwrapObservable(i),u;(r===null||r===t)&&(r="");u=s.virtualElements.firstChild(n);!u||u.nodeType!=3||s.virtualElements.nextSibling(u)?s.virtualElements.setDomNodeChildren(n,[n.ownerDocument.createTextNode(r)]):u.data=r;s.utils.forceRefresh(n)},setElementName:function(t,i){if(t.name=i,n<=7)try{t.mergeAttributes(r.createElement("<input name='"+t.name+"'/>"),!1)}catch(u){}},forceRefresh:function(t){if(n>=9){var i=t.nodeType==1?t:t.parentNode;i.style&&(i.style.zoom=i.style.zoom)}},ensureSelectElementIsRenderedCorrectly:function(t){if(n){var i=t.style.width;t.style.width=0;t.style.width=i}},range:function(n,t){var r,i;for(n=s.utils.unwrapObservable(n),t=s.utils.unwrapObservable(t),r=[],i=n;i<=t;i++)r.push(i);return r},makeArray:function(n){for(var i=[],t=0,r=n.length;t<r;t++)i.push(n[t]);return i},isIe6:w,isIe7:b,ieVersion:n,getFormFields:function(n,t){for(var r=s.utils.makeArray(n.getElementsByTagName("input")).concat(s.utils.makeArray(n.getElementsByTagName("textarea"))),f=typeof t=="string"?function(n){return n.name===t}:function(n){return t.test(n.name)},u=[],i=r.length-1;i>=0;i--)f(r[i])&&u.push(r[i]);return u},parseJson:function(n){return typeof n=="string"&&(n=s.utils.stringTrim(n),n)?f&&f.parse?f.parse(n):new Function("return "+n)():null},stringifyJson:function(n,t,i){if(!f||!f.stringify)throw new Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return f.stringify(s.utils.unwrapObservable(n),t,i)},postJson:function(n,t,i){var l,e,h,f,u,a,c;i=i||{};var v=i.params||{},y=i.includeFields||this.fieldsIncludedWithJsonPost,p=n;if(typeof n=="object"&&s.utils.tagNameLower(n)==="form")for(l=n,p=l.action,e=y.length-1;e>=0;e--)for(h=s.utils.getFormFields(l,y[e]),f=h.length-1;f>=0;f--)v[h[f].name]=h[f].value;t=s.utils.unwrapObservable(t);u=r.createElement("form");u.style.display="none";u.action=p;u.method="post";for(a in t)c=r.createElement("input"),c.name=a,c.value=s.utils.stringifyJson(s.utils.unwrapObservable(t[a])),u.appendChild(c);o(v,function(n,t){var i=r.createElement("input");i.name=n;i.value=t;u.appendChild(i)});r.body.appendChild(u);i.submitter?i.submitter(u):u.submit();setTimeout(function(){u.parentNode.removeChild(u)},0)}}}();s.exportSymbol("utils",s.utils);s.exportSymbol("utils.arrayForEach",s.utils.arrayForEach);s.exportSymbol("utils.arrayFirst",s.utils.arrayFirst);s.exportSymbol("utils.arrayFilter",s.utils.arrayFilter);s.exportSymbol("utils.arrayGetDistinctValues",s.utils.arrayGetDistinctValues);s.exportSymbol("utils.arrayIndexOf",s.utils.arrayIndexOf);s.exportSymbol("utils.arrayMap",s.utils.arrayMap);s.exportSymbol("utils.arrayPushAll",s.utils.arrayPushAll);s.exportSymbol("utils.arrayRemoveItem",s.utils.arrayRemoveItem);s.exportSymbol("utils.extend",s.utils.extend);s.exportSymbol("utils.fieldsIncludedWithJsonPost",s.utils.fieldsIncludedWithJsonPost);s.exportSymbol("utils.getFormFields",s.utils.getFormFields);s.exportSymbol("utils.peekObservable",s.utils.peekObservable);s.exportSymbol("utils.postJson",s.utils.postJson);s.exportSymbol("utils.parseJson",s.utils.parseJson);s.exportSymbol("utils.registerEventHandler",s.utils.registerEventHandler);s.exportSymbol("utils.stringifyJson",s.utils.stringifyJson);s.exportSymbol("utils.range",s.utils.range);s.exportSymbol("utils.toggleDomNodeCssClass",s.utils.toggleDomNodeCssClass);s.exportSymbol("utils.triggerEvent",s.utils.triggerEvent);s.exportSymbol("utils.unwrapObservable",s.utils.unwrapObservable);s.exportSymbol("utils.objectForEach",s.utils.objectForEach);s.exportSymbol("utils.addOrRemoveItem",s.utils.addOrRemoveItem);s.exportSymbol("unwrap",s.utils.unwrapObservable);Function.prototype.bind||(Function.prototype.bind=function(n){var i=this,t=Array.prototype.slice.call(arguments),n=t.shift();return function(){return i.apply(n,t.concat(Array.prototype.slice.call(arguments)))}});s.utils.domData=new function(){function r(r,f){var e=r[n],o=e&&e!=="null"&&i[e];if(!o){if(!f)return t;e=r[n]="ko"+u++;i[e]={}}return i[e]}var u=0,n="__ko__"+(new Date).getTime(),i={};return{get:function(n,i){var u=r(n,!1);return u===t?t:u[i]},set:function(n,i,u){if(u!==t||r(n,!1)!==t){var f=r(n,!0);f[i]=u}},clear:function(t){var r=t[n];return r?(delete i[r],t[n]=null,!0):!1},nextKey:function(){return u+++n}}};s.exportSymbol("utils.domData",s.utils.domData);s.exportSymbol("utils.domData.clear",s.utils.domData.clear);s.utils.domNodeDisposal=new function(){function r(i,r){var u=s.utils.domData.get(i,n);return u===t&&r&&(u=[],s.utils.domData.set(i,n,u)),u}function o(i){s.utils.domData.set(i,n,t)}function u(n){var t=r(n,!1),i;if(t)for(t=t.slice(0),i=0;i<t.length;i++)t[i](n);s.utils.domData.clear(n);s.utils.domNodeDisposal.cleanExternalData(n);f[n.nodeType]&&h(n)}function h(n){for(var t,i=n.firstChild;t=i;)i=t.nextSibling,t.nodeType===8&&u(t)}var n=s.utils.domData.nextKey(),e={1:!0,8:!0,9:!0},f={1:!0,9:!0};return{addDisposeCallback:function(n,t){if(typeof t!="function")throw new Error("Callback must be a function");r(n,!0).push(t)},removeDisposeCallback:function(n,t){var i=r(n,!1);i&&(s.utils.arrayRemoveItem(i,t),i.length==0&&o(n))},cleanNode:function(n){var t,i,r;if(e[n.nodeType]&&(u(n),f[n.nodeType]))for(t=[],s.utils.arrayPushAll(t,n.getElementsByTagName("*")),i=0,r=t.length;i<r;i++)u(t[i]);return n},removeNode:function(n){s.cleanNode(n);n.parentNode&&n.parentNode.removeChild(n)},cleanExternalData:function(n){i&&typeof i.cleanData=="function"&&i.cleanData([n])}}};s.cleanNode=s.utils.domNodeDisposal.cleanNode;s.removeNode=s.utils.domNodeDisposal.removeNode;s.exportSymbol("cleanNode",s.cleanNode);s.exportSymbol("removeNode",s.removeNode);s.exportSymbol("utils.domNodeDisposal",s.utils.domNodeDisposal);s.exportSymbol("utils.domNodeDisposal.addDisposeCallback",s.utils.domNodeDisposal.addDisposeCallback);s.exportSymbol("utils.domNodeDisposal.removeDisposeCallback",s.utils.domNodeDisposal.removeDisposeCallback),function(){function n(n){var i=s.utils.stringTrim(n).toLowerCase(),t=r.createElement("div"),f=i.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","<\/table>"]||!i.indexOf("<tr")&&[2,"<table><tbody>","<\/tbody><\/table>"]||(!i.indexOf("<td")||!i.indexOf("<th"))&&[3,"<table><tbody><tr>","<\/tr><\/tbody><\/table>"]||[0,"",""],e="ignored<div>"+f[1]+n+f[2]+"<\/div>";for(typeof u.innerShiv=="function"?t.appendChild(u.innerShiv(e)):t.innerHTML=e;f[0]--;)t=t.lastChild;return s.utils.makeArray(t.lastChild.childNodes)}function f(n){var r,t;if(i.parseHTML)return i.parseHTML(n)||[];if(r=i.clean([n]),r&&r[0]){for(t=r[0];t.parentNode&&t.parentNode.nodeType!==11;)t=t.parentNode;t.parentNode&&t.parentNode.removeChild(t)}return r}s.utils.parseHtmlFragment=function(t){return i?f(t):n(t)};s.utils.setHtml=function(n,r){var f,u;if(s.utils.emptyDomNode(n),r=s.utils.unwrapObservable(r),r!==null&&r!==t)if(typeof r!="string"&&(r=r.toString()),i)i(n).html(r);else for(f=s.utils.parseHtmlFragment(r),u=0;u<f.length;u++)n.appendChild(f[u])}}();s.exportSymbol("utils.parseHtmlFragment",s.utils.parseHtmlFragment);s.exportSymbol("utils.setHtml",s.utils.setHtml);s.memoization=function(){function i(){return((1+Math.random())*4294967296|0).toString(16).substring(1)}function u(){return i()+i()}function r(n,t){var i;if(n)if(n.nodeType==8)i=s.memoization.parseMemoText(n.nodeValue),i!=null&&t.push({domNode:n,memoId:i});else if(n.nodeType==1)for(var u=0,f=n.childNodes,e=f.length;u<e;u++)r(f[u],t)}var n={};return{memoize:function(t){if(typeof t!="function")throw new Error("You can only pass a function to ko.memoization.memoize()");var i=u();return n[i]=t,"<!--[ko_memo:"+i+"]-->"},unmemoize:function(i,r){var u=n[i];if(u===t)throw new Error("Couldn't find any memo with ID "+i+". Perhaps it's already been unmemoized.");try{return u.apply(null,r||[]),!0}finally{delete n[i]}},unmemoizeDomNodeAndDescendants:function(n,t){var f=[],u,o,i,e;for(r(n,f),u=0,o=f.length;u<o;u++)i=f[u].domNode,e=[i],t&&s.utils.arrayPushAll(e,t),s.memoization.unmemoize(f[u].memoId,e),i.nodeValue="",i.parentNode&&i.parentNode.removeChild(i)},parseMemoText:function(n){var t=n.match(/^\[ko_memo\:(.*?)\]$/);return t?t[1]:null}}}();s.exportSymbol("memoization",s.memoization);s.exportSymbol("memoization.memoize",s.memoization.memoize);s.exportSymbol("memoization.unmemoize",s.memoization.unmemoize);s.exportSymbol("memoization.parseMemoText",s.memoization.parseMemoText);s.exportSymbol("memoization.unmemoizeDomNodeAndDescendants",s.memoization.unmemoizeDomNodeAndDescendants);s.extenders={throttle:function(n,t){n.throttleEvaluation=t;var i=null;return s.dependentObservable({read:n,write:function(r){clearTimeout(i);i=setTimeout(function(){n(r)},t)}})},rateLimit:function(n,t){var i,r,u;typeof t=="number"?i=t:(i=t.timeout,r=t.method);u=r=="notifyWhenChangesStop"?it:tt;n.limit(function(n){return u(n,i)})},notify:function(n,t){n.equalityComparer=t=="always"?null:p}};nt={undefined:1,boolean:1,number:1,string:1};s.exportSymbol("extenders",s.extenders);s.subscription=function(n,t,i){this.target=n;this.callback=t;this.disposeCallback=i;this.isDisposed=!1;s.exportProperty(this,"dispose",this.dispose)};s.subscription.prototype.dispose=function(){this.isDisposed=!0;this.disposeCallback()};s.subscribable=function(){s.utils.setPrototypeOfOrExtend(this,s.subscribable.fn);this._subscriptions={}};l="change";h={subscribe:function(n,t,i){var r=this,f,u;return i=i||l,f=t?n.bind(t):n,u=new s.subscription(r,f,function(){s.utils.arrayRemoveItem(r._subscriptions[i],u)}),r.peek&&r.peek(),r._subscriptions[i]||(r._subscriptions[i]=[]),r._subscriptions[i].push(u),u},notifySubscribers:function(n,t){if(t=t||l,this.hasSubscriptionsForEvent(t))try{s.dependencyDetection.begin();for(var u=this._subscriptions[t].slice(0),r=0,i;i=u[r];++r)i.isDisposed||i.callback(n)}finally{s.dependencyDetection.end()}},limit:function(n){var t=this,o=s.isObservable(t),r,u,i,f="beforeChange",e;t._origNotifySubscribers||(t._origNotifySubscribers=t.notifySubscribers,t.notifySubscribers=function(n,i){i&&i!==l?i===f?t._rateLimitedBeforeChange(n):t._origNotifySubscribers(n,i):t._rateLimitedChange(n)});e=n(function(){o&&i===t&&(i=t());r=!1;t.isDifferent(u,i)&&t._origNotifySubscribers(u=i)});t._rateLimitedChange=function(n){r=!0;i=n;e()};t._rateLimitedBeforeChange=function(n){r||(u=n,t._origNotifySubscribers(n,f))}},hasSubscriptionsForEvent:function(n){return this._subscriptions[n]&&this._subscriptions[n].length},getSubscriptionsCount:function(){var n=0;return s.utils.objectForEach(this._subscriptions,function(t,i){n+=i.length}),n},isDifferent:function(n,t){return!this.equalityComparer||!this.equalityComparer(n,t)},extend:rt};s.exportProperty(h,"subscribe",h.subscribe);s.exportProperty(h,"extend",h.extend);s.exportProperty(h,"getSubscriptionsCount",h.getSubscriptionsCount);s.utils.canSetPrototype&&s.utils.setPrototypeOf(h,Function.prototype);s.subscribable.fn=h;s.isSubscribable=function(n){return n!=null&&typeof n.subscribe=="function"&&typeof n.notifySubscribers=="function"};s.exportSymbol("subscribable",s.subscribable);s.exportSymbol("isSubscribable",s.isSubscribable);s.computedContext=s.dependencyDetection=function(){function f(){return++u}function i(i){t.push(n);n=i}function r(){n=t.pop()}var t=[],n,u=0;return{begin:i,end:r,registerDependency:function(t){if(n){if(!s.isSubscribable(t))throw new Error("Only subscribable things can act as dependencies");n.callback(t,t._id||(t._id=f()))}},ignore:function(n,t,u){try{return i(),n.apply(t,u||[])}finally{r()}},getDependenciesCount:function(){if(n)return n.computed.getDependenciesCount()},isInitial:function(){if(n)return n.isInitial}}}();s.exportSymbol("computedContext",s.computedContext);s.exportSymbol("computedContext.getDependenciesCount",s.computedContext.getDependenciesCount);s.exportSymbol("computedContext.isInitial",s.computedContext.isInitial);s.observable=function(t){function i(){return arguments.length>0?(i.isDifferent(r,arguments[0])&&(i.valueWillMutate(),r=arguments[0],n&&(i._latestValue=r),i.valueHasMutated()),this):(s.dependencyDetection.registerDependency(i),r)}var r=t;return s.subscribable.call(i),s.utils.setPrototypeOfOrExtend(i,s.observable.fn),n&&(i._latestValue=r),i.peek=function(){return r},i.valueHasMutated=function(){i.notifySubscribers(r)},i.valueWillMutate=function(){i.notifySubscribers(r,"beforeChange")},s.exportProperty(i,"peek",i.peek),s.exportProperty(i,"valueHasMutated",i.valueHasMutated),s.exportProperty(i,"valueWillMutate",i.valueWillMutate),i};s.observable.fn={equalityComparer:p};c=s.observable.protoProperty="__ko_proto__";s.observable.fn[c]=s.observable;s.utils.canSetPrototype&&s.utils.setPrototypeOf(s.observable.fn,s.subscribable.fn);s.hasPrototype=function(n,i){return n===null||n===t||n[c]===t?!1:n[c]===i?!0:s.hasPrototype(n[c],i)};s.isObservable=function(n){return s.hasPrototype(n,s.observable)};s.isWriteableObservable=function(n){return typeof n=="function"&&n[c]===s.observable?!0:typeof n=="function"&&n[c]===s.dependentObservable&&n.hasWriteFunction?!0:!1};s.exportSymbol("observable",s.observable);s.exportSymbol("isObservable",s.isObservable);s.exportSymbol("isWriteableObservable",s.isWriteableObservable);s.observableArray=function(n){if(n=n||[],typeof n!="object"||!("length"in n))throw new Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");var t=s.observable(n);return s.utils.setPrototypeOfOrExtend(t,s.observableArray.fn),t.extend({trackArrayChanges:!0})};s.observableArray.fn={remove:function(n){for(var u,r=this.peek(),i=[],f=typeof n=="function"&&!s.isObservable(n)?n:function(t){return t===n},t=0;t<r.length;t++)u=r[t],f(u)&&(i.length===0&&this.valueWillMutate(),i.push(u),r.splice(t,1),t--);return i.length&&this.valueHasMutated(),i},removeAll:function(n){if(n===t){var i=this.peek(),r=i.slice(0);return this.valueWillMutate(),i.splice(0,i.length),this.valueHasMutated(),r}return n?this.remove(function(t){return s.utils.arrayIndexOf(n,t)>=0}):[]},destroy:function(n){var i=this.peek(),u=typeof n=="function"&&!s.isObservable(n)?n:function(t){return t===n},t,r;for(this.valueWillMutate(),t=i.length-1;t>=0;t--)r=i[t],u(r)&&(i[t]._destroy=!0);this.valueHasMutated()},destroyAll:function(n){return n===t?this.destroy(function(){return!0}):n?this.destroy(function(t){return s.utils.arrayIndexOf(n,t)>=0}):[]},indexOf:function(n){var t=this();return s.utils.arrayIndexOf(t,n)},replace:function(n,t){var i=this.indexOf(n);i>=0&&(this.valueWillMutate(),this.peek()[i]=t,this.valueHasMutated())}};s.utils.arrayForEach(["pop","push","reverse","shift","sort","splice","unshift"],function(n){s.observableArray.fn[n]=function(){var t=this.peek(),i;return this.valueWillMutate(),this.cacheDiffForKnownOperation(t,n,arguments),i=t[n].apply(t,arguments),this.valueHasMutated(),i}});s.utils.arrayForEach(["slice"],function(n){s.observableArray.fn[n]=function(){var t=this();return t[n].apply(t,arguments)}});s.utils.canSetPrototype&&s.utils.setPrototypeOf(s.observableArray.fn,s.observable.fn);s.exportSymbol("observableArray",s.observableArray);a="arrayChange";s.extenders.trackArrayChanges=function(n){function f(){var f,u;r||(r=!0,f=n.notifySubscribers,n.notifySubscribers=function(n,t){return t&&t!==l||++i,f.apply(this,arguments)},u=[].concat(n.peek()||[]),t=null,n.subscribe(function(r){if(r=[].concat(r||[]),n.hasSubscriptionsForEvent(a)){var f=e(u,r);f.length&&n.notifySubscribers(f,a)}u=r;t=null;i=0}))}function e(n,r){return(!t||i>1)&&(t=s.utils.compareArrays(n,r,{sparse:!0})),t}if(!n.cacheDiffForKnownOperation){var r=!1,t=null,i=0,u=n.subscribe;n.subscribe=n.subscribe=function(n,t,i){return i===a&&f(),u.apply(this,arguments)};n.cacheDiffForKnownOperation=function(n,u,f){function c(n,t,i){return l[l.length]={status:n,value:t,index:i}}var e,y;if(r&&!i){var l=[],o=n.length,a=f.length,h=0;switch(u){case"push":h=o;case"unshift":for(e=0;e<a;e++)c("added",f[e],h+e);break;case"pop":h=o-1;case"shift":o&&c("deleted",n[h],h);break;case"splice":var v=Math.min(Math.max(0,f[0]<0?o+f[0]:f[0]),o),p=a===1?o:Math.min(v+(f[1]||0),o),w=v+a-2,d=Math.max(p,w),b=[],k=[];for(e=v,y=2;e<d;++e,++y)e<p&&k.push(c("deleted",n[e],e)),e<w&&b.push(c("added",f[y],e));s.utils.findMovesInArrayComparison(k,b);break;default:return}t=l}}}};s.computed=s.dependentObservable=function(t,i,r){function rt(n,t){c[t]||(c[t]=n.subscribe(ut),++f)}function d(){w=!0;s.utils.objectForEach(c,function(n,t){t.dispose()});c={};f=0;l=!1}function ut(){var n=u.throttleEvaluation;n&&n>=0?(clearTimeout(tt),tt=setTimeout(v,n)):u._evalRateLimited?u._evalRateLimited():v()}function v(){var t,r,h;if(!y&&!w){if(k&&k()){if(!p){a();return}}else p=!1;y=!0;try{t=c;r=f;s.dependencyDetection.begin({callback:function(n,i){w||(r&&t[i]?(c[i]=t[i],++f,delete t[i],--r):rt(n,i))},computed:u,isInitial:!f});c={};f=0;try{h=i?e.call(i):e()}finally{s.dependencyDetection.end();r&&s.utils.objectForEach(t,function(n,t){t.dispose()});l=!1}u.isDifferent(o,h)&&(u.notifySubscribers(o,"beforeChange"),o=h,n&&(u._latestValue=o),(!u._evalRateLimited||u.throttleEvaluation)&&u.notifySubscribers(o))}finally{y=!1}f||a()}}function u(){if(arguments.length>0){if(typeof nt=="function")nt.apply(i,arguments);else throw new Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return this}return l&&v(),s.dependencyDetection.registerDependency(u),o}function ft(){return l&&!f&&v(),o}function g(){return l||f>0}var o,l=!0,y=!1,p=!1,w=!1,e=t,it;if(e&&typeof e=="object"?(r=e,e=r.read):(r=r||{},e||(e=r.read)),typeof e!="function")throw new Error("Pass a function that returns the value of the ko.computed");var nt=r.write,h=r.disposeWhenNodeIsRemoved||r.disposeWhenNodeIsRemoved||null,b=r.disposeWhen||r.disposeWhen,k=b,a=d,c={},f=0,tt=null;return i||(i=r.owner),s.subscribable.call(u),s.utils.setPrototypeOfOrExtend(u,s.dependentObservable.fn),u.peek=ft,u.getDependenciesCount=function(){return f},u.hasWriteFunction=typeof r.write=="function",u.dispose=function(){a()},u.isActive=g,it=u.limit,u.limit=function(n){it.call(u,n);u._evalRateLimited=function(){u._rateLimitedBeforeChange(o);l=!0;u._rateLimitedChange(u)}},s.exportProperty(u,"peek",u.peek),s.exportProperty(u,"dispose",u.dispose),s.exportProperty(u,"isActive",u.isActive),s.exportProperty(u,"getDependenciesCount",u.getDependenciesCount),h&&(p=!0,h.nodeType&&(k=function(){return!s.utils.domNodeIsAttachedToDocument(h)||b&&b()})),r.deferEvaluation!==!0&&v(),h&&g()&&h.nodeType&&(a=function(){s.utils.domNodeDisposal.removeDisposeCallback(h,a);d()},s.utils.domNodeDisposal.addDisposeCallback(h,a)),u};s.isComputed=function(n){return s.hasPrototype(n,s.dependentObservable)};w=s.observable.protoProperty;s.dependentObservable[w]=s.observable;s.dependentObservable.fn={equalityComparer:p};s.dependentObservable.fn[w]=s.dependentObservable;s.utils.canSetPrototype&&s.utils.setPrototypeOf(s.dependentObservable.fn,s.subscribable.fn);s.exportSymbol("dependentObservable",s.dependentObservable);s.exportSymbol("computed",s.dependentObservable);s.exportSymbol("isComputed",s.isComputed),function(){function i(r,f,e){var s,o;return(e=e||new n,r=f(r),s=typeof r=="object"&&r!==null&&r!==t&&!(r instanceof Date)&&!(r instanceof String)&&!(r instanceof Number)&&!(r instanceof Boolean),!s)?r:(o=r instanceof Array?[]:{},e.save(r,o),u(r,function(n){var u=f(r[n]),s;switch(typeof u){case"boolean":case"number":case"string":case"function":o[n]=u;break;case"object":case"undefined":s=e.get(u);o[n]=s!==t?s:i(u,f,e)}}),o)}function u(n,t){var i,r;if(n instanceof Array){for(i=0;i<n.length;i++)t(i);typeof n.toJSON=="function"&&t("toJSON")}else for(r in n)t(r)}function n(){this.keys=[];this.values=[]}var r=10;s.toJS=function(n){if(arguments.length==0)throw new Error("When calling ko.toJS, pass the object you want to convert.");return i(n,function(n){for(var t=0;s.isObservable(n)&&t<r;t++)n=n();return n})};s.toJSON=function(n,t,i){var r=s.toJS(n);return s.utils.stringifyJson(r,t,i)};n.prototype={constructor:n,save:function(n,t){var i=s.utils.arrayIndexOf(this.keys,n);i>=0?this.values[i]=t:(this.keys.push(n),this.values.push(t))},get:function(n){var i=s.utils.arrayIndexOf(this.keys,n);return i>=0?this.values[i]:t}}}();s.exportSymbol("toJS",s.toJS);s.exportSymbol("toJSON",s.toJSON),function(){var n="__ko__hasDomDataOptionValue__";s.selectExtensions={readValue:function(i){switch(s.utils.tagNameLower(i)){case"option":return i[n]===!0?s.utils.domData.get(i,s.bindingHandlers.options.optionValueDomDataKey):s.utils.ieVersion<=7?i.getAttributeNode("value")&&i.getAttributeNode("value").specified?i.value:i.text:i.value;case"select":return i.selectedIndex>=0?s.selectExtensions.readValue(i.options[i.selectedIndex]):t;default:return i.value}},writeValue:function(i,r,u){var e,f,h,o;switch(s.utils.tagNameLower(i)){case"option":switch(typeof r){case"string":s.utils.domData.set(i,s.bindingHandlers.options.optionValueDomDataKey,t);n in i&&delete i[n];i.value=r;break;default:s.utils.domData.set(i,s.bindingHandlers.options.optionValueDomDataKey,r);i[n]=!0;i.value=typeof r=="number"?r:""}break;case"select":for((r===""||r===null)&&(r=t),e=-1,f=0,h=i.options.length;f<h;++f)if(o=s.selectExtensions.readValue(i.options[f]),o==r||o==""&&r===t){e=f;break}(u||e>=0||r===t&&i.size>1)&&(i.selectedIndex=e);break;default:(r===null||r===t)&&(r="");i.value=r}}}}();s.exportSymbol("selectExtensions",s.selectExtensions);s.exportSymbol("selectExtensions.readValue",s.selectExtensions.readValue);s.exportSymbol("selectExtensions.writeValue",s.selectExtensions.writeValue);s.expressionRewriting=function(){function e(n){if(s.utils.arrayIndexOf(u,n)>=0)return!1;var t=n.match(f);return t===null?!1:t[1]?"Object("+t[1]+")"+t[2]:n}function i(n){var u=s.utils.stringTrim(n),l,r,i,v;u.charCodeAt(0)===123&&(u=u.slice(1,-1));var y=[],e=u.match(t),o,f,a=0;if(e)for(e.push(","),l=0;r=e[l];++l){if(i=r.charCodeAt(0),i===44){if(a<=0){o&&y.push(f?{key:o,value:f.join("")}:{unknown:o});o=f=a=0;continue}}else if(i===58){if(!f)continue}else if(i===47&&l&&r.length>1)v=e[l-1].match(h),v&&!c[v[0]]&&(u=u.substr(u.indexOf(r)+1),e=u.match(t),e.push(","),l=-1,r="/");else if(i===40||i===123||i===91)++a;else if(i===41||i===125||i===93)--a;else if(!o&&!f){o=i===34||i===39?r.slice(1,-1):r;continue}f?f.push(r):f=[r]}return y}function l(n,t){function u(n,t){function c(i){return i&&i.preprocess?t=i.preprocess(t,n,u):!0}var i;c(s.getBindingHandler(n))&&(r[n]&&(i=e(t))&&f.push("'"+n+"':function(_z){"+i+"=_z}"),h&&(t="function(){return "+t+" }"),o.push("'"+n+"':"+t))}t=t||{};var o=[],f=[],h=t.valueAccessors,c=typeof n=="string"?i(n):n;return s.utils.arrayForEach(c,function(n){u(n.key||n.unknown,n.value)}),f.length&&u("_ko_property_writers","{"+f.join(",")+" }"),o.join(",")}var u=["true","false","null","undefined"],f=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,n=",\"'{}()/:[\\]",o="[^\\s:,/][^"+n+"]*[^\\s"+n+"]",t=RegExp("\"(?:[^\"\\\\]|\\\\.)*\"|'(?:[^'\\\\]|\\\\.)*'|/(?:[^/\\\\]|\\\\.)*/w*|"+o+"|[^\\s]","g"),h=/[\])"'A-Za-z0-9_$]+$/,c={"in":1,"return":1,"typeof":1},r={};return{bindingRewriteValidators:[],twoWayBindings:r,parseObjectLiteral:i,preProcessBindings:l,keyValueArrayContainsKey:function(n,t){for(var i=0;i<n.length;i++)if(n[i].key==t)return!0;return!1},writeValueToProperty:function(n,t,i,r,u){if(n&&s.isObservable(n))s.isWriteableObservable(n)&&(!u||n.peek()!==r)&&n(r);else{var f=t.get("_ko_property_writers");f&&f[i]&&f[i](r)}}}}();s.exportSymbol("expressionRewriting",s.expressionRewriting);s.exportSymbol("expressionRewriting.bindingRewriteValidators",s.expressionRewriting.bindingRewriteValidators);s.exportSymbol("expressionRewriting.parseObjectLiteral",s.expressionRewriting.parseObjectLiteral);s.exportSymbol("expressionRewriting.preProcessBindings",s.expressionRewriting.preProcessBindings);s.exportSymbol("expressionRewriting._twoWayBindings",s.expressionRewriting.twoWayBindings);s.exportSymbol("jsonExpressionRewriting",s.expressionRewriting);s.exportSymbol("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",s.expressionRewriting.preProcessBindings),function(){function n(n){return n.nodeType==8&&u.test(t?n.text:n.nodeValue)}function i(n){return n.nodeType==8&&o.test(t?n.text:n.nodeValue)}function f(t,r){for(var u=t,f=1,e=[];u=u.nextSibling;){if(i(u)&&(f--,f===0))return e;e.push(u);n(u)&&f++}if(!r)throw new Error("Cannot find closing comment tag to match: "+t.nodeValue);return null}function e(n,t){var i=f(n,t);return i?i.length>0?i[i.length-1].nextSibling:n.nextSibling:null}function c(t){var r=t.firstChild,u=null,f;if(r)do u?u.push(r):n(r)?(f=e(r,!0),f?r=f:u=[r]):i(r)&&(u=[r]);while(r=r.nextSibling);return u}var t=r&&r.createComment("test").text==="<!--test-->",u=t?/^<!--\s*ko(?:\s+([\s\S]+))?\s*-->$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,o=t?/^<!--\s*\/ko\s*-->$/:/^\s*\/ko\s*$/,h={ul:!0,ol:!0};s.virtualElements={allowedBindings:{},childNodes:function(t){return n(t)?f(t):t.childNodes},emptyNode:function(t){var r,i,u;if(n(t))for(r=s.virtualElements.childNodes(t),i=0,u=r.length;i<u;i++)s.removeNode(r[i]);else s.utils.emptyDomNode(t)},setDomNodeChildren:function(t,i){var u,r,f;if(n(t))for(s.virtualElements.emptyNode(t),u=t.nextSibling,r=0,f=i.length;r<f;r++)u.parentNode.insertBefore(i[r],u);else s.utils.setDomNodeChildren(t,i)},prepend:function(t,i){n(t)?t.parentNode.insertBefore(i,t.nextSibling):t.firstChild?t.insertBefore(i,t.firstChild):t.appendChild(i)},insertAfter:function(t,i,r){r?n(t)?t.parentNode.insertBefore(i,r.nextSibling):r.nextSibling?t.insertBefore(i,r.nextSibling):t.appendChild(i):s.virtualElements.prepend(t,i)},firstChild:function(t){return n(t)?!t.nextSibling||i(t.nextSibling)?null:t.nextSibling:t.firstChild},nextSibling:function(t){return(n(t)&&(t=e(t)),t.nextSibling&&i(t.nextSibling))?null:t.nextSibling},hasBindingValue:n,virtualNodeBindingValue:function(n){var i=(t?n.text:n.nodeValue).match(u);return i?i[1]:null},normaliseVirtualElementDomStructure:function(n){var t,i,u,r;if(h[s.utils.tagNameLower(n)]&&(t=n.firstChild,t))do if(t.nodeType===1&&(i=c(t),i))for(u=t.nextSibling,r=0;r<i.length;r++)u?n.insertBefore(i[r],u):n.appendChild(i[r]);while(t=t.nextSibling)}}}();s.exportSymbol("virtualElements",s.virtualElements);s.exportSymbol("virtualElements.allowedBindings",s.virtualElements.allowedBindings);s.exportSymbol("virtualElements.emptyNode",s.virtualElements.emptyNode);s.exportSymbol("virtualElements.insertAfter",s.virtualElements.insertAfter);s.exportSymbol("virtualElements.prepend",s.virtualElements.prepend);s.exportSymbol("virtualElements.setDomNodeChildren",s.virtualElements.setDomNodeChildren),function(){function t(n,t,r){var u=n+(r&&r.valueAccessors||"");return t[u]||(t[u]=i(n,r))}function i(n,t){var i=s.expressionRewriting.preProcessBindings(n,t),r="with($context){with($data||{}){return{"+i+"}}}";return new Function("$context","$element",r)}var n="data-bind";s.bindingProvider=function(){this.bindingCache={}};s.utils.extend(s.bindingProvider.prototype,{nodeHasBindings:function(t){switch(t.nodeType){case 1:return t.getAttribute(n)!=null;case 8:return s.virtualElements.hasBindingValue(t);default:return!1}},getBindings:function(n,t){var i=this.getBindingsString(n,t);return i?this.parseBindingsString(i,t,n):null},getBindingAccessors:function(n,t){var i=this.getBindingsString(n,t);return i?this.parseBindingsString(i,t,n,{valueAccessors:!0}):null},getBindingsString:function(t){switch(t.nodeType){case 1:return t.getAttribute(n);case 8:return s.virtualElements.virtualNodeBindingValue(t);default:return null}},parseBindingsString:function(n,i,r,u){try{var e=t(n,this.bindingCache,u);return e(i,r)}catch(f){f.message="Unable to parse bindings.\nBindings value: "+n+"\nMessage: "+f.message;throw f;}}});s.bindingProvider.instance=new s.bindingProvider}();s.exportSymbol("bindingProvider",s.bindingProvider),function(){function v(n){return function(){return n}}function r(n){return n()}function h(n){return s.utils.objectMap(s.dependencyDetection.ignore(n),function(t,i){return function(){return n()[i]}})}function y(n,t,i){return typeof n=="function"?h(n.bind(null,t,i)):s.utils.objectMap(n,v)}function p(n,t){return h(this.getBindings.bind(this,n,t))}function w(n){var t=s.virtualElements.allowedBindings[n];if(!t)throw new Error("The binding '"+n+"' cannot be used with virtual elements");}function c(n,t,i){var r,u=s.virtualElements.firstChild(t),f=s.bindingProvider.instance,e=f.preprocessNode;if(e){while(r=u)u=s.virtualElements.nextSibling(r),e.call(f,r);u=s.virtualElements.firstChild(t)}while(r=u)u=s.virtualElements.nextSibling(r),l(n,r,i)}function l(n,t,i){var u=!0,r=t.nodeType===1,f;r&&s.virtualElements.normaliseVirtualElementDomStructure(t);f=r&&i||s.bindingProvider.instance.nodeHasBindings(t);f&&(u=a(t,null,n,i).shouldBindDescendants);u&&!o[s.utils.tagNameLower(t)]&&c(n,t,!r)}function b(n){var i=[],r={},t=[];return s.utils.objectForEach(n,function u(f){if(!r[f]){var e=s.getBindingHandler(f);e&&(e.after&&(t.push(f),s.utils.arrayForEach(e.after,function(i){if(n[i])if(s.utils.arrayIndexOf(t,i)!==-1)throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+t.join(", "));else u(i)}),t.length--),i.push({key:f,handler:e}));r[f]=!0}}),i}function a(n,i,u,e){var v=s.utils.domData.get(n,f),o,c,l,k;if(!i){if(v)throw Error("You cannot apply bindings multiple times to the same element.");s.utils.domData.set(n,f,!0)}if(!v&&e&&s.storedBindingContextForNode(n,u),i&&typeof i!="function")o=i;else{var y=s.bindingProvider.instance,d=y.getBindingAccessors||p,h=s.dependentObservable(function(){return o=i?i(u,n):d.call(y,n,u),o&&u._subscribable&&u._subscribable(),o},null,{disposeWhenNodeIsRemoved:n});o&&h.isActive()||(h=null)}if(o){l=h?function(n){return function(){return r(h()[n])}}:function(n){return o[n]};function a(){return s.utils.objectMap(h?h():o,r)}a.get=function(n){return o[n]&&r(l(n))};a.has=function(n){return n in o};k=b(o);s.utils.arrayForEach(k,function(i){var e=i.handler.init,h=i.handler.update,r=i.key;n.nodeType===8&&w(r);try{typeof e=="function"&&s.dependencyDetection.ignore(function(){var i=e(n,l(r),a,u.$data,u);if(i&&i.controlsDescendantBindings){if(c!==t)throw new Error("Multiple bindings ("+c+" and "+r+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");c=r}});typeof h=="function"&&s.dependentObservable(function(){h(n,l(r),a,u.$data,u)},null,{disposeWhenNodeIsRemoved:n})}catch(f){f.message='Unable to process binding "'+r+": "+o[r]+'"\nMessage: '+f.message;throw f;}})}return{shouldBindDescendants:c===t}}function n(n){return n&&n instanceof s.bindingContext?n:new s.bindingContext(n)}var o,f,e;s.bindingHandlers={};o={script:!0};s.getBindingHandler=function(n){return s.bindingHandlers[n]};s.bindingContext=function(n,i,r,u){function h(){var o=l?n():n,t=s.utils.unwrapObservable(o);return i?(i._subscribable&&i._subscribable(),s.utils.extend(f,i),e&&(f._subscribable=e)):(f.$parents=[],f.$root=t,f.ko=s),f.$rawData=o,f.$data=t,r&&(f[r]=t),u&&u(f,i,t),f.$data}function c(){return o&&!s.utils.anyDomNodeIsAttachedToDocument(o)}var f=this,l=typeof n=="function"&&!s.isObservable(n),o,e=s.dependentObservable(h,null,{disposeWhen:c,disposeWhenNodeIsRemoved:!0});e.isActive()&&(f._subscribable=e,e.equalityComparer=null,o=[],e._addNode=function(n){o.push(n);s.utils.domNodeDisposal.addDisposeCallback(n,function(n){s.utils.arrayRemoveItem(o,n);o.length||(e.dispose(),f._subscribable=e=t)})})};s.bindingContext.prototype.createChildContext=function(n,t,i){return new s.bindingContext(n,this,t,function(n,t){n.$parentContext=t;n.$parent=t.$data;n.$parents=(t.$parents||[]).slice(0);n.$parents.unshift(n.$parent);i&&i(n)})};s.bindingContext.prototype.extend=function(n){return new s.bindingContext(this._subscribable||this.$data,this,null,function(t,i){t.$rawData=i.$rawData;s.utils.extend(t,typeof n=="function"?n():n)})};f=s.utils.domData.nextKey();e=s.utils.domData.nextKey();s.storedBindingContextForNode=function(n,t){if(arguments.length==2)s.utils.domData.set(n,e,t),t._subscribable&&t._subscribable._addNode(n);else return s.utils.domData.get(n,e)};s.applyBindingAccessorsToNode=function(t,i,r){return t.nodeType===1&&s.virtualElements.normaliseVirtualElementDomStructure(t),a(t,i,n(r),!0)};s.applyBindingsToNode=function(t,i,r){var u=n(r);return s.applyBindingAccessorsToNode(t,y(i,u,t),u)};s.applyBindingsToDescendants=function(t,i){(i.nodeType===1||i.nodeType===8)&&c(n(t),i,!0)};s.applyBindings=function(t,r){if(!i&&u.jQuery&&(i=u.jQuery),r&&r.nodeType!==1&&r.nodeType!==8)throw new Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");r=r||u.document.body;l(n(t),r,!0)};s.contextFor=function(n){switch(n.nodeType){case 1:case 8:var i=s.storedBindingContextForNode(n);if(i)return i;if(n.parentNode)return s.contextFor(n.parentNode)}return t};s.dataFor=function(n){var i=s.contextFor(n);return i?i.$data:t};s.exportSymbol("bindingHandlers",s.bindingHandlers);s.exportSymbol("applyBindings",s.applyBindings);s.exportSymbol("applyBindingsToDescendants",s.applyBindingsToDescendants);s.exportSymbol("applyBindingAccessorsToNode",s.applyBindingAccessorsToNode);s.exportSymbol("applyBindingsToNode",s.applyBindingsToNode);s.exportSymbol("contextFor",s.contextFor);s.exportSymbol("dataFor",s.dataFor)}();b={"class":"className","for":"htmlFor"};s.bindingHandlers.attr={update:function(n,i){var r=s.utils.unwrapObservable(i())||{};s.utils.objectForEach(r,function(i,r){r=s.utils.unwrapObservable(r);var u=r===!1||r===null||r===t;u&&n.removeAttribute(i);s.utils.ieVersion<=8&&i in b?(i=b[i],u?n.removeAttribute(i):n[i]=r):u||n.setAttribute(i,r.toString());i==="name"&&s.utils.setElementName(n,u?"":r.toString())})}},function(){s.bindingHandlers.checked={after:["value","attr"],init:function(n,i,r){function u(){return r.has("checkedValue")?s.utils.unwrapObservable(r.get("checkedValue")):n.value}function c(){var c=n.checked,t=a?u():c,o;s.computedContext.isInitial()||(!f||c)&&(o=s.dependencyDetection.ignore(i),e?h!==t?(c&&(s.utils.addOrRemoveItem(o,t,!0),s.utils.addOrRemoveItem(o,h,!1)),h=t):s.utils.addOrRemoveItem(o,t,c):s.expressionRewriting.writeValueToProperty(o,r,"checked",t,!0))}function l(){var t=s.utils.unwrapObservable(i());n.checked=e?s.utils.arrayIndexOf(t,u())>=0:o?t:u()===t}var o=n.type=="checkbox",f=n.type=="radio";if(o||f){var e=o&&s.utils.unwrapObservable(i())instanceof Array,h=e?u():t,a=f||e;f&&!n.name&&s.bindingHandlers.uniqueName.init(n,function(){return!0});s.computed(c,null,{disposeWhenNodeIsRemoved:n});s.utils.registerEventHandler(n,"click",c);s.computed(l,null,{disposeWhenNodeIsRemoved:n})}}};s.expressionRewriting.twoWayBindings.checked=!0;s.bindingHandlers.checkedValue={update:function(n,t){n.value=s.utils.unwrapObservable(t())}}}();k="__ko__cssValue";s.bindingHandlers.css={update:function(n,t){var i=s.utils.unwrapObservable(t());typeof i=="object"?s.utils.objectForEach(i,function(t,i){i=s.utils.unwrapObservable(i);s.utils.toggleDomNodeCssClass(n,t,i)}):(i=String(i||""),s.utils.toggleDomNodeCssClass(n,n[k],!1),n[k]=i,s.utils.toggleDomNodeCssClass(n,i,!0))}};s.bindingHandlers.enable={update:function(n,t){var i=s.utils.unwrapObservable(t());i&&n.disabled?n.removeAttribute("disabled"):i||n.disabled||(n.disabled=!0)}};s.bindingHandlers.disable={update:function(n,t){s.bindingHandlers.enable.update(n,function(){return!s.utils.unwrapObservable(t())})}};s.bindingHandlers.event={init:function(n,t,i,r,u){var f=t()||{};s.utils.objectForEach(f,function(f){typeof f=="string"&&s.utils.registerEventHandler(n,f,function(n){var o,h=t()[f],e,c;if(h){try{e=s.utils.makeArray(arguments);r=u.$data;e.unshift(r);o=h.apply(r,e)}finally{o!==!0&&(n.preventDefault?n.preventDefault():n.returnValue=!1)}c=i.get(f+"Bubble")!==!1;c||(n.cancelBubble=!0,n.stopPropagation&&n.stopPropagation())}})})}};s.bindingHandlers.foreach={makeTemplateValueAccessor:function(n){return function(){var i=n(),t=s.utils.peekObservable(i);return!t||typeof t.length=="number"?{foreach:i,templateEngine:s.nativeTemplateEngine.instance}:(s.utils.unwrapObservable(i),{foreach:t.data,as:t.as,includeDestroyed:t.includeDestroyed,afterAdd:t.afterAdd,beforeRemove:t.beforeRemove,afterRender:t.afterRender,beforeMove:t.beforeMove,afterMove:t.afterMove,templateEngine:s.nativeTemplateEngine.instance})}},init:function(n,t){return s.bindingHandlers.template.init(n,s.bindingHandlers.foreach.makeTemplateValueAccessor(t))},update:function(n,t,i,r,u){return s.bindingHandlers.template.update(n,s.bindingHandlers.foreach.makeTemplateValueAccessor(t),i,r,u)}};s.expressionRewriting.bindingRewriteValidators.foreach=!1;s.virtualElements.allowedBindings.foreach=!0;v="__ko_hasfocusUpdating";d="__ko_hasfocusLastValue";s.bindingHandlers.hasfocus={init:function(n,t,i){var r=function(r){var u,f,e;if(n[v]=!0,u=n.ownerDocument,"activeElement"in u){try{f=u.activeElement}catch(o){f=u.body}r=f===n}e=t();s.expressionRewriting.writeValueToProperty(e,i,"hasfocus",r,!0);n[d]=r;n[v]=!1},u=r.bind(null,!0),f=r.bind(null,!1);s.utils.registerEventHandler(n,"focus",u);s.utils.registerEventHandler(n,"focusin",u);s.utils.registerEventHandler(n,"blur",f);s.utils.registerEventHandler(n,"focusout",f)},update:function(n,t){var i=!!s.utils.unwrapObservable(t());n[v]||n[d]===i||(i?n.focus():n.blur(),s.dependencyDetection.ignore(s.utils.triggerEvent,null,[n,i?"focusin":"focusout"]))}};s.expressionRewriting.twoWayBindings.hasfocus=!0;s.bindingHandlers.hasFocus=s.bindingHandlers.hasfocus;s.expressionRewriting.twoWayBindings.hasFocus=!0;s.bindingHandlers.html={init:function(){return{controlsDescendantBindings:!0}},update:function(n,t){s.utils.setHtml(n,t())}};g("if");g("ifnot",!1,!0);g("with",!0,!1,function(n,t){return n.createChildContext(t)});y={};s.bindingHandlers.options={init:function(n){if(s.utils.tagNameLower(n)!=="select")throw new Error("options binding applies only to SELECT elements");while(n.length>0)n.remove(0);return{controlsDescendantBindings:!0}},update:function(n,i,r){function a(){return s.utils.arrayFilter(n.options,function(n){return n.selected})}function p(n,t,i){var r=typeof t;return r=="function"?t(n):r=="string"?n[t]:i}function d(i,f,e){var o,h,l;return e.length&&(u=e[0].selected?[s.selectExtensions.readValue(e[0])]:[],c=!0),o=n.ownerDocument.createElement("option"),i===y?(s.utils.setTextContent(o,r.get("optionsCaption")),s.selectExtensions.writeValue(o,t)):(h=p(i,r.get("optionsValue"),i),s.selectExtensions.writeValue(o,s.utils.unwrapObservable(h)),l=p(i,r.get("optionsText"),h),s.utils.setTextContent(o,l)),[o]}function w(t,i){if(u.length){var r=s.utils.arrayIndexOf(u,s.selectExtensions.readValue(i[0]))>=0;s.utils.setOptionNodeSelectionState(i[0],r);c&&!r&&s.dependencyDetection.ignore(s.utils.triggerEvent,null,[n,"change"])}}var b=n.length==0,e=!b&&n.multiple?n.scrollTop:null,f=s.utils.unwrapObservable(i()),k=r.get("optionsIncludeDestroyed"),v={},o,h,u,c,l;u=n.multiple?s.utils.arrayMap(a(),s.selectExtensions.readValue):n.selectedIndex>=0?[s.selectExtensions.readValue(n.options[n.selectedIndex])]:[];f&&(typeof f.length=="undefined"&&(f=[f]),h=s.utils.arrayFilter(f,function(n){return k||n===t||n===null||!s.utils.unwrapObservable(n._destroy)}),r.has("optionsCaption")&&(o=s.utils.unwrapObservable(r.get("optionsCaption")),o!==null&&o!==t&&h.unshift(y)));c=!1;v.beforeRemove=function(t){n.removeChild(t)};l=w;r.has("optionsAfterRender")&&(l=function(n,i){w(n,i);s.dependencyDetection.ignore(r.get("optionsAfterRender"),null,[i[0],n!==y?n:t])});s.utils.setDomNodeChildrenFromArrayMapping(n,h,d,v,l);s.dependencyDetection.ignore(function(){if(r.get("valueAllowUnset")&&r.has("value"))s.selectExtensions.writeValue(n,s.utils.unwrapObservable(r.get("value")),!0);else{var t;t=n.multiple?u.length&&a().length<u.length:u.length&&n.selectedIndex>=0?s.selectExtensions.readValue(n.options[n.selectedIndex])!==u[0]:u.length||n.selectedIndex>=0;t&&s.utils.triggerEvent(n,"change")}});s.utils.ensureSelectElementIsRenderedCorrectly(n);e&&Math.abs(e-n.scrollTop)>20&&(n.scrollTop=e)}};s.bindingHandlers.options.optionValueDomDataKey=s.utils.domData.nextKey();s.bindingHandlers.selectedOptions={after:["options","foreach"],init:function(n,t,i){s.utils.registerEventHandler(n,"change",function(){var u=t(),r=[];s.utils.arrayForEach(n.getElementsByTagName("option"),function(n){n.selected&&r.push(s.selectExtensions.readValue(n))});s.expressionRewriting.writeValueToProperty(u,i,"selectedOptions",r)})},update:function(n,t){if(s.utils.tagNameLower(n)!="select")throw new Error("values binding applies only to SELECT elements");var i=s.utils.unwrapObservable(t());i&&typeof i.length=="number"&&s.utils.arrayForEach(n.getElementsByTagName("option"),function(n){var t=s.utils.arrayIndexOf(i,s.selectExtensions.readValue(n))>=0;s.utils.setOptionNodeSelectionState(n,t)})}};s.expressionRewriting.twoWayBindings.selectedOptions=!0;s.bindingHandlers.style={update:function(n,t){var i=s.utils.unwrapObservable(t()||{});s.utils.objectForEach(i,function(t,i){i=s.utils.unwrapObservable(i);n.style[t]=i||""})}};s.bindingHandlers.submit={init:function(n,t,i,r,u){if(typeof t()!="function")throw new Error("The value for a submit binding must be a function");s.utils.registerEventHandler(n,"submit",function(i){var r,f=t();try{r=f.call(u.$data,n)}finally{r!==!0&&(i.preventDefault?i.preventDefault():i.returnValue=!1)}})}};s.bindingHandlers.text={init:function(){return{controlsDescendantBindings:!0}},update:function(n,t){s.utils.setTextContent(n,t())}};s.virtualElements.allowedBindings.text=!0;s.bindingHandlers.uniqueName={init:function(n,t){if(t()){var i="ko_unique_"+ ++s.bindingHandlers.uniqueName.currentIndex;s.utils.setElementName(n,i)}}};s.bindingHandlers.uniqueName.currentIndex=0;s.bindingHandlers.value={after:["options","foreach"],init:function(n,t,i){var r=["change"],u=i.get("valueUpdate"),f=!1,e,o;u&&(typeof u=="string"&&(u=[u]),s.utils.arrayPushAll(r,u),r=s.utils.arrayGetDistinctValues(r));e=function(){f=!1;var r=t(),u=s.selectExtensions.readValue(n);s.expressionRewriting.writeValueToProperty(r,i,"value",u)};o=s.utils.ieVersion&&n.tagName.toLowerCase()=="input"&&n.type=="text"&&n.autocomplete!="off"&&(!n.form||n.form.autocomplete!="off");o&&s.utils.arrayIndexOf(r,"propertychange")==-1&&(s.utils.registerEventHandler(n,"propertychange",function(){f=!0}),s.utils.registerEventHandler(n,"focus",function(){f=!1}),s.utils.registerEventHandler(n,"blur",function(){f&&e()}));s.utils.arrayForEach(r,function(t){var i=e;s.utils.stringStartsWith(t,"after")&&(i=function(){setTimeout(e,0)},t=t.substring(5));s.utils.registerEventHandler(n,t,i)})},update:function(n,t,i){var r=s.utils.unwrapObservable(t()),e=s.selectExtensions.readValue(n),o=r!==e,u,f;o&&(s.utils.tagNameLower(n)==="select"?(u=i.get("valueAllowUnset"),f=function(){s.selectExtensions.writeValue(n,r,u)},f(),u||r===s.selectExtensions.readValue(n)?setTimeout(f,0):s.dependencyDetection.ignore(s.utils.triggerEvent,null,[n,"change"])):s.selectExtensions.writeValue(n,r))}};s.expressionRewriting.twoWayBindings.value=!0;s.bindingHandlers.visible={update:function(n,t){var i=s.utils.unwrapObservable(t()),r=!(n.style.display=="none");i&&!r?n.style.display="":!i&&r&&(n.style.display="none")}};ut("click");s.templateEngine=function(){};s.templateEngine.prototype.renderTemplateSource=function(){throw new Error("Override renderTemplateSource");};s.templateEngine.prototype.createJavaScriptEvaluatorBlock=function(){throw new Error("Override createJavaScriptEvaluatorBlock");};s.templateEngine.prototype.makeTemplateSource=function(n,t){if(typeof n=="string"){t=t||r;var i=t.getElementById(n);if(!i)throw new Error("Cannot find template with ID "+n);return new s.templateSources.domElement(i)}if(n.nodeType==1||n.nodeType==8)return new s.templateSources.anonymousTemplate(n);throw new Error("Unknown template type: "+n);};s.templateEngine.prototype.renderTemplate=function(n,t,i,r){var u=this.makeTemplateSource(n,r);return this.renderTemplateSource(u,t,i)};s.templateEngine.prototype.isTemplateRewritten=function(n,t){return this.allowTemplateRewriting===!1?!0:this.makeTemplateSource(n,t).data("isRewritten")};s.templateEngine.prototype.rewriteTemplate=function(n,t,i){var r=this.makeTemplateSource(n,i),u=t(r.text());r.text(u);r.data("isRewritten",!0)};s.exportSymbol("templateEngine",s.templateEngine);s.templateRewriting=function(){function r(n){for(var i,r,u,f=s.expressionRewriting.bindingRewriteValidators,t=0;t<n.length;t++)if(i=n[t].key,f.hasOwnProperty(i))if(r=f[i],typeof r=="function"){if(u=r(n[t].value),u)throw new Error(u);}else if(!r)throw new Error("This template engine does not support the '"+i+"' binding within its templates");}function n(n,t,i,u){var f=s.expressionRewriting.parseObjectLiteral(n),e,o;return r(f),e=s.expressionRewriting.preProcessBindings(f,{valueAccessors:!0}),o="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+e+" } })()},'"+i.toLowerCase()+"')",u.createJavaScriptEvaluatorBlock(o)+t}var t=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,i=/<!--\s*ko\b\s*([\s\S]*?)\s*-->/g;return{ensureTemplateIsRewritten:function(n,t,i){t.isTemplateRewritten(n,i)||t.rewriteTemplate(n,function(n){return s.templateRewriting.memoizeBindingAttributeSyntax(n,t)},i)},memoizeBindingAttributeSyntax:function(r,u){return r.replace(t,function(){return n(arguments[4],arguments[1],arguments[2],u)}).replace(i,function(){return n(arguments[1],"<!-- ko -->","#comment",u)})},applyMemoizedBindingsToNextSibling:function(n,t){return s.memoization.memoize(function(i,r){var u=i.nextSibling;u&&u.nodeName.toLowerCase()===t&&s.applyBindingAccessorsToNode(u,n,r)})}}}();s.exportSymbol("__tr_ambtns",s.templateRewriting.applyMemoizedBindingsToNextSibling),function(){var i,n;s.templateSources={};s.templateSources.domElement=function(n){this.domElement=n};s.templateSources.domElement.prototype.text=function(){var i=s.utils.tagNameLower(this.domElement),n=i==="script"?"text":i==="textarea"?"value":"innerHTML",t;if(arguments.length==0)return this.domElement[n];t=arguments[0];n==="innerHTML"?s.utils.setHtml(this.domElement,t):this.domElement[n]=t};i=s.utils.domData.nextKey()+"_";s.templateSources.domElement.prototype.data=function(n){if(arguments.length===1)return s.utils.domData.get(this.domElement,i+n);s.utils.domData.set(this.domElement,i+n,arguments[1])};n=s.utils.domData.nextKey();s.templateSources.anonymousTemplate=function(n){this.domElement=n};s.templateSources.anonymousTemplate.prototype=new s.templateSources.domElement;s.templateSources.anonymousTemplate.prototype.constructor=s.templateSources.anonymousTemplate;s.templateSources.anonymousTemplate.prototype.text=function(){var i,r;if(arguments.length==0)return i=s.utils.domData.get(this.domElement,n)||{},i.textData===t&&i.containerData&&(i.textData=i.containerData.innerHTML),i.textData;r=arguments[0];s.utils.domData.set(this.domElement,n,{textData:r})};s.templateSources.domElement.prototype.nodes=function(){var t,i;if(arguments.length==0)return t=s.utils.domData.get(this.domElement,n)||{},t.containerData;i=arguments[0];s.utils.domData.set(this.domElement,n,{containerData:i})};s.exportSymbol("templateSources",s.templateSources);s.exportSymbol("templateSources.domElement",s.templateSources.domElement);s.exportSymbol("templateSources.anonymousTemplate",s.templateSources.anonymousTemplate)}(),function(){function i(n,t,i){for(var u,r=n,f=s.virtualElements.nextSibling(t);r&&(u=r)!==f;)r=s.virtualElements.nextSibling(u),i(u,r)}function f(n,t){if(n.length){var r=n[0],u=n[n.length-1],f=r.parentNode,e=s.bindingProvider.instance,o=e.preprocessNode;if(o){if(i(r,u,function(n,t){var f=n.previousSibling,i=o.call(e,n);i&&(n===r&&(r=i[0]||t),n===u&&(u=i[i.length-1]||f))}),n.length=0,!r)return;r===u?n.push(r):(n.push(r,u),s.utils.fixUpContinuousNodeArray(n,f))}i(r,u,function(n){(n.nodeType===1||n.nodeType===8)&&s.applyBindings(t,n)});i(r,u,function(n){(n.nodeType===1||n.nodeType===8)&&s.memoization.unmemoizeDomNodeAndDescendants(n,[t])});s.utils.fixUpContinuousNodeArray(n,f)}}function r(n){return n.nodeType?n:n.length>0?n[0]:null}function e(t,i,u,e,o){var h,c;o=o||{};var l=t&&r(t),a=l&&l.ownerDocument,v=o.templateEngine||n;if(s.templateRewriting.ensureTemplateIsRewritten(u,v,a),h=v.renderTemplate(u,e,o,a),typeof h.length!="number"||h.length>0&&typeof h[0].nodeType!="number")throw new Error("Template engine must return an array of DOM nodes");c=!1;switch(i){case"replaceChildren":s.virtualElements.setDomNodeChildren(t,h);c=!0;break;case"replaceNode":s.utils.replaceDomNodes(t,h);c=!0;break;case"ignoreTargetNode":break;default:throw new Error("Unknown renderMode: "+i);}return c&&(f(h,e),o.afterRender&&s.dependencyDetection.ignore(o.afterRender,null,[h,e.$data])),h}function o(n,i){var r=s.utils.domData.get(n,u);r&&typeof r.dispose=="function"&&r.dispose();s.utils.domData.set(n,u,i&&i.isActive()?i:t)}var n,u;s.setTemplateEngine=function(i){if(i!=t&&!(i instanceof s.templateEngine))throw new Error("templateEngine must inherit from ko.templateEngine");n=i};s.renderTemplate=function(i,u,f,o,h){if(f=f||{},(f.templateEngine||n)==t)throw new Error("Set a template engine before calling renderTemplate");if(h=h||"replaceChildren",o){var c=r(o),l=function(){return!c||!s.utils.domNodeIsAttachedToDocument(c)},a=c&&h=="replaceNode"?c.parentNode:c;return s.dependentObservable(function(){var n=u&&u instanceof s.bindingContext?u:new s.bindingContext(s.utils.unwrapObservable(u)),t=s.isObservable(i)?i():typeof i=="function"?i(n.$data,n):i,l=e(o,h,t,n,f);h=="replaceNode"&&(o=l,c=r(o))},null,{disposeWhen:l,disposeWhenNodeIsRemoved:a})}return s.memoization.memoize(function(n){s.renderTemplate(i,u,f,n,"replaceNode")})};s.renderTemplateForEach=function(n,i,r,u,o){var h,c=function(t,i){h=o.createChildContext(t,r.as,function(n){n.$index=i});var u=typeof n=="function"?n(t,h):n;return e(null,"ignoreTargetNode",u,h,r)},l=function(n,t){f(t,h);r.afterRender&&r.afterRender(t,n)};return s.dependentObservable(function(){var n=s.utils.unwrapObservable(i)||[],f;typeof n.length=="undefined"&&(n=[n]);f=s.utils.arrayFilter(n,function(n){return r.includeDestroyed||n===t||n===null||!s.utils.unwrapObservable(n._destroy)});s.dependencyDetection.ignore(s.utils.setDomNodeChildrenFromArrayMapping,null,[u,f,c,r,l])},null,{disposeWhenNodeIsRemoved:u})};u=s.utils.domData.nextKey();s.bindingHandlers.template={init:function(n,t){var i=s.utils.unwrapObservable(t()),r,u;return typeof i=="string"||i.name?s.virtualElements.emptyNode(n):(r=s.virtualElements.childNodes(n),u=s.utils.moveCleanedNodesToContainerElement(r),new s.templateSources.anonymousTemplate(n).nodes(u)),{controlsDescendantBindings:!0}},update:function(n,t,i,r,u){var l=t(),a,f=s.utils.unwrapObservable(l),e=!0,c=null,h,v,y;typeof f=="string"?(h=l,f={}):(h=f.name,"if"in f&&(e=s.utils.unwrapObservable(f["if"])),e&&"ifnot"in f&&(e=!s.utils.unwrapObservable(f.ifnot)),a=s.utils.unwrapObservable(f.data));"foreach"in f?(v=e&&f.foreach||[],c=s.renderTemplateForEach(h||n,v,f,n,u)):e?(y="data"in f?u.createChildContext(a,f.as):u,c=s.renderTemplate(h||n,y,f,n)):s.virtualElements.emptyNode(n);o(n,c)}};s.expressionRewriting.bindingRewriteValidators.template=function(n){var t=s.expressionRewriting.parseObjectLiteral(n);return t.length==1&&t[0].unknown?null:s.expressionRewriting.keyValueArrayContainsKey(t,"name")?null:"This template engine does not support anonymous templates nested within its templates"};s.virtualElements.allowedBindings.template=!0}();s.exportSymbol("setTemplateEngine",s.setTemplateEngine);s.exportSymbol("renderTemplate",s.renderTemplate);s.utils.findMovesInArrayComparison=function(n,t,i){if(n.length&&t.length)for(var o,r,f,e,u=o=0;(!i||u<i)&&(f=n[o]);++o){for(r=0;e=t[r];++r)if(f.value===e.value){f.moved=e.index;e.moved=f.index;t.splice(r,1);u=r=0;break}u+=r}};s.utils.compareArrays=function(){function r(r,u,f){return f=typeof f=="boolean"?{dontLimitMoves:f}:f||{},r=r||[],u=u||[],r.length<=u.length?i(r,u,n,t,f):i(u,r,t,n,f)}function i(n,t,i,r,u){for(var p=Math.min,it=Math.max,l=[],c=n.length,f,a=t.length,rt=a-c||1,w=c+a+1,o,v,b,k,d,g,e=0;e<=c;e++)for(v=o,l.push(o=[]),b=p(a,e+rt),k=it(0,e-1),f=k;f<=b;f++)f?e?n[e-1]===t[f-1]?o[f]=v[f-1]:(d=v[f]||w,g=o[f-1]||w,o[f]=p(d,g)+1):o[f]=f+1:o[f]=e+1;var h=[],y,nt=[],tt=[];for(e=c,f=a;e||f;)y=l[e][f]-1,f&&y===l[e][f-1]?nt.push(h[h.length]={status:i,value:t[--f],index:f}):e&&y===l[e-1][f]?tt.push(h[h.length]={status:r,value:n[--e],index:e}):(--f,--e,u.sparse||h.push({status:"retained",value:t[f]}));return s.utils.findMovesInArrayComparison(nt,tt,c*10),h.reverse()}var n="added",t="deleted";return r}();s.exportSymbol("utils.compareArrays",s.utils.compareArrays),function(){function i(n,i,r,u,f){var e=[],o=s.dependentObservable(function(){var t=i(r,f,s.utils.fixUpContinuousNodeArray(e,n))||[];e.length>0&&(s.utils.replaceDomNodes(e,t),u&&s.dependencyDetection.ignore(u,null,[r,t,f]));e.length=0;s.utils.arrayPushAll(e,t)},null,{disposeWhenNodeIsRemoved:n,disposeWhen:function(){return!s.utils.anyDomNodeIsAttachedToDocument(e)}});return{mappedNodes:e,dependentObservable:o.isActive()?o:t}}var n=s.utils.domData.nextKey();s.utils.setDomNodeChildrenFromArrayMapping=function(r,u,f,e,o){function ft(n,t){h=w[t];d!==t&&(nt[n]=h);h.indexObservable(d++);s.utils.fixUpContinuousNodeArray(h.mappedNodes,r);b.push(h);a.push(h)}function v(n,t){if(n)for(var i=0,r=t.length;i<r;i++)t[i]&&s.utils.arrayForEach(t[i].mappedNodes,function(r){n(r,i,t[i].arrayEntry)})}var y,p,c,tt,et,l,it;u=u||[];e=e||{};var ot=s.utils.domData.get(r,n)===t,w=s.utils.domData.get(r,n)||[],st=s.utils.arrayMap(w,function(n){return n.arrayEntry}),ht=s.utils.compareArrays(st,u,e.dontLimitMoves),b=[],k=0,d=0,g=[],a=[],rt=[],nt=[],ut=[],h;for(c=0;y=ht[c];c++){p=y.moved;switch(y.status){case"deleted":p===t&&(h=w[k],h.dependentObservable&&h.dependentObservable.dispose(),g.push.apply(g,s.utils.fixUpContinuousNodeArray(h.mappedNodes,r)),e.beforeRemove&&(rt[c]=h,a.push(h)));k++;break;case"retained":ft(c,k++);break;case"added":p!==t?ft(c,p):(h={arrayEntry:y.value,indexObservable:s.observable(d++)},b.push(h),a.push(h),ot||(ut[c]=h))}}for(v(e.beforeMove,nt),s.utils.arrayForEach(g,e.beforeRemove?s.cleanNode:s.removeNode),c=0,tt=s.virtualElements.firstChild(r);h=a[c];c++){for(h.mappedNodes||s.utils.extend(h,i(r,f,h.arrayEntry,o,h.indexObservable)),it=0;l=h.mappedNodes[it];tt=l.nextSibling,et=l,it++)l!==tt&&s.virtualElements.insertAfter(r,l,et);!h.initialized&&o&&(o(h.arrayEntry,h.mappedNodes,h.indexObservable),h.initialized=!0)}v(e.beforeRemove,rt);v(e.afterMove,nt);v(e.afterAdd,ut);s.utils.domData.set(r,n,b)}}();s.exportSymbol("utils.setDomNodeChildrenFromArrayMapping",s.utils.setDomNodeChildrenFromArrayMapping);s.nativeTemplateEngine=function(){this.allowTemplateRewriting=!1};s.nativeTemplateEngine.prototype=new s.templateEngine;s.nativeTemplateEngine.prototype.constructor=s.nativeTemplateEngine;s.nativeTemplateEngine.prototype.renderTemplateSource=function(n){var r=!(s.utils.ieVersion<9),u=r?n.nodes:null,t=u?n.nodes():null,i;return t?s.utils.makeArray(t.cloneNode(!0).childNodes):(i=n.text(),s.utils.parseHtmlFragment(i))};s.nativeTemplateEngine.instance=new s.nativeTemplateEngine;s.setTemplateEngine(s.nativeTemplateEngine.instance);s.exportSymbol("nativeTemplateEngine",s.nativeTemplateEngine),function(){s.jqueryTmplTemplateEngine=function(){function t(){if(n<2)throw new Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");}function u(n,t,r){return i.tmpl(n,t,r)}var n=this.jQueryTmplVersion=function(){if(!i||!i.tmpl)return 0;try{if(i.tmpl.tag.tmpl.open.toString().indexOf("__")>=0)return 2}catch(n){}return 1}();this.renderTemplateSource=function(n,f,e){var o,s;e=e||{};t();o=n.data("precompiled");o||(s=n.text()||"",s="{{ko_with $item.koBindingContext}}"+s+"{{/ko_with}}",o=i.template(null,s),n.data("precompiled",o));var c=[f.$data],l=i.extend({koBindingContext:f},e.templateOptions),h=u(o,c,l);return h.appendTo(r.createElement("div")),i.fragments={},h};this.createJavaScriptEvaluatorBlock=function(n){return"{{ko_code ((function() { return "+n+" })()) }}"};this.addTemplate=function(n,t){r.write("<script type='text/html' id='"+n+"'>"+t+"<\/script>")};n>0&&(i.tmpl.tag.ko_code={open:"__.push($1 || '');"},i.tmpl.tag.ko_with={open:"with($1) {",close:"} "})};s.jqueryTmplTemplateEngine.prototype=new s.templateEngine;s.jqueryTmplTemplateEngine.prototype.constructor=s.jqueryTmplTemplateEngine;var n=new s.jqueryTmplTemplateEngine;n.jQueryTmplVersion>0&&s.setTemplateEngine(n);s.exportSymbol("jqueryTmplTemplateEngine",s.jqueryTmplTemplateEngine)}()})})()}();Enumerable=function(){var n=function(n){this.GetEnumerator=n},s,u;n.Choice=function(){var t=arguments[0]instanceof Array?arguments[0]:arguments;return new n(function(){return new i(r.Blank,function(){return this.Yield(t[Math.floor(Math.random()*t.length)])},r.Blank)})};n.Cycle=function(){var t=arguments[0]instanceof Array?arguments[0]:arguments;return new n(function(){var n=0;return new i(r.Blank,function(){return n>=t.length&&(n=0),this.Yield(t[n++])},r.Blank)})};n.Empty=function(){return new n(function(){return new i(r.Blank,function(){return!1},r.Blank)})};n.From=function(e){if(e==null)return n.Empty();if(e instanceof n)return e;if(typeof e==f.Number||typeof e==f.Boolean)return n.Repeat(e,1);if(typeof e==f.String)return new n(function(){var n=0;return new i(r.Blank,function(){return n<e.length?this.Yield(e.charAt(n++)):!1},r.Blank)});if(typeof e!=f.Function){if(typeof e.length==f.Number)return new u(e);if(!(e instanceof Object)&&t.IsIEnumerable(e))return new n(function(){var t=!0,n;return new i(function(){n=new Enumerator(e)},function(){return t?t=!1:n.moveNext(),n.atEnd()?!1:this.Yield(n.item())},r.Blank)})}return new n(function(){var n=[],t=0;return new i(function(){for(var t in e)e[t]instanceof Function||n.push({Key:t,Value:e[t]})},function(){return t<n.length?this.Yield(n[t++]):!1},r.Blank)})};n.Return=function(t){return n.Repeat(t,1)};n.Matches=function(t,u,f){return f==null&&(f=""),u instanceof RegExp&&(f+=u.ignoreCase?"i":"",f+=u.multiline?"m":"",u=u.source),f.indexOf("g")===-1&&(f+="g"),new n(function(){var n;return new i(function(){n=new RegExp(u,f)},function(){var i=n.exec(t);return i?this.Yield(i):!1},r.Blank)})};n.Range=function(t,i,r){return r==null&&(r=1),n.ToInfinity(t,r).Take(i)};n.RangeDown=function(t,i,r){return r==null&&(r=1),n.ToNegativeInfinity(t,r).Take(i)};n.RangeTo=function(t,i,r){return r==null&&(r=1),t<i?n.ToInfinity(t,r).TakeWhile(function(n){return n<=i}):n.ToNegativeInfinity(t,r).TakeWhile(function(n){return n>=i})};n.Repeat=function(t,u){return u!=null?n.Repeat(t).Take(u):new n(function(){return new i(r.Blank,function(){return this.Yield(t)},r.Blank)})};n.RepeatWithFinalize=function(r,u){return r=t.CreateLambda(r),u=t.CreateLambda(u),new n(function(){var n;return new i(function(){n=r()},function(){return this.Yield(n)},function(){n!=null&&(u(n),n=null)})})};n.Generate=function(u,f){return f!=null?n.Generate(u).Take(f):(u=t.CreateLambda(u),new n(function(){return new i(r.Blank,function(){return this.Yield(u())},r.Blank)}))};n.ToInfinity=function(t,u){return t==null&&(t=0),u==null&&(u=1),new n(function(){var n;return new i(function(){n=t-u},function(){return this.Yield(n+=u)},r.Blank)})};n.ToNegativeInfinity=function(t,u){return t==null&&(t=0),u==null&&(u=1),new n(function(){var n;return new i(function(){n=t+u},function(){return this.Yield(n-=u)},r.Blank)})};n.Unfold=function(u,f){return f=t.CreateLambda(f),new n(function(){var t=!0,n;return new i(r.Blank,function(){return t?(t=!1,n=u,this.Yield(n)):(n=f(n),this.Yield(n))},r.Blank)})};n.prototype={CascadeBreadthFirst:function(r,u){var f=this;return r=t.CreateLambda(r),u=t.CreateLambda(u),new n(function(){var e,s=0,o=[];return new i(function(){e=f.GetEnumerator()},function(){for(;;){if(e.MoveNext())return o.push(e.Current()),this.Yield(u(e.Current(),s));var i=n.From(o).SelectMany(function(n){return r(n)});if(i.Any())s++,o=[],t.Dispose(e),e=i.GetEnumerator();else return!1}},function(){t.Dispose(e)})})},CascadeDepthFirst:function(r,u){var f=this;return r=t.CreateLambda(r),u=t.CreateLambda(u),new n(function(){var o=[],e;return new i(function(){e=f.GetEnumerator()},function(){for(;;){if(e.MoveNext()){var i=u(e.Current(),o.length);return o.push(e),e=n.From(r(e.Current())).GetEnumerator(),this.Yield(i)}if(o.length<=0)return!1;t.Dispose(e);e=o.pop()}},function(){try{t.Dispose(e)}finally{n.From(o).ForEach(function(n){n.Dispose()})}})})},Flatten:function(){var u=this;return new n(function(){var e,f=null;return new i(function(){e=u.GetEnumerator()},function(){for(;;){if(f!=null){if(f.MoveNext())return this.Yield(f.Current());f=null}if(e.MoveNext())if(e.Current()instanceof Array){t.Dispose(f);f=n.From(e.Current()).SelectMany(r.Identity).Flatten().GetEnumerator();continue}else return this.Yield(e.Current());return!1}},function(){try{t.Dispose(e)}finally{t.Dispose(f)}})})},Pairwise:function(r){var u=this;return r=t.CreateLambda(r),new n(function(){var n;return new i(function(){n=u.GetEnumerator();n.MoveNext()},function(){var t=n.Current();return n.MoveNext()?this.Yield(r(t,n.Current())):!1},function(){t.Dispose(n)})})},Scan:function(r,u,f){var e,o;return f!=null?this.Scan(r,u).Select(f):(u==null?(u=t.CreateLambda(r),e=!1):(u=t.CreateLambda(u),e=!0),o=this,new n(function(){var n,f,s=!0;return new i(function(){n=o.GetEnumerator()},function(){if(s){if(s=!1,e)return this.Yield(f=r);if(n.MoveNext())return this.Yield(f=n.Current())}return n.MoveNext()?this.Yield(f=u(f,n.Current())):!1},function(){t.Dispose(n)})}))},Select:function(r){var u=this;return r=t.CreateLambda(r),new n(function(){var n,f=0;return new i(function(){n=u.GetEnumerator()},function(){return n.MoveNext()?this.Yield(r(n.Current(),f++)):!1},function(){t.Dispose(n)})})},SelectMany:function(r,u){var f=this;return r=t.CreateLambda(r),u==null&&(u=function(n,t){return t}),u=t.CreateLambda(u),new n(function(){var o,e=undefined,s=0;return new i(function(){o=f.GetEnumerator()},function(){if(e===undefined&&!o.MoveNext())return!1;do{if(e==null){var i=r(o.Current(),s++);e=n.From(i).GetEnumerator()}if(e.MoveNext())return this.Yield(u(o.Current(),e.Current()));t.Dispose(e);e=null}while(o.MoveNext());return!1},function(){try{t.Dispose(o)}finally{t.Dispose(e)}})})},Where:function(r){r=t.CreateLambda(r);var u=this;return new n(function(){var n,f=0;return new i(function(){n=u.GetEnumerator()},function(){while(n.MoveNext())if(r(n.Current(),f++))return this.Yield(n.Current());return!1},function(){t.Dispose(n)})})},OfType:function(n){var t;switch(n){case Number:t=f.Number;break;case String:t=f.String;break;case Boolean:t=f.Boolean;break;case Function:t=f.Function;break;default:t=null}return t===null?this.Where(function(t){return t instanceof n}):this.Where(function(n){return typeof n===t})},Zip:function(r,u){u=t.CreateLambda(u);var f=this;return new n(function(){var e,o,s=0;return new i(function(){e=f.GetEnumerator();o=n.From(r).GetEnumerator()},function(){return e.MoveNext()&&o.MoveNext()?this.Yield(u(e.Current(),o.Current(),s++)):!1},function(){try{t.Dispose(e)}finally{t.Dispose(o)}})})},Join:function(u,f,e,o,s){f=t.CreateLambda(f);e=t.CreateLambda(e);o=t.CreateLambda(o);s=t.CreateLambda(s);var h=this;return new n(function(){var c,a,l=null,v=0;return new i(function(){c=h.GetEnumerator();a=n.From(u).ToLookup(e,r.Identity,s)},function(){for(var n,t;;){if(l!=null){if(n=l[v++],n!==undefined)return this.Yield(o(c.Current(),n));n=null;v=0}if(c.MoveNext())t=f(c.Current()),l=a.Get(t).ToArray();else return!1}},function(){t.Dispose(c)})})},GroupJoin:function(u,f,e,o,s){f=t.CreateLambda(f);e=t.CreateLambda(e);o=t.CreateLambda(o);s=t.CreateLambda(s);var h=this;return new n(function(){var c=h.GetEnumerator(),l=null;return new i(function(){c=h.GetEnumerator();l=n.From(u).ToLookup(e,r.Identity,s)},function(){if(c.MoveNext()){var n=l.Get(f(c.Current()));return this.Yield(o(c.Current(),n))}return!1},function(){t.Dispose(c)})})},All:function(n){n=t.CreateLambda(n);var i=!0;return this.ForEach(function(t){if(!n(t))return i=!1,!1}),i},Any:function(n){n=t.CreateLambda(n);var i=this.GetEnumerator();try{if(arguments.length==0)return i.MoveNext();while(i.MoveNext())if(n(i.Current()))return!0;return!1}finally{t.Dispose(i)}},Concat:function(r){var u=this;return new n(function(){var e,f;return new i(function(){e=u.GetEnumerator()},function(){if(f==null){if(e.MoveNext())return this.Yield(e.Current());f=n.From(r).GetEnumerator()}return f.MoveNext()?this.Yield(f.Current()):!1},function(){try{t.Dispose(e)}finally{t.Dispose(f)}})})},Insert:function(r,u){var f=this;return new n(function(){var o,e,s=0,h=!1;return new i(function(){o=f.GetEnumerator();e=n.From(u).GetEnumerator()},function(){return s==r&&e.MoveNext()?(h=!0,this.Yield(e.Current())):o.MoveNext()?(s++,this.Yield(o.Current())):!h&&e.MoveNext()?this.Yield(e.Current()):!1},function(){try{t.Dispose(o)}finally{t.Dispose(e)}})})},Alternate:function(t){return t=n.Return(t),this.SelectMany(function(i){return n.Return(i).Concat(t)}).TakeExceptLast()},Contains:function(n,i){i=t.CreateLambda(i);var r=this.GetEnumerator();try{while(r.MoveNext())if(i(r.Current())===n)return!0;return!1}finally{t.Dispose(r)}},DefaultIfEmpty:function(r){var u=this;return new n(function(){var n,f=!0;return new i(function(){n=u.GetEnumerator()},function(){return n.MoveNext()?(f=!1,this.Yield(n.Current())):f?(f=!1,this.Yield(r)):!1},function(){t.Dispose(n)})})},Distinct:function(t){return this.Except(n.Empty(),t)},Except:function(r,u){u=t.CreateLambda(u);var f=this;return new n(function(){var e,o;return new i(function(){e=f.GetEnumerator();o=new h(u);n.From(r).ForEach(function(n){o.Add(n)})},function(){while(e.MoveNext()){var n=e.Current();if(!o.Contains(n))return o.Add(n),this.Yield(n)}return!1},function(){t.Dispose(e)})})},Intersect:function(r,u){u=t.CreateLambda(u);var f=this;return new n(function(){var e,o,s;return new i(function(){e=f.GetEnumerator();o=new h(u);n.From(r).ForEach(function(n){o.Add(n)});s=new h(u)},function(){while(e.MoveNext()){var n=e.Current();if(!s.Contains(n)&&o.Contains(n))return s.Add(n),this.Yield(n)}return!1},function(){t.Dispose(e)})})},SequenceEqual:function(i,r){var f,u;r=t.CreateLambda(r);f=this.GetEnumerator();try{u=n.From(i).GetEnumerator();try{while(f.MoveNext())if(!u.MoveNext()||r(f.Current())!==r(u.Current()))return!1;return u.MoveNext()?!1:!0}finally{t.Dispose(u)}}finally{t.Dispose(f)}},Union:function(r,u){u=t.CreateLambda(u);var f=this;return new n(function(){var s,e,o;return new i(function(){s=f.GetEnumerator();o=new h(u)},function(){var t;if(e===undefined){while(s.MoveNext())if(t=s.Current(),!o.Contains(t))return o.Add(t),this.Yield(t);e=n.From(r).GetEnumerator()}while(e.MoveNext())if(t=e.Current(),!o.Contains(t))return o.Add(t),this.Yield(t);return!1},function(){try{t.Dispose(s)}finally{t.Dispose(e)}})})},OrderBy:function(n){return new e(this,n,!1)},OrderByDescending:function(n){return new e(this,n,!0)},Reverse:function(){var t=this;return new n(function(){var n,u;return new i(function(){n=t.ToArray();u=n.length},function(){return u>0?this.Yield(n[--u]):!1},r.Blank)})},Shuffle:function(){var t=this;return new n(function(){var n;return new i(function(){n=t.ToArray()},function(){if(n.length>0){var t=Math.floor(Math.random()*n.length);return this.Yield(n.splice(t,1)[0])}return!1},r.Blank)})},GroupBy:function(r,u,f,e){var o=this;return r=t.CreateLambda(r),u=t.CreateLambda(u),f!=null&&(f=t.CreateLambda(f)),e=t.CreateLambda(e),new n(function(){var n;return new i(function(){n=o.ToLookup(r,u,e).ToEnumerable().GetEnumerator()},function(){while(n.MoveNext())return f==null?this.Yield(n.Current()):this.Yield(f(n.Current().Key(),n.Current()));return!1},function(){t.Dispose(n)})})},PartitionBy:function(r,u,f,e){var s=this,o;return r=t.CreateLambda(r),u=t.CreateLambda(u),e=t.CreateLambda(e),f==null?(o=!1,f=function(n,t){return new c(n,t)}):(o=!0,f=t.CreateLambda(f)),new n(function(){var h,l,a,c=[];return new i(function(){h=s.GetEnumerator();h.MoveNext()&&(l=r(h.Current()),a=e(l),c.push(u(h.Current())))},function(){for(var t,i;(t=h.MoveNext())==!0;)if(a===e(r(h.Current())))c.push(u(h.Current()));else break;return c.length>0?(i=o?f(l,n.From(c)):f(l,c),t?(l=r(h.Current()),a=e(l),c=[u(h.Current())]):c=[],this.Yield(i)):!1},function(){t.Dispose(h)})})},BufferWithCount:function(r){var u=this;return new n(function(){var n;return new i(function(){n=u.GetEnumerator()},function(){for(var t=[],i=0;n.MoveNext();)if(t.push(n.Current()),++i>=r)return this.Yield(t);return t.length>0?this.Yield(t):!1},function(){t.Dispose(n)})})},Aggregate:function(n,t,i){return this.Scan(n,t,i).Last()},Average:function(n){n=t.CreateLambda(n);var i=0,r=0;return this.ForEach(function(t){i+=n(t);++r}),i/r},Count:function(n){n=n==null?r.True:t.CreateLambda(n);var i=0;return this.ForEach(function(t,r){n(t,r)&&++i}),i},Max:function(n){return n==null&&(n=r.Identity),this.Select(n).Aggregate(function(n,t){return n>t?n:t})},Min:function(n){return n==null&&(n=r.Identity),this.Select(n).Aggregate(function(n,t){return n<t?n:t})},MaxBy:function(n){return n=t.CreateLambda(n),this.Aggregate(function(t,i){return n(t)>n(i)?t:i})},MinBy:function(n){return n=t.CreateLambda(n),this.Aggregate(function(t,i){return n(t)<n(i)?t:i})},Sum:function(n){return n==null&&(n=r.Identity),this.Select(n).Aggregate(0,function(n,t){return n+t})},ElementAt:function(n){var t,i=!1;if(this.ForEach(function(r,u){if(u==n)return t=r,i=!0,!1}),!i)throw new Error("index is less than 0 or greater than or equal to the number of elements in source.");return t},ElementAtOrDefault:function(n,t){var i,r=!1;return this.ForEach(function(t,u){if(u==n)return i=t,r=!0,!1}),r?i:t},First:function(n){if(n!=null)return this.Where(n).First();var t,i=!1;if(this.ForEach(function(n){return t=n,i=!0,!1}),!i)throw new Error("First:No element satisfies the condition.");return t},FirstOrDefault:function(n,t){if(t!=null)return this.Where(t).FirstOrDefault(n);var i,r=!1;return this.ForEach(function(n){return i=n,r=!0,!1}),r?i:n},Last:function(n){if(n!=null)return this.Where(n).Last();var t,i=!1;if(this.ForEach(function(n){i=!0;t=n}),!i)throw new Error("Last:No element satisfies the condition.");return t},LastOrDefault:function(n,t){if(t!=null)return this.Where(t).LastOrDefault(n);var i,r=!1;return this.ForEach(function(n){r=!0;i=n}),r?i:n},Single:function(n){if(n!=null)return this.Where(n).Single();var i,t=!1;if(this.ForEach(function(n){if(t)throw new Error("Single:sequence contains more than one element.");else t=!0,i=n}),!t)throw new Error("Single:No element satisfies the condition.");return i},SingleOrDefault:function(n,t){if(t!=null)return this.Where(t).SingleOrDefault(n);var r,i=!1;return this.ForEach(function(n){if(i)throw new Error("Single:sequence contains more than one element.");else i=!0,r=n}),i?r:n},Skip:function(r){var u=this;return new n(function(){var n,f=0;return new i(function(){for(n=u.GetEnumerator();f++<r&&n.MoveNext(););},function(){return n.MoveNext()?this.Yield(n.Current()):!1},function(){t.Dispose(n)})})},SkipWhile:function(r){r=t.CreateLambda(r);var u=this;return new n(function(){var n,e=0,f=!1;return new i(function(){n=u.GetEnumerator()},function(){while(!f)if(n.MoveNext()){if(!r(n.Current(),e++))return f=!0,this.Yield(n.Current());continue}else return!1;return n.MoveNext()?this.Yield(n.Current()):!1},function(){t.Dispose(n)})})},Take:function(r){var u=this;return new n(function(){var n,f=0;return new i(function(){n=u.GetEnumerator()},function(){return f++<r&&n.MoveNext()?this.Yield(n.Current()):!1},function(){t.Dispose(n)})})},TakeWhile:function(r){r=t.CreateLambda(r);var u=this;return new n(function(){var n,f=0;return new i(function(){n=u.GetEnumerator()},function(){return n.MoveNext()&&r(n.Current(),f++)?this.Yield(n.Current()):!1},function(){t.Dispose(n)})})},TakeExceptLast:function(r){r==null&&(r=1);var u=this;return new n(function(){if(r<=0)return u.GetEnumerator();var n,f=[];return new i(function(){n=u.GetEnumerator()},function(){while(n.MoveNext()){if(f.length==r)return f.push(n.Current()),this.Yield(f.shift());f.push(n.Current())}return!1},function(){t.Dispose(n)})})},TakeFromLast:function(r){if(r<=0||r==null)return n.Empty();var u=this;return new n(function(){var o,f,e=[];return new i(function(){o=u.GetEnumerator()},function(){while(o.MoveNext())e.length==r&&e.shift(),e.push(o.Current());return f==null&&(f=n.From(e).GetEnumerator()),f.MoveNext()?this.Yield(f.Current()):!1},function(){t.Dispose(f)})})},IndexOf:function(n){var t=null;return this.ForEach(function(i,r){if(i===n)return t=r,!0}),t!==null?t:-1},LastIndexOf:function(n){var t=-1;return this.ForEach(function(i,r){i===n&&(t=r)}),t},ToArray:function(){var n=[];return this.ForEach(function(t){n.push(t)}),n},ToLookup:function(n,i,r){n=t.CreateLambda(n);i=t.CreateLambda(i);r=t.CreateLambda(r);var u=new h(r);return this.ForEach(function(t){var r=n(t),f=i(t),e=u.Get(r);e!==undefined?e.push(f):u.Add(r,[f])}),new a(u)},ToObject:function(n,i){n=t.CreateLambda(n);i=t.CreateLambda(i);var r={};return this.ForEach(function(t){r[n(t)]=i(t)}),r},ToDictionary:function(n,i,r){n=t.CreateLambda(n);i=t.CreateLambda(i);r=t.CreateLambda(r);var u=new h(r);return this.ForEach(function(t){u.Add(n(t),i(t))}),u},ToJSON:function(n,t){return JSON.stringify(this.ToArray(),n,t)},ToString:function(n,t){return n==null&&(n=""),t==null&&(t=r.Identity),this.Select(t).ToArray().join(n)},Do:function(r){var u=this;return r=t.CreateLambda(r),new n(function(){var n,f=0;return new i(function(){n=u.GetEnumerator()},function(){return n.MoveNext()?(r(n.Current(),f++),this.Yield(n.Current())):!1},function(){t.Dispose(n)})})},ForEach:function(n){n=t.CreateLambda(n);var r=0,i=this.GetEnumerator();try{while(i.MoveNext())if(n(i.Current(),r++)===!1)break}finally{t.Dispose(i)}},Write:function(n,i){n==null&&(n="");i=t.CreateLambda(i);var r=!0;this.ForEach(function(t){r?r=!1:document.write(n);document.write(i(t))})},WriteLine:function(n){n=t.CreateLambda(n);this.ForEach(function(t){document.write(n(t));document.write("<br />")})},Force:function(){var n=this.GetEnumerator();try{while(n.MoveNext());}finally{t.Dispose(n)}},Let:function(r){r=t.CreateLambda(r);var u=this;return new n(function(){var f;return new i(function(){f=n.From(r(u)).GetEnumerator()},function(){return f.MoveNext()?this.Yield(f.Current()):!1},function(){t.Dispose(f)})})},Share:function(){var u=this,t;return new n(function(){return new i(function(){t==null&&(t=u.GetEnumerator())},function(){return t.MoveNext()?this.Yield(t.Current()):!1},r.Blank)})},MemoizeAll:function(){var f=this,t,u;return new n(function(){var n=-1;return new i(function(){u==null&&(u=f.GetEnumerator(),t=[])},function(){return(n++,t.length<=n)?u.MoveNext()?this.Yield(t[n]=u.Current()):!1:this.Yield(t[n])},r.Blank)})},Catch:function(r){r=t.CreateLambda(r);var u=this;return new n(function(){var n;return new i(function(){n=u.GetEnumerator()},function(){try{return n.MoveNext()?this.Yield(n.Current()):!1}catch(t){return r(t),!1}},function(){t.Dispose(n)})})},Finally:function(r){r=t.CreateLambda(r);var u=this;return new n(function(){var n;return new i(function(){n=u.GetEnumerator()},function(){return n.MoveNext()?this.Yield(n.Current()):!1},function(){try{t.Dispose(n)}finally{r()}})})},Trace:function(n,i){return n==null&&(n="Trace"),i=t.CreateLambda(i),this.Do(function(t){console.log(n,":",i(t))})}};var r={Identity:function(n){return n},True:function(){return!0},Blank:function(){}},f={Boolean:"boolean",Number:"number",String:"string",Object:"object",Undefined:typeof undefined,Function:typeof function(){}},t={CreateLambda:function(n){if(n==null)return r.Identity;if(typeof n==f.String){if(n=="")return r.Identity;if(n.indexOf("=>")==-1)return new Function("$,$$,$$$,$$$$","return "+n);var t=n.match(/^[(\s]*([^()]*?)[)\s]*=>(.*)/);return new Function(t[1],"return "+t[2])}return n},IsIEnumerable:function(n){if(typeof Enumerator!=f.Undefined)try{return new Enumerator(n),!0}catch(t){}return!1},Compare:function(n,t){return n===t?0:n>t?1:-1},Dispose:function(n){n!=null&&n.Dispose()}},o={Before:0,Running:1,After:2},i=function(n,t,i){var u=new l,r=o.Before;this.Current=u.Current;this.MoveNext=function(){try{switch(r){case o.Before:r=o.Running;n();case o.Running:return t.apply(u)?!0:(this.Dispose(),!1);case o.After:return!1}}catch(i){this.Dispose();throw i;}};this.Dispose=function(){if(r==o.Running)try{i()}finally{r=o.After}}},l=function(){var n=null;this.Current=function(){return n};this.Yield=function(t){return n=t,!0}},e=function(n,i,r,u){this.source=n;this.keySelector=t.CreateLambda(i);this.descending=r;this.parent=u};e.prototype=new n;e.prototype.CreateOrderedEnumerable=function(n,t){return new e(this.source,n,t,this)};e.prototype.ThenBy=function(n){return this.CreateOrderedEnumerable(n,!1)};e.prototype.ThenByDescending=function(n){return this.CreateOrderedEnumerable(n,!0)};e.prototype.GetEnumerator=function(){var u=this,t,n,f=0;return new i(function(){t=[];n=[];u.source.ForEach(function(i,r){t.push(i);n.push(r)});var i=s.Create(u,null);i.GenerateKeys(t);n.sort(function(n,t){return i.Compare(n,t)})},function(){return f<n.length?this.Yield(t[n[f++]]):!1},r.Blank)};s=function(n,t,i){this.keySelector=n;this.descending=t;this.child=i;this.keys=null};s.Create=function(n,t){var i=new s(n.keySelector,n.descending,t);return n.parent!=null?s.Create(n.parent,i):i};s.prototype.GenerateKeys=function(n){for(var i=n.length,u=this.keySelector,r=new Array(i),t=0;t<i;t++)r[t]=u(n[t]);this.keys=r;this.child!=null&&this.child.GenerateKeys(n)};s.prototype.Compare=function(n,i){var r=t.Compare(this.keys[n],this.keys[i]);if(r==0){if(this.child!=null)return this.child.Compare(n,i);r=t.Compare(n,i)}return this.descending?-r:r};u=function(n){this.source=n};u.prototype=new n;u.prototype.Any=function(t){return t==null?this.source.length>0:n.prototype.Any.apply(this,arguments)};u.prototype.Count=function(t){return t==null?this.source.length:n.prototype.Count.apply(this,arguments)};u.prototype.ElementAt=function(t){return 0<=t&&t<this.source.length?this.source[t]:n.prototype.ElementAt.apply(this,arguments)};u.prototype.ElementAtOrDefault=function(n,t){return 0<=n&&n<this.source.length?this.source[n]:t};u.prototype.First=function(t){return t==null&&this.source.length>0?this.source[0]:n.prototype.First.apply(this,arguments)};u.prototype.FirstOrDefault=function(t,i){return i!=null?n.prototype.FirstOrDefault.apply(this,arguments):this.source.length>0?this.source[0]:t};u.prototype.Last=function(t){return t==null&&this.source.length>0?this.source[this.source.length-1]:n.prototype.Last.apply(this,arguments)};u.prototype.LastOrDefault=function(t,i){return i!=null?n.prototype.LastOrDefault.apply(this,arguments):this.source.length>0?this.source[this.source.length-1]:t};u.prototype.Skip=function(t){var u=this.source;return new n(function(){var n;return new i(function(){n=t<0?0:t},function(){return n<u.length?this.Yield(u[n++]):!1},r.Blank)})};u.prototype.TakeExceptLast=function(n){return n==null&&(n=1),this.Take(this.source.length-n)};u.prototype.TakeFromLast=function(n){return this.Skip(this.source.length-n)};u.prototype.Reverse=function(){var t=this.source;return new n(function(){var n;return new i(function(){n=t.length},function(){return n>0?this.Yield(t[--n]):!1},r.Blank)})};u.prototype.SequenceEqual=function(t,i){return(t instanceof u||t instanceof Array)&&i==null&&n.From(t).Count()!=this.Count()?!1:n.prototype.SequenceEqual.apply(this,arguments)};u.prototype.ToString=function(t,i){return i!=null||!(this.source instanceof Array)?n.prototype.ToString.apply(this,arguments):(t==null&&(t=""),this.source.join(t))};u.prototype.GetEnumerator=function(){var n=this.source,t=0;return new i(r.Blank,function(){return t<n.length?this.Yield(n[t++]):!1},r.Blank)};var h=function(){var t=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},u=function(n){return n===null?"null":n===undefined?"undefined":typeof n.toString===f.Function?n.toString():Object.prototype.toString.call(n)},s=function(n,t){this.Key=n;this.Value=t;this.Prev=null;this.Next=null},e=function(){this.First=null;this.Last=null},o;return e.prototype={AddLast:function(n){this.Last!=null?(this.Last.Next=n,n.Prev=this.Last,this.Last=n):this.First=this.Last=n},Replace:function(n,t){n.Prev!=null?(n.Prev.Next=t,t.Prev=n.Prev):this.First=t;n.Next!=null?(n.Next.Prev=t,t.Next=n.Next):this.Last=t},Remove:function(n){n.Prev!=null?n.Prev.Next=n.Next:this.First=n.Next;n.Next!=null?n.Next.Prev=n.Prev:this.Last=n.Prev}},o=function(n){this.count=0;this.entryList=new e;this.buckets={};this.compareSelector=n==null?r.Identity:n},o.prototype={Add:function(n,i){var h=this.compareSelector(n),o=u(h),e=new s(n,i),r,f;if(t(this.buckets,o)){for(r=this.buckets[o],f=0;f<r.length;f++)if(this.compareSelector(r[f].Key)===h){this.entryList.Replace(r[f],e);r[f]=e;return}r.push(e)}else this.buckets[o]=[e];this.count++;this.entryList.AddLast(e)},Get:function(n){var e=this.compareSelector(n),o=u(e),r,i,f;if(!t(this.buckets,o))return undefined;for(r=this.buckets[o],i=0;i<r.length;i++)if(f=r[i],this.compareSelector(f.Key)===e)return f.Value;return undefined},Set:function(n,i){var o=this.compareSelector(n),h=u(o),f,r,e;if(t(this.buckets,h))for(f=this.buckets[h],r=0;r<f.length;r++)if(this.compareSelector(f[r].Key)===o)return e=new s(n,i),this.entryList.Replace(f[r],e),f[r]=e,!0;return!1},Contains:function(n){var f=this.compareSelector(n),e=u(f),r,i;if(!t(this.buckets,e))return!1;for(r=this.buckets[e],i=0;i<r.length;i++)if(this.compareSelector(r[i].Key)===f)return!0;return!1},Clear:function(){this.count=0;this.buckets={};this.entryList=new e},Remove:function(n){var e=this.compareSelector(n),f=u(e),i,r;if(t(this.buckets,f))for(i=this.buckets[f],r=0;r<i.length;r++)if(this.compareSelector(i[r].Key)===e){this.entryList.Remove(i[r]);i.splice(r,1);i.length==0&&delete this.buckets[f];this.count--;return}},Count:function(){return this.count},ToEnumerable:function(){var t=this;return new n(function(){var n;return new i(function(){n=t.entryList.First},function(){if(n!=null){var t={Key:n.Key,Value:n.Value};return n=n.Next,this.Yield(t)}return!1},r.Blank)})}},o}(),a=function(t){this.Count=function(){return t.Count()};this.Get=function(i){return n.From(t.Get(i))};this.Contains=function(n){return t.Contains(n)};this.ToEnumerable=function(){return t.ToEnumerable().Select(function(n){return new c(n.Key,n.Value)})}},c=function(n,t){this.Key=function(){return n};u.call(this,t)};return c.prototype=new u,n}();bb={success:0,error:0,blackberryTimeoutId:-1};geoPosition=function(){var n={},t=null,i="undefined",u="http://freegeoip.net/json/?callback=JSONPCallback";return n.getCurrentPosition=function(n,i,r){t.getCurrentPosition(n,i,r)},n.jsonp={callbackCounter:0,fetch:function(n,t){var r="JSONPCallback_"+this.callbackCounter++,i;window[r]=this.evalJSONP(t);n=n.replace("=JSONPCallback","="+r);i=document.createElement("SCRIPT");i.src=n;document.getElementsByTagName("HEAD")[0].appendChild(i)},evalJSONP:function(n){return function(t){n(t)}}},n.confirmation=function(){return confirm("This Webpage wants to track your physical location.\nDo you allow it?")},n.init=function(){try{var f=typeof navigator.geolocation!=i;if(!f&&!n.confirmation())return!1;if(typeof geoPositionSimulator!=i&&geoPositionSimulator.length>0)t=geoPositionSimulator;else if(typeof bondi!=i&&typeof bondi.geolocation!=i)t=bondi.geolocation;else if(f)t=navigator.geolocation,n.getCurrentPosition=function(n,r,u){function f(t){var r;r=typeof t.latitude!=i?{timestamp:t.timestamp,coords:{latitude:t.latitude,longitude:t.longitude}}:t;n(r)}t.getCurrentPosition(f,r,u)};else if(typeof blackberry!=i&&blackberry.location.GPSSupported){if(x,typeof blackberry.location.setAidMode==i)return!1;blackberry.location.setAidMode(2);n.getCurrentPosition=function(n,t,i){bb.success=n;bb.error=t;bb.blackberryTimeoutId=i.timeout?setTimeout("handleBlackBerryLocationTimeout()",i.timeout):setTimeout("handleBlackBerryLocationTimeout()",6e4);blackberry.location.onLocationUpdate("handleBlackBerryLocation()");blackberry.location.refreshLocation()};t=blackberry.location}else typeof Mojo!=i&&typeof Mojo.Service.Request!="Mojo.Service.Request"?(t=!0,n.getCurrentPosition=function(n,t,i){parameters={};i&&(i.enableHighAccuracy&&i.enableHighAccuracy==!0&&(parameters.accuracy=1),i.maximumAge&&(parameters.maximumAge=i.maximumAge),i.responseTime&&(i.responseTime<5?parameters.responseTime=1:i.responseTime<20?parameters.responseTime=2:parameters.timeout=3));r=new Mojo.Service.Request("palm://com.palm.location",{method:"getCurrentPosition",parameters:parameters,onSuccess:function(t){n({timestamp:t.timestamp,coords:{latitude:t.latitude,longitude:t.longitude,heading:t.heading}})},onFailure:function(n){n.errorCode==1?t({code:3,message:"Timeout"}):n.errorCode==2?t({code:2,message:"Position unavailable"}):t({code:0,message:"Unknown Error: webOS-code"+errorCode})}})}):typeof device!=i&&typeof device.getServiceObject!=i?(t=device.getServiceObject("Service.Location","ILocation"),n.getCurrentPosition=function(n,i){function u(t,r,u){r==4?i({message:"Position unavailable",code:2}):n({timestamp:null,coords:{latitude:u.ReturnValue.Latitude,longitude:u.ReturnValue.Longitude,altitude:u.ReturnValue.Altitude,heading:u.ReturnValue.Heading}})}var r={};r.LocationInformationClass="BasicLocationInformation";t.ILocation.GetLocation(r,u)}):(n.getCurrentPosition=function(t){n.jsonp.fetch(u,function(n){t({timestamp:n.timestamp,coords:{latitude:n.latitude,longitude:n.longitude,heading:n.heading}})})},t=!0)}catch(e){return typeof console!=i&&console.log(e),!1}return t!=null},n}(),function(n,t){typeof define=="function"&&define.amd?define(["is"],function(i){return n.is=t(i)}):typeof exports=="object"?module.exports=t(require("is_js")):n.is=t(n.is)}(this,function(n){function u(n){return function(){return!n.apply(null,f.call(arguments))}}function y(t){return function(){var i=f.call(arguments),u=i.length,r;for(u===1&&n.array(i[0])&&(i=i[0],u=i.length),r=0;r<u;r++)if(!t.call(null,i[r]))return!1;return!0}}function p(t){return function(){var i=f.call(arguments),u=i.length,r;for(u===1&&n.array(i[0])&&(i=i[0],u=i.length),r=0;r<u;r++)if(t.call(null,i[r]))return!0;return!1}}function w(t,i){n[t]=function(n){return i[t].test(n)}}function b(){var f=n,t,r,i;for(t in f)if(e.call(f,t)&&n.function(f[t]))for(r=f[t].api||["not","all","any"],i=0;i<r.length;i++)r[i]==="not"&&(n.not[t]=u(n[t])),r[i]==="all"&&(n.all[t]=y(n[t])),r[i]==="any"&&(n.any[t]=p(n[t]))}var h=this||global,v=h.is,r,o,c,l;n={};n.VERSION="0.7.4";n.not={};n.all={};n.any={};var i=Object.prototype.toString,f=Array.prototype.slice,e=Object.prototype.hasOwnProperty;n.arguments=function(t){return n.not.null(t)&&(i.call(t)==="[object Arguments]"||typeof t=="object"&&"callee"in t)};n.array=Array.isArray||function(n){return i.call(n)==="[object Array]"};n.boolean=function(n){return n===!0||n===!1||i.call(n)==="[object Boolean]"};n.date=function(n){return i.call(n)==="[object Date]"};n.error=function(n){return i.call(n)==="[object Error]"};n.function=function(n){return i.call(n)==="[object Function]"||typeof n=="function"};n.nan=function(n){return n!==n};n.null=function(n){return n===null};n.number=function(t){return n.not.nan(t)&&i.call(t)==="[object Number]"};n.object=function(n){var t=typeof n;return t==="function"||t==="object"&&!!n};n.json=function(n){return i.call(n)==="[object Object]"};n.regexp=function(n){return i.call(n)==="[object RegExp]"};n.sameType=function(t,r){return n.nan(t)||n.nan(r)?n.nan(t)===n.nan(r):i.call(t)===i.call(r)};n.sameType.api=["not"];n.string=function(n){return i.call(n)==="[object String]"};n.char=function(t){return n.string(t)&&t.length===1};n.undefined=function(n){return n===void 0};n.empty=function(t){if(n.object(t)){var i=Object.getOwnPropertyNames(t).length;return i===0||i===1&&n.array(t)||i===2&&n.arguments(t)?!0:!1}return t===""};n.existy=function(n){return n!==null&&n!==undefined};n.truthy=function(t){return n.existy(t)&&t!==!1&&n.not.nan(t)&&t!==""&&t!==0};n.falsy=u(n.truthy);n.space=function(t){if(n.char(t)){var i=t.charCodeAt(0);return i>8&&i<14||i===32}return!1};n.equal=function(t,i){return n.all.number(t,i)?t===i&&1/t==1/i:n.all.string(t,i)||n.all.regexp(t,i)?""+t==""+i:n.all.boolean(t,i)?t===i:!1};n.equal.api=["not"];n.even=function(t){return n.number(t)&&t%2==0};n.odd=function(t){return n.number(t)&&t%2!=0};n.positive=function(t){return n.number(t)&&t>0};n.negative=function(t){return n.number(t)&&t<0};n.above=function(t,i){return n.all.number(t,i)&&t>i};n.above.api=["not"];n.under=function(t,i){return n.all.number(t,i)&&t<i};n.under.api=["not"];n.within=function(t,i,r){return n.all.number(t,i,r)&&t>i&&t<r};n.within.api=["not"];n.decimal=function(t){return n.number(t)&&t%1!=0};n.integer=function(t){return n.number(t)&&t%1==0};n.finite=isFinite||function(t){return t!==Infinity&&t!==-Infinity&&n.not.nan(t)};n.infinite=u(n.finite);r={url:/^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/i,email:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,creditCard:/^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$/,alphaNumeric:/^[A-Za-z0-9]+$/,timeString:/^(2[0-3]|[01]?[0-9]):([0-5]?[0-9]):([0-5]?[0-9])$/,dateString:/^(1[0-2]|0?[1-9])\/(3[01]|[12][0-9]|0?[1-9])\/(?:[0-9]{2})?[0-9]{2}$/,usZipCode:/^[0-9]{5}(?:-[0-9]{4})?$/,caPostalCode:/^(?!.*[DFIOQU])[A-VXY][0-9][A-Z]\s?[0-9][A-Z][0-9]$/,ukPostCode:/^[A-Z]{1,2}[0-9RCHNQ][0-9A-Z]?\s?[0-9][ABD-HJLNP-UW-Z]{2}$|^[A-Z]{2}-?[0-9]{4}$/,nanpPhone:/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/,eppPhone:/^\+[0-9]{1,3}\.[0-9]{4,14}(?:x.+)?$/,socialSecurityNumber:/^(?!000|666)[0-8][0-9]{2}-(?!00)[0-9]{2}-(?!0000)[0-9]{4}$/,affirmative:/^(?:1|t(?:rue)?|y(?:es)?|ok(?:ay)?)$/,hexadecimal:/^[0-9a-fA-F]+$/,hexColor:/^#?([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/,ipv4:/^(?:(?:\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])\.){3}(?:\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])$/,ipv6:/^(([a-zA-Z]|[a-zA-Z][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z]|[A-Za-z][A-Za-z0-9\-]*[A-Za-z0-9])$|^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,ip:/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$|^(([a-zA-Z]|[a-zA-Z][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z]|[A-Za-z][A-Za-z0-9\-]*[A-Za-z0-9])$|^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/};for(o in r)r.hasOwnProperty(o)&&w(o,r);if(n.include=function(n,t){return n.indexOf(t)>-1},n.include.api=["not"],n.upperCase=function(t){return n.string(t)&&t===t.toUpperCase()},n.lowerCase=function(t){return n.string(t)&&t===t.toLowerCase()},n.startWith=function(t,i){return n.string(t)&&t.indexOf(i)===0},n.startWith.api=["not"],n.endWith=function(t,i){return n.string(t)&&t.indexOf(i)>-1&&t.indexOf(i)===t.length-i.length},n.endWith.api=["not"],n.capitalized=function(t){var r,u,i;if(n.not.string(t))return!1;for(r=t.split(" "),u=[],i=0;i<r.length;i++)u.push(r[i][0]===r[i][0].toUpperCase());return n.all.truthy.apply(null,u)},n.palindrome=function(t){return n.string(t)&&t==t.split("").reverse().join("")},c=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],l=["january","february","march","april","may","june","july","august","september","october","november","december"],n.today=function(t){var i=new Date,r=i.toDateString();return n.date(t)&&t.toDateString()===r},n.yesterday=function(t){var i=new Date,r=new Date(i.setDate(i.getDate()-1)).toDateString();return n.date(t)&&t.toDateString()===r},n.tomorrow=function(t){var i=new Date,r=new Date(i.setDate(i.getDate()+1)).toDateString();return n.date(t)&&t.toDateString()===r},n.past=function(t){var i=new Date;return n.date(t)&&t.getTime()<i.getTime()},n.future=u(n.past),n.day=function(t,i){return n.date(t)&&i.toLowerCase()===c[t.getDay()]},n.day.api=["not"],n.month=function(t,i){return n.date(t)&&i.toLowerCase()===l[t.getMonth()]},n.month.api=["not"],n.year=function(t,i){return n.date(t)&&n.number(i)&&i===t.getFullYear()},n.year.api=["not"],n.leapYear=function(t){return n.number(t)&&(t%4==0&&t%100!=0||t%400==0)},n.weekend=function(t){return n.date(t)&&(t.getDay()===6||t.getDay()===0)},n.weekday=u(n.weekend),n.inDateRange=function(t,i,r){if(n.not.date(t)||n.not.date(i)||n.not.date(r))return!1;var u=t.getTime(),f=i.getTime(),e=r.getTime();return u>f&&u<e},n.inDateRange.api=["not"],n.inLastWeek=function(t){return n.inDateRange(t,new Date((new Date).setDate((new Date).getDate()-7)),new Date)},n.inLastMonth=function(t){return n.inDateRange(t,new Date((new Date).setMonth((new Date).getMonth()-1)),new Date)},n.inLastYear=function(t){return n.inDateRange(t,new Date((new Date).setFullYear((new Date).getFullYear()-1)),new Date)},n.inNextWeek=function(t){return n.inDateRange(t,new Date,new Date((new Date).setDate((new Date).getDate()+7)))},n.inNextMonth=function(t){return n.inDateRange(t,new Date,new Date((new Date).setMonth((new Date).getMonth()+1)))},n.inNextYear=function(t){return n.inDateRange(t,new Date,new Date((new Date).setFullYear((new Date).getFullYear()+1)))},n.quarterOfYear=function(t,i){return n.date(t)&&n.number(i)&&i===Math.floor((t.getMonth()+3)/3)},n.quarterOfYear.api=["not"],n.dayLightSavingTime=function(n){var t=new Date(n.getFullYear(),0,1),i=new Date(n.getFullYear(),6,1),r=Math.max(t.getTimezoneOffset(),i.getTimezoneOffset());return n.getTimezoneOffset()<r},typeof window!="undefined"){var t="navigator"in window&&"userAgent"in navigator&&navigator.userAgent.toLowerCase()||"",a="navigator"in window&&"vendor"in navigator&&navigator.vendor.toLowerCase()||"",s="navigator"in window&&"appVersion"in navigator&&navigator.appVersion.toLowerCase()||"";n.chrome=function(){return/chrome|chromium/i.test(t)&&/google inc/.test(a)};n.chrome.api=["not"];n.firefox=function(){return/firefox/i.test(t)};n.firefox.api=["not"];n.ie=function(n){return n?n>=11?"ActiveXObject"in window:new RegExp("msie "+n).test(t):/msie/i.test(t)||"ActiveXObject"in window};n.ie.api=["not"];n.opera=function(){return/^Opera\//.test(t)||/\x20OPR\//.test(t)};n.opera.api=["not"];n.safari=function(){return/safari/i.test(t)&&/apple computer/i.test(a)};n.safari.api=["not"];n.ios=function(){return n.iphone()||n.ipad()||n.ipod()};n.ios.api=["not"];n.iphone=function(){return/iphone/i.test(t)};n.iphone.api=["not"];n.ipad=function(){return/ipad/i.test(t)};n.ipad.api=["not"];n.ipod=function(){return/ipod/i.test(t)};n.ipod.api=["not"];n.android=function(){return/android/i.test(t)};n.android.api=["not"];n.androidPhone=function(){return/android/i.test(t)&&/mobile/i.test(t)};n.androidPhone.api=["not"];n.androidTablet=function(){return/android/i.test(t)&&!/mobile/i.test(t)};n.androidTablet.api=["not"];n.blackberry=function(){return/blackberry/i.test(t)||/BB10/i.test(t)};n.blackberry.api=["not"];n.desktop=function(){return n.not.mobile()&&n.not.tablet()};n.desktop.api=["not"];n.linux=function(){return/linux/i.test(s)};n.linux.api=["not"];n.mac=function(){return/mac/i.test(s)};n.mac.api=["not"];n.windows=function(){return/win/i.test(s)};n.windows.api=["not"];n.windowsPhone=function(){return n.windows()&&/phone/i.test(t)};n.windowsPhone.api=["not"];n.windowsTablet=function(){return n.windows()&&n.not.windowsPhone()&&/touch/i.test(t)};n.windowsTablet.api=["not"];n.mobile=function(){return n.iphone()||n.ipod()||n.androidPhone()||n.blackberry()||n.windowsPhone()};n.mobile.api=["not"];n.tablet=function(){return n.ipad()||n.androidTablet()||n.windowsTablet()};n.tablet.api=["not"];n.online=function(){return navigator.onLine};n.online.api=["not"];n.offline=u(n.online);n.offline.api=["not"];n.touchDevice=function(){return"ontouchstart"in window||"DocumentTouch"in window&&document instanceof DocumentTouch};n.touchDevice.api=["not"]}return n.propertyCount=function(t,i){if(!n.object(t)||!n.number(i))return!1;if(Object.keys)return Object.keys(t).length===i;var r=[];for(var u in t)e.call(t,u)&&r.push(u);return r.length===i},n.propertyCount.api=["not"],n.propertyDefined=function(t,i){return n.object(t)&&n.string(i)&&i in t},n.propertyDefined.api=["not"],n.windowObject=function(n){return typeof n=="object"&&"setInterval"in n},n.domNode=function(t){return n.object(t)&&t.nodeType>0},n.inArray=function(t,i){if(n.not.array(i))return!1;for(var r=0;r<i.length;r++)if(i[r]===t)return!0;return!1},n.inArray.api=["not"],n.sorted=function(t){if(n.not.array(t))return!1;for(var i=0;i<t.length;i++)if(t[i]>t[i+1])return!1;return!0},b(),n.setRegexp=function(n,t){for(var i in r)e.call(r,i)&&t===i&&(r[i]=n)},n.setNamespace=function(){return h.is=v,this},n}),function(n,t,i){var r=window.matchMedia;typeof module!="undefined"&&module.exports?module.exports=i(r):typeof define=="function"&&define.amd?define(function(){return t[n]=i(r)}):t[n]=i(r)}("enquire",this,function(n){"use strict";function t(n,t){var i=0,u=n.length,r;for(i;i<u;i++)if(r=t(n[i],i),r===!1)break}function f(n){return Object.prototype.toString.apply(n)==="[object Array]"}function e(n){return typeof n=="function"}function i(n){this.options=n;n.deferSetup||this.setup()}function r(t,i){this.query=t;this.isUnconditional=i;this.handlers=[];this.mql=n(t);var r=this;this.listener=function(n){r.mql=n;r.assess()};this.mql.addListener(this.listener)}function u(){if(!n)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={};this.browserIsIncapable=!n("only all").matches}return i.prototype={setup:function(){this.options.setup&&this.options.setup();this.initialised=!0},on:function(){this.initialised||this.setup();this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(n){return this.options===n||this.options.match===n}},r.prototype={addHandler:function(n){var t=new i(n);this.handlers.push(t);this.matches()&&t.on()},removeHandler:function(n){var i=this.handlers;t(i,function(t,r){if(t.equals(n))return t.destroy(),!i.splice(r,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){t(this.handlers,function(n){n.destroy()});this.mql.removeListener(this.listener);this.handlers.length=0},assess:function(){var n=this.matches()?"on":"off";t(this.handlers,function(t){t[n]()})}},u.prototype={register:function(n,i,u){var o=this.queries,s=u&&this.browserIsIncapable;return o[n]||(o[n]=new r(n,s)),e(i)&&(i={match:i}),f(i)||(i=[i]),t(i,function(t){o[n].addHandler(t)}),this},unregister:function(n,t){var i=this.queries[n];return i&&(t?i.removeHandler(t):(i.clear(),delete this.queries[n])),this}},new u});typeof jQuery=="undefined"&&(jQuery=typeof require=="function"?$=require("jquery"):$);jQuery.Velocity?console.log("Velocity is already loaded. You may be needlessly importing Velocity again; note that Materialize includes Velocity."):(!function(n){function o(n){var i=n.length,r=t.type(n);return"function"===r||t.isWindow(n)?!1:1===n.nodeType&&i?!0:"array"===r||0===i||"number"==typeof i&&i>0&&i-1 in n}var t,i;if(!n.jQuery){t=function(n,i){return new t.fn.init(n,i)};t.isWindow=function(n){return null!=n&&n==n.window};t.type=function(n){return null==n?n+"":"object"==typeof n||"function"==typeof n?r[s.call(n)]||"object":typeof n};t.isArray=Array.isArray||function(n){return"array"===t.type(n)};t.isPlainObject=function(n){var i;if(!n||"object"!==t.type(n)||n.nodeType||t.isWindow(n))return!1;try{if(n.constructor&&!f.call(n,"constructor")&&!f.call(n.constructor.prototype,"isPrototypeOf"))return!1}catch(r){return!1}for(i in n);return void 0===i||f.call(n,i)};t.each=function(n,t,i){var u,r=0,f=n.length,e=o(n);if(i){if(e)for(;f>r&&(u=t.apply(n[r],i),u!==!1);r++);else for(r in n)if(u=t.apply(n[r],i),u===!1)break}else if(e)for(;f>r&&(u=t.call(n[r],r,n[r]),u!==!1);r++);else for(r in n)if(u=t.call(n[r],r,n[r]),u===!1)break;return n};t.data=function(n,r,u){var e,f;if(void 0===u){if(f=n[t.expando],e=f&&i[f],void 0===r)return e;if(e&&r in e)return e[r]}else if(void 0!==r)return f=n[t.expando]||(n[t.expando]=++t.uuid),i[f]=i[f]||{},i[f][r]=u,u};t.removeData=function(n,r){var u=n[t.expando],f=u&&i[u];f&&t.each(r,function(n,t){delete f[t]})};t.extend=function(){var r,e,i,f,o,s,n=arguments[0]||{},u=1,c=arguments.length,h=!1;for("boolean"==typeof n&&(h=n,n=arguments[u]||{},u++),"object"!=typeof n&&"function"!==t.type(n)&&(n={}),u===c&&(n=this,u--);c>u;u++)if(null!=(o=arguments[u]))for(f in o)r=n[f],i=o[f],n!==i&&(h&&i&&(t.isPlainObject(i)||(e=t.isArray(i)))?(e?(e=!1,s=r&&t.isArray(r)?r:[]):s=r&&t.isPlainObject(r)?r:{},n[f]=t.extend(h,s,i)):void 0!==i&&(n[f]=i));return n};t.queue=function(n,i,r){function f(n,t){var i=t||[];return null!=n&&(o(Object(n))?!function(n,t){for(var r=+t.length,i=0,u=n.length;r>i;)n[u++]=t[i++];if(r!==r)for(;void 0!==t[i];)n[u++]=t[i++];return n.length=u,n}(i,"string"==typeof n?[n]:n):[].push.call(i,n)),i}if(n){i=(i||"fx")+"queue";var u=t.data(n,i);return r?(!u||t.isArray(r)?u=t.data(n,i,f(r)):u.push(r),u):u||[]}};t.dequeue=function(n,i){t.each(n.nodeType?[n]:n,function(n,r){i=i||"fx";var f=t.queue(r,i),u=f.shift();"inprogress"===u&&(u=f.shift());u&&("fx"===i&&f.unshift("inprogress"),u.call(r,function(){t.dequeue(r,i)}))})};t.fn=t.prototype={init:function(n){if(n.nodeType)return this[0]=n,this;throw new Error("Not a DOM node.");},offset:function(){var t=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:t.top+(n.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:t.left+(n.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){function n(){for(var n=this.offsetParent||document;n&&!1&&"static"===n.style.position;)n=n.offsetParent;return n||document}var u=this[0],n=n.apply(u),i=this.offset(),r=/^(?:body|html)$/i.test(n.nodeName)?{top:0,left:0}:t(n).offset();return i.top-=parseFloat(u.style.marginTop)||0,i.left-=parseFloat(u.style.marginLeft)||0,n.style&&(r.top+=parseFloat(n.style.borderTopWidth)||0,r.left+=parseFloat(n.style.borderLeftWidth)||0),{top:i.top-r.top,left:i.left-r.left}}};i={};t.expando="velocity"+(new Date).getTime();t.uuid=0;for(var r={},f=r.hasOwnProperty,s=r.toString,e="Boolean Number String Function Array Date RegExp Object Error".split(" "),u=0;u<e.length;u++)r["[object "+e[u]+"]"]=e[u].toLowerCase();t.fn.init.prototype=t.fn;n.Velocity={Utilities:t}}}(window),function(n){"object"==typeof module&&"object"==typeof module.exports?module.exports=n():"function"==typeof define&&define.amd?define(n):n()}(function(){return function(n,t,i,r){function tt(n){for(var t,i=-1,u=n?n.length:0,r=[];++i<u;)t=n[i],t&&r.push(t);return r}function y(n){return s.isWrapped(n)?n=[].slice.call(n):s.isNode(n)&&(n=[n]),n}function e(n){var t=o.data(n,"velocity");return null===t?r:t}function it(n){return function(t){return Math.round(t*n)*(1/n)}}function p(n,i,r,u){function l(n,t){return 1-3*t+3*n}function a(n,t){return 3*t-6*n}function v(n){return 3*n}function s(n,t,i){return((l(t,i)*n+a(t,i))*n+v(t))*n}function y(n,t,i){return 3*l(t,i)*n*n+2*a(t,i)*n+v(t)}function b(t,i){for(var f,e,u=0;tt>u;++u){if(f=y(i,n,r),0===f)return i;e=s(i,n,r)-t;i-=e/f}return i}function k(){for(var t=0;e>t;++t)o[t]=s(t*h,n,r)}function d(t,i,u){var e,f,o=0;do f=i+(u-i)/2,e=s(f,n,r)-t,e>0?u=f:i=f;while(Math.abs(e)>rt&&++o<ut);return f}function g(t){for(var u=0,i=1,c=e-1;i!=c&&o[i]<=t;++i)u+=h;--i;var l=(t-o[i])/(o[i+1]-o[i]),f=u+l*h,s=y(f,n,r);return s>=it?b(t,f):0==s?f:d(t,u,u+h)}function nt(){p=!0;(n!=i||r!=u)&&k()}var tt=4,it=.001,rt=1e-7,ut=10,e=11,h=1/(e-1),ft="Float32Array"in t,f,w;if(4!==arguments.length)return!1;for(f=0;4>f;++f)if("number"!=typeof arguments[f]||isNaN(arguments[f])||!isFinite(arguments[f]))return!1;n=Math.min(n,1);r=Math.min(r,1);n=Math.max(n,0);r=Math.max(r,0);var o=ft?new Float32Array(e):new Array(e),p=!1,c=function(t){return p||nt(),n===i&&r===u?t:0===t?0:1===t?1:s(g(t),i,u)};return c.getControlPoints=function(){return[{x:n,y:i},{x:r,y:u}]},w="generateBezier("+[n,i,r,u]+")",c.toString=function(){return w},c}function w(n,t){var i=n;return s.isString(n)?f.Easings[n]||(i=!1):i=s.isArray(n)&&1===n.length?it.apply(null,n):s.isArray(n)&&2===n.length?nt.apply(null,n.concat([t])):s.isArray(n)&&4===n.length?p.apply(null,n):!1,i===!1&&(i=f.Easings[f.defaults.easing]?f.defaults.easing:g),i}function a(n){var d,ut,c,nt,h,it,ct,v,p,i,lt,et,k,ot,rt;if(n)for(d=(new Date).getTime(),ut=f.State.calls.length,ut>1e4&&(f.State.calls=tt(f.State.calls)),c=0;ut>c;c++)if(f.State.calls[c]){var w=f.State.calls[c],st=w[0],t=w[2],y=w[3],at=!!y,ht=null;y||(y=f.State.calls[c][3]=d-16);for(var g=Math.min((d-y)/t.duration,1),ft=0,vt=st.length;vt>ft;ft++)if(nt=st[ft],h=nt.element,e(h)){it=!1;t.display!==r&&null!==t.display&&"none"!==t.display&&("flex"===t.display&&(ct=["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"],o.each(ct,function(n,t){u.setPropertyValue(h,"display",t)})),u.setPropertyValue(h,"display",t.display));t.visibility!==r&&"hidden"!==t.visibility&&u.setPropertyValue(h,"visibility",t.visibility);for(v in nt)if("element"!==v){if(i=nt[v],lt=s.isString(i.easing)?f.Easings[i.easing]:i.easing,1===g)p=i.endValue;else if(et=i.endValue-i.startValue,p=i.startValue+et*lt(g,t,et),!at&&p===i.currentValue)continue;(i.currentValue=p,"tween"===v)?ht=p:(u.Hooks.registered[v]&&(k=u.Hooks.getRoot(v),ot=e(h).rootPropertyValueCache[k],ot&&(i.rootPropertyValue=ot)),rt=u.setPropertyValue(h,v,i.currentValue+(0===parseFloat(p)?"":i.unitType),i.rootPropertyValue,i.scrollData),u.Hooks.registered[v]&&(e(h).rootPropertyValueCache[k]=u.Normalizations.registered[k]?u.Normalizations.registered[k]("extract",null,rt[1]):rt[1]),"transform"===rt[0]&&(it=!0))}t.mobileHA&&e(h).transformCache.translate3d===r&&(e(h).transformCache.translate3d="(0px, 0px, 0px)",it=!0);it&&u.flushTransformCache(h)}t.display!==r&&"none"!==t.display&&(f.State.calls[c][2].display=!1);t.visibility!==r&&"hidden"!==t.visibility&&(f.State.calls[c][2].visibility=!1);t.progress&&t.progress.call(w[1],w[1],g,Math.max(0,y+t.duration-d),y,ht);1===g&&b(c)}f.State.isTicking&&l(a)}function b(n,t){var i,c,l,b;if(!f.State.calls[n])return!1;for(var v=f.State.calls[n][0],a=f.State.calls[n][1],s=f.State.calls[n][2],y=f.State.calls[n][4],p=!1,h=0,w=v.length;w>h;h++){if(i=v[h].element,(t||s.loop||("none"===s.display&&u.setPropertyValue(i,"display",s.display),"hidden"===s.visibility&&u.setPropertyValue(i,"visibility",s.visibility)),s.loop!==!0&&(o.queue(i)[1]===r||!/\.velocityQueueEntryFlag/i.test(o.queue(i)[1]))&&e(i))&&(e(i).isAnimating=!1,e(i).rootPropertyValueCache={},c=!1,o.each(u.Lists.transforms3D,function(n,t){var u=/^scale/.test(t)?1:0,f=e(i).transformCache[t];e(i).transformCache[t]!==r&&new RegExp("^\\("+u+"[^.]").test(f)&&(c=!0,delete e(i).transformCache[t])}),s.mobileHA&&(c=!0,delete e(i).transformCache.translate3d),c&&u.flushTransformCache(i),u.Values.removeClass(i,"velocity-animating")),!t&&s.complete&&!s.loop&&h===w-1)try{s.complete.call(a,a)}catch(k){setTimeout(function(){throw k;},1)}y&&s.loop!==!0&&y(a);e(i)&&s.loop===!0&&!t&&(o.each(e(i).tweensContainer,function(n,t){/^rotate/.test(n)&&360===parseFloat(t.endValue)&&(t.endValue=0,t.startValue=360);/^backgroundPosition/.test(n)&&100===parseFloat(t.endValue)&&"%"===t.unitType&&(t.endValue=0,t.startValue=100)}),f(i,"reverse",{loop:!0,delay:s.delay}));s.queue!==!1&&o.dequeue(i,s.queue)}for(f.State.calls[n]=!1,l=0,b=f.State.calls.length;b>l;l++)if(f.State.calls[l]!==!1){p=!0;break}p===!1&&(f.State.isTicking=!1,delete f.State.calls,f.State.calls=[])}var o,h=function(){var n,t;if(i.documentMode)return i.documentMode;for(n=7;n>4;n--)if(t=i.createElement("div"),t.innerHTML="<!--[if IE "+n+"]><span><\/span><![endif]-->",t.getElementsByTagName("span").length)return t=null,n;return r}(),k=function(){var n=0;return t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||function(t){var i,r=(new Date).getTime();return i=Math.max(0,16-(r-n)),n=r+i,setTimeout(function(){t(r+i)},i)}}(),s={isString:function(n){return"string"==typeof n},isArray:Array.isArray||function(n){return"[object Array]"===Object.prototype.toString.call(n)},isFunction:function(n){return"[object Function]"===Object.prototype.toString.call(n)},isNode:function(n){return n&&n.nodeType},isNodeList:function(n){return"object"==typeof n&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(n))&&n.length!==r&&(0===n.length||"object"==typeof n[0]&&n[0].nodeType>0)},isWrapped:function(n){return n&&(n.jquery||t.Zepto&&t.Zepto.zepto.isZ(n))},isSVG:function(n){return t.SVGElement&&n instanceof t.SVGElement},isEmptyObject:function(n){for(var t in n)return!1;return!0}},d=!1,nt,u,c,l;if(n.fn&&n.fn.jquery?(o=n,d=!0):o=t.Velocity.Utilities,8>=h&&!d)throw new Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(7>=h)return void(jQuery.fn.velocity=jQuery.fn.animate);var v=400,g="swing",f={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:t.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:i.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[]},CSS:{},Utilities:o,Redirects:{},Easings:{},Promise:t.Promise,defaults:{queue:"",duration:v,easing:g,begin:r,complete:r,progress:r,display:r,visibility:r,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0},init:function(n){o.data(n,"velocity",{isSVG:s.isSVG(n),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:2,patch:2},debug:!1};return t.pageYOffset!==r?(f.State.scrollAnchor=t,f.State.scrollPropertyLeft="pageXOffset",f.State.scrollPropertyTop="pageYOffset"):(f.State.scrollAnchor=i.documentElement||i.body.parentNode||i.body,f.State.scrollPropertyLeft="scrollLeft",f.State.scrollPropertyTop="scrollTop"),nt=function(){function t(n){return-n.tension*n.x-n.friction*n.v}function n(n,i,r){var u={x:n.x+r.dx*i,v:n.v+r.dv*i,tension:n.tension,friction:n.friction};return{dx:u.v,dv:t(u)}}function i(i,r){var u={dx:i.v,dv:t(i)},f=n(i,.5*r,u),e=n(i,.5*r,f),o=n(i,r,e),s=1/6*(u.dx+2*(f.dx+e.dx)+o.dx),h=1/6*(u.dv+2*(f.dv+e.dv)+o.dv);return i.x=i.x+s*r,i.v=i.v+h*r,i}return function r(n,t,u){var o,s,f,h={x:-1,v:0,tension:null,friction:null},c=[0],e=0,l=.0001,a=.016;for(n=parseFloat(n)||500,t=parseFloat(t)||20,u=u||null,h.tension=n,h.friction=t,o=null!==u,o?(e=r(n,t),s=e/u*a):s=a;f=i(f||h,s),c.push(1+f.x),e+=16,Math.abs(f.x)>l&&Math.abs(f.v)>l;);return o?function(n){return c[n*(c.length-1)|0]}:e}}(),f.Easings={linear:function(n){return n},swing:function(n){return.5-Math.cos(n*Math.PI)/2},spring:function(n){return 1-Math.cos(4.5*n*Math.PI)*Math.exp(6*-n)}},o.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],function(n,t){f.Easings[t[0]]=p.apply(null,t[1])}),u=f.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"]},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var e,i,r,t,f,o,s,n=0;n<u.Lists.colors.length;n++)e="color"===u.Lists.colors[n]?"0 0 0 1":"255 255 255 1",u.Hooks.templates[u.Lists.colors[n]]=["Red Green Blue Alpha",e];if(h)for(i in u.Hooks.templates)r=u.Hooks.templates[i],t=r[0].split(" "),f=r[1].match(u.RegEx.valueSplit),"Color"===t[0]&&(t.push(t.shift()),f.push(f.shift()),u.Hooks.templates[i]=[t.join(" "),f.join(" ")]);for(i in u.Hooks.templates){r=u.Hooks.templates[i];t=r[0].split(" ");for(n in t)o=i+t[n],s=n,u.Hooks.registered[o]=[i,s]}},getRoot:function(n){var t=u.Hooks.registered[n];return t?t[0]:n},cleanRootPropertyValue:function(n,t){return u.RegEx.valueUnwrap.test(t)&&(t=t.match(u.RegEx.valueUnwrap)[1]),u.Values.isCSSNullValue(t)&&(t=u.Hooks.templates[n][1]),t},extractValue:function(n,t){var i=u.Hooks.registered[n],r,f;return i?(r=i[0],f=i[1],t=u.Hooks.cleanRootPropertyValue(r,t),t.toString().match(u.RegEx.valueSplit)[f]):t},injectValue:function(n,t,i){var r=u.Hooks.registered[n],f,s,e,o;return r?(e=r[0],o=r[1],i=u.Hooks.cleanRootPropertyValue(e,i),f=i.toString().match(u.RegEx.valueSplit),f[o]=t,s=f.join(" ")):i}},Normalizations:{registered:{clip:function(n,t,i){switch(n){case"name":return"clip";case"extract":var r;return u.RegEx.wrappedValueAlreadyExtracted.test(i)?r=i:(r=i.toString().match(u.RegEx.valueUnwrap),r=r?r[1].replace(/,(\s+)?/g," "):i),r;case"inject":return"rect("+i+")"}},blur:function(n,t,i){var r,u;switch(n){case"name":return f.State.isFirefox?"filter":"-webkit-filter";case"extract":return r=parseFloat(i),r||0===r||(u=i.toString().match(/blur\(([0-9]+[A-z]+)\)/i),r=u?u[1]:0),r;case"inject":return parseFloat(i)?"blur("+i+")":"none"}},opacity:function(n,t,i){if(8>=h)switch(n){case"name":return"filter";case"extract":var r=i.toString().match(/alpha\(opacity=(.*)\)/i);return r?r[1]/100:1;case"inject":return t.style.zoom=1,parseFloat(i)>=1?"":"alpha(opacity="+parseInt(100*parseFloat(i),10)+")"}else switch(n){case"name":return"opacity";case"extract":return i;case"inject":return i}}},register:function(){var n;for(9>=h||f.State.isGingerbread||(u.Lists.transformsBase=u.Lists.transformsBase.concat(u.Lists.transforms3D)),n=0;n<u.Lists.transformsBase.length;n++)!function(){var t=u.Lists.transformsBase[n];u.Normalizations.registered[t]=function(n,i,u){switch(n){case"name":return"transform";case"extract":return e(i)===r||e(i).transformCache[t]===r?/^scale/i.test(t)?1:0:e(i).transformCache[t].replace(/[()]/g,"");case"inject":var o=!1;switch(t.substr(0,t.length-1)){case"translate":o=!/(%|px|em|rem|vw|vh|\d)$/i.test(u);break;case"scal":case"scale":f.State.isAndroid&&e(i).transformCache[t]===r&&1>u&&(u=1);o=!/(\d)$/i.test(u);break;case"skew":o=!/(deg|\d)$/i.test(u);break;case"rotate":o=!/(deg|\d)$/i.test(u)}return o||(e(i).transformCache[t]="("+u+")"),e(i).transformCache[t]}}}();for(n=0;n<u.Lists.colors.length;n++)!function(){var t=u.Lists.colors[n];u.Normalizations.registered[t]=function(n,i,f){var e,s,o;switch(n){case"name":return t;case"extract":return u.RegEx.wrappedValueAlreadyExtracted.test(f)?e=f:(o={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"},/^[A-z]+$/i.test(f)?s=o[f]!==r?o[f]:o.black:u.RegEx.isHex.test(f)?s="rgb("+u.Values.hexToRgb(f).join(" ")+")":/^rgba?\(/i.test(f)||(s=o.black),e=(s||f).toString().match(u.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")),8>=h||3!==e.split(" ").length||(e+=" 1"),e;case"inject":return 8>=h?4===f.split(" ").length&&(f=f.split(/\s+/).slice(0,3).join(" ")):3===f.split(" ").length&&(f+=" 1"),(8>=h?"rgb":"rgba")+"("+f.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")"}}}()}},Names:{camelCase:function(n){return n.replace(/-(\w)/g,function(n,t){return t.toUpperCase()})},SVGAttribute:function(n){var t="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(h||f.State.isAndroid&&!f.State.isChrome)&&(t+="|transform"),new RegExp("^("+t+")$","i").test(n)},prefixCheck:function(n){var i;if(f.State.prefixMatches[n])return[f.State.prefixMatches[n],!0];for(var r=["","Webkit","Moz","ms","O"],t=0,u=r.length;u>t;t++)if(i=0===t?n:r[t]+n.replace(/^\w/,function(n){return n.toUpperCase()}),s.isString(f.State.prefixElement.style[i]))return f.State.prefixMatches[n]=i,[i,!0];return[n,!1]}},Values:{hexToRgb:function(n){var t;return n=n.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(n,t,i,r){return t+t+i+i+r+r}),t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n),t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:[0,0,0]},isCSSNullValue:function(n){return 0==n||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(n)},getUnitType:function(n){return/^(rotate|skew)/i.test(n)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(n)?"":"px"},getDisplayType:function(n){var t=n&&n.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(t)?"inline":/^(li)$/i.test(t)?"list-item":/^(tr)$/i.test(t)?"table-row":/^(table)$/i.test(t)?"table":/^(tbody)$/i.test(t)?"table-row-group":"block"},addClass:function(n,t){n.classList?n.classList.add(t):n.className+=(n.className.length?" ":"")+t},removeClass:function(n,t){n.classList?n.classList.remove(t):n.className=n.className.toString().replace(new RegExp("(^|\\s)"+t.split(" ").join("|")+"(\\s|$)","gi")," ")}},getPropertyValue:function(n,i,s,c){function y(n,i){function s(){l&&u.setPropertyValue(n,"display","none")}var f=0,l,p,w,a,v;if(8>=h)f=o.css(n,i);else{if(l=!1,/^(width|height)$/.test(i)&&0===u.getPropertyValue(n,"display")&&(l=!0,u.setPropertyValue(n,"display",u.Values.getDisplayType(n))),!c){if("height"===i&&"border-box"!==u.getPropertyValue(n,"boxSizing").toString().toLowerCase())return p=n.offsetHeight-(parseFloat(u.getPropertyValue(n,"borderTopWidth"))||0)-(parseFloat(u.getPropertyValue(n,"borderBottomWidth"))||0)-(parseFloat(u.getPropertyValue(n,"paddingTop"))||0)-(parseFloat(u.getPropertyValue(n,"paddingBottom"))||0),s(),p;if("width"===i&&"border-box"!==u.getPropertyValue(n,"boxSizing").toString().toLowerCase())return w=n.offsetWidth-(parseFloat(u.getPropertyValue(n,"borderLeftWidth"))||0)-(parseFloat(u.getPropertyValue(n,"borderRightWidth"))||0)-(parseFloat(u.getPropertyValue(n,"paddingLeft"))||0)-(parseFloat(u.getPropertyValue(n,"paddingRight"))||0),s(),w}a=e(n)===r?t.getComputedStyle(n,null):e(n).computedStyle?e(n).computedStyle:e(n).computedStyle=t.getComputedStyle(n,null);"borderColor"===i&&(i="borderTopColor");f=9===h&&"filter"===i?a.getPropertyValue(i):a[i];(""===f||null===f)&&(f=n.style[i]);s()}return"auto"===f&&/^(top|right|bottom|left)$/i.test(i)&&(v=y(n,"position"),("fixed"===v||"absolute"===v&&/top|left/i.test(i))&&(f=o(n).position()[i]+"px")),f}var l,p,a,w,v;if(u.Hooks.registered[i]?(p=i,a=u.Hooks.getRoot(p),s===r&&(s=u.getPropertyValue(n,u.Names.prefixCheck(a)[0])),u.Normalizations.registered[a]&&(s=u.Normalizations.registered[a]("extract",n,s)),l=u.Hooks.extractValue(p,s)):u.Normalizations.registered[i]&&(w=u.Normalizations.registered[i]("name",n),"transform"!==w&&(v=y(n,u.Names.prefixCheck(w)[0]),u.Values.isCSSNullValue(v)&&u.Hooks.templates[i]&&(v=u.Hooks.templates[i][1])),l=u.Normalizations.registered[i]("extract",n,v)),!/^[\d-]/.test(l))if(e(n)&&e(n).isSVG&&u.Names.SVGAttribute(i))if(/^(height|width)$/i.test(i))try{l=n.getBBox()[i]}catch(b){l=0}else l=n.getAttribute(i);else l=y(n,u.Names.prefixCheck(i)[0]);return u.Values.isCSSNullValue(l)&&(l=0),f.debug>=2&&console.log("Get "+i+": "+l),l},setPropertyValue:function(n,i,r,o,s){var c=i,a,l;if("scroll"===i)s.container?s.container["scroll"+s.direction]=r:"Left"===s.direction?t.scrollTo(r,s.alternateValue):t.scrollTo(s.alternateValue,r);else if(u.Normalizations.registered[i]&&"transform"===u.Normalizations.registered[i]("name",n))u.Normalizations.registered[i]("inject",n,r),c="transform",r=e(n).transformCache[i];else{if(u.Hooks.registered[i]&&(a=i,l=u.Hooks.getRoot(i),o=o||u.getPropertyValue(n,l),r=u.Hooks.injectValue(a,r,o),i=l),u.Normalizations.registered[i]&&(r=u.Normalizations.registered[i]("inject",n,r),i=u.Normalizations.registered[i]("name",n)),c=u.Names.prefixCheck(i)[0],8>=h)try{n.style[c]=r}catch(v){f.debug&&console.log("Browser does not support ["+r+"] for ["+c+"]")}else e(n)&&e(n).isSVG&&u.Names.SVGAttribute(i)?n.setAttribute(i,r):n.style[c]=r;f.debug>=2&&console.log("Set "+i+" ("+c+"): "+r)}return[c,r]},flushTransformCache:function(n){function t(t){return parseFloat(u.getPropertyValue(n,t))}var i="",r,s,c;(h||f.State.isAndroid&&!f.State.isChrome)&&e(n).isSVG?(r={translate:[t("translateX"),t("translateY")],skewX:[t("skewX")],skewY:[t("skewY")],scale:1!==t("scale")?[t("scale"),t("scale")]:[t("scaleX"),t("scaleY")],rotate:[t("rotateZ"),0,0]},o.each(e(n).transformCache,function(n){/^translate/i.test(n)?n="translate":/^scale/i.test(n)?n="scale":/^rotate/i.test(n)&&(n="rotate");r[n]&&(i+=n+"("+r[n].join(" ")+") ",delete r[n])})):(o.each(e(n).transformCache,function(t){return s=e(n).transformCache[t],"transformPerspective"===t?(c=s,!0):(9===h&&"rotateZ"===t&&(t="rotate"),void(i+=t+s+" "))}),c&&(i="perspective"+c+" "+i));u.setPropertyValue(n,"transform",i)}},u.Hooks.register(),u.Normalizations.register(),f.hook=function(n,t,i){var u=r;return n=y(n),o.each(n,function(n,o){if(e(o)===r&&f.init(o),i===r)u===r&&(u=f.CSS.getPropertyValue(o,t));else{var s=f.CSS.setPropertyValue(o,t,i);"transform"===s[0]&&f.CSS.flushTransformCache(o);u=s}}),u},c=function(){function ft(){return et?d.promise||null:at}function wt(){function g(){function dt(t,i){var f=r,o=r,e=r;return s.isArray(t)?(f=t[0],!s.isArray(t[1])&&/^[\d-]/.test(t[1])||s.isFunction(t[1])||u.RegEx.isHex.test(t[1])?e=t[1]:(s.isString(t[1])&&!u.RegEx.isHex.test(t[1])||s.isArray(t[1]))&&(o=i?t[1]:w(t[1],n.duration),t[2]!==r&&(e=t[2]))):f=t,i||(o=o||n.easing),s.isFunction(f)&&(f=f.call(c,tt,nt)),s.isFunction(e)&&(e=e.call(c,tt,nt)),[f||0,o,e]}function gt(n,t){var i,r;return r=(t||"0").toString().toLowerCase().replace(/[%A-z]+$/,function(n){return i=n,""}),i||(i=u.Values.getUnitType(n)),[r,i]}function ii(){var s={myParent:c.parentNode||i.body,position:u.getPropertyValue(c,"position"),fontSize:u.getPropertyValue(c,"fontSize")},a=s.position===l.lastPosition&&s.myParent===l.lastParent,v=s.fontSize===l.lastFontSize,h,r,n;return l.lastParent=s.myParent,l.lastPosition=s.position,l.lastFontSize=s.fontSize,h=100,r={},v&&a?(r.emToPx=l.lastEmToPx,r.percentToPxWidth=l.lastPercentToPxWidth,r.percentToPxHeight=l.lastPercentToPxHeight):(n=e(c).isSVG?i.createElementNS("http://www.w3.org/2000/svg","rect"):i.createElement("div"),f.init(n),s.myParent.appendChild(n),o.each(["overflow","overflowX","overflowY"],function(t,i){f.CSS.setPropertyValue(n,i,"hidden")}),f.CSS.setPropertyValue(n,"position",s.position),f.CSS.setPropertyValue(n,"fontSize",s.fontSize),f.CSS.setPropertyValue(n,"boxSizing","content-box"),o.each(["minWidth","maxWidth","width","minHeight","maxHeight","height"],function(t,i){f.CSS.setPropertyValue(n,i,h+"%")}),f.CSS.setPropertyValue(n,"paddingLeft",h+"em"),r.percentToPxWidth=l.lastPercentToPxWidth=(parseFloat(u.getPropertyValue(n,"width",null,!0))||1)/h,r.percentToPxHeight=l.lastPercentToPxHeight=(parseFloat(u.getPropertyValue(n,"height",null,!0))||1)/h,r.emToPx=l.lastEmToPx=(parseFloat(u.getPropertyValue(n,"paddingLeft"))||1)/h,s.myParent.removeChild(n)),null===l.remToPx&&(l.remToPx=parseFloat(u.getPropertyValue(i.body,"fontSize"))||16),null===l.vwToPx&&(l.vwToPx=parseFloat(t.innerWidth)/100,l.vhToPx=parseFloat(t.innerHeight)/100),r.remToPx=l.remToPx,r.vwToPx=l.vwToPx,r.vhToPx=l.vhToPx,f.debug>=1&&console.log("Unit ratios: "+JSON.stringify(r),c),r}var vt,ni,pt,st,wt,et,ti,ut,v,ot,ht,lt,ft,at,yt,kt;if(n.begin&&0===tt)try{n.begin.call(k,k)}catch(ri){setTimeout(function(){throw ri;},1)}if("scroll"===it)st=/^x$/i.test(n.axis)?"Left":"Top",wt=parseFloat(n.offset)||0,n.container?s.isWrapped(n.container)||s.isNode(n.container)?(n.container=n.container[0]||n.container,vt=n.container["scroll"+st],pt=vt+o(c).position()[st.toLowerCase()]+wt):n.container=null:(vt=f.State.scrollAnchor[f.State["scrollProperty"+st]],ni=f.State.scrollAnchor[f.State["scrollProperty"+("Left"===st?"Top":"Left")]],pt=o(c).offset()[st.toLowerCase()]+wt),y={scroll:{rootPropertyValue:!1,startValue:vt,currentValue:vt,endValue:pt,unitType:"",easing:n.easing,scrollData:{container:n.container,direction:st,alternateValue:ni}},element:c},f.debug&&console.log("tweensContainer (scroll): ",y.scroll,c);else if("reverse"===it){if(!e(c).tweensContainer)return void o.dequeue(c,n.queue);"none"===e(c).opts.display&&(e(c).opts.display="auto");"hidden"===e(c).opts.visibility&&(e(c).opts.visibility="visible");e(c).opts.loop=!1;e(c).opts.begin=null;e(c).opts.complete=null;h.easing||delete n.easing;h.duration||delete n.duration;n=o.extend({},e(c).opts,n);ut=o.extend(!0,{},e(c).tweensContainer);for(et in ut)"element"!==et&&(ti=ut[et].startValue,ut[et].startValue=ut[et].currentValue=ut[et].endValue,ut[et].endValue=ti,s.isEmptyObject(h)||(ut[et].easing=n.easing),f.debug&&console.log("reverse tweensContainer ("+et+"): "+JSON.stringify(ut[et]),c));y=ut}else if("start"===it){e(c).tweensContainer&&e(c).isAnimating===!0&&(ut=e(c).tweensContainer);o.each(p,function(n,t){var f;if(RegExp("^"+u.Lists.colors.join("$|^")+"$").test(n)){var e=dt(t,!0),o=e[0],s=e[1],h=e[2];if(u.RegEx.isHex.test(o)){for(var c=["Red","Green","Blue"],a=u.Values.hexToRgb(o),l=h?u.Values.hexToRgb(h):r,i=0;i<c.length;i++)f=[a[i]],s&&f.push(s),l!==r&&f.push(l[i]),p[n+c[i]]=f;delete p[n]}}});for(v in p){var bt=dt(p[v]),rt=bt[0],ui=bt[1],g=bt[2];if(v=u.Names.camelCase(v),ot=u.Hooks.getRoot(v),ht=!1,e(c).isSVG||"tween"===ot||u.Names.prefixCheck(ot)[1]!==!1||u.Normalizations.registered[ot]!==r){if((n.display!==r&&null!==n.display&&"none"!==n.display||n.visibility!==r&&"hidden"!==n.visibility)&&/opacity|filter/.test(v)&&!g&&0!==rt&&(g=0),n._cacheValues&&ut&&ut[v]?(g===r&&(g=ut[v].endValue+ut[v].unitType),ht=e(c).rootPropertyValueCache[ot]):u.Hooks.registered[v]?g===r?(ht=u.getPropertyValue(c,ot),g=u.getPropertyValue(c,v,ht)):ht=u.Hooks.templates[ot][1]:g===r&&(g=u.getPropertyValue(c,v)),yt=!1,lt=gt(v,g),g=lt[0],at=lt[1],lt=gt(v,rt),rt=lt[0].replace(/^([+-\/*])=/,function(n,t){return yt=t,""}),ft=lt[1],g=parseFloat(g)||0,rt=parseFloat(rt)||0,"%"===ft&&(/^(fontSize|lineHeight)$/.test(v)?(rt/=100,ft="em"):/^scale/.test(v)?(rt/=100,ft=""):/(Red|Green|Blue)$/i.test(v)&&(rt=rt/100*255,ft="")),/[\/*]/.test(yt))ft=at;else if(at!==ft&&0!==g)if(0===rt)ft=at;else{b=b||ii();kt=/margin|padding|left|right|width|text|word|letter/i.test(v)||/X$/.test(v)||"x"===v?"x":"y";switch(at){case"%":g*="x"===kt?b.percentToPxWidth:b.percentToPxHeight;break;case"px":break;default:g*=b[at+"ToPx"]}switch(ft){case"%":g*=1/("x"===kt?b.percentToPxWidth:b.percentToPxHeight);break;case"px":break;default:g*=1/b[ft+"ToPx"]}}switch(yt){case"+":rt=g+rt;break;case"-":rt=g-rt;break;case"*":rt=g*rt;break;case"/":rt=g/rt}y[v]={rootPropertyValue:ht,startValue:g,currentValue:g,endValue:rt,unitType:ft,easing:ui};f.debug&&console.log("tweensContainer ("+v+"): "+JSON.stringify(y[v]),c)}else f.debug&&console.log("Skipping ["+ot+"] due to a lack of browser support.")}y.element=c}y.element&&(u.Values.addClass(c,"velocity-animating"),ct.push(y),""===n.queue&&(e(c).tweensContainer=y,e(c).opts=n),e(c).isAnimating=!0,tt===nt-1?(f.State.calls.push([ct,k,n,null,d.resolver]),f.State.isTicking===!1&&(f.State.isTicking=!0,a())):tt++)}var b,c=this,n=o.extend({},f.defaults,h),y={};switch(e(c)===r&&f.init(c),parseFloat(n.delay)&&n.queue!==!1&&o.queue(c,n.queue,function(t){f.velocityQueueEntryFlag=!0;e(c).delayTimer={setTimeout:setTimeout(t,parseFloat(n.delay)),next:t}}),n.duration.toString().toLowerCase()){case"fast":n.duration=200;break;case"normal":n.duration=v;break;case"slow":n.duration=600;break;default:n.duration=parseFloat(n.duration)||1}f.mock!==!1&&(f.mock===!0?n.duration=n.delay=1:(n.duration*=parseFloat(f.mock)||1,n.delay*=parseFloat(f.mock)||1));n.easing=w(n.easing,n.duration);n.begin&&!s.isFunction(n.begin)&&(n.begin=null);n.progress&&!s.isFunction(n.progress)&&(n.progress=null);n.complete&&!s.isFunction(n.complete)&&(n.complete=null);n.display!==r&&null!==n.display&&(n.display=n.display.toString().toLowerCase(),"auto"===n.display&&(n.display=f.CSS.Values.getDisplayType(c)));n.visibility!==r&&null!==n.visibility&&(n.visibility=n.visibility.toString().toLowerCase());n.mobileHA=n.mobileHA&&f.State.isMobile&&!f.State.isGingerbread;n.queue===!1?n.delay?setTimeout(g,n.delay):g():o.queue(c,n.queue,function(n,t){return t===!0?(d.promise&&d.resolver(k),!0):(f.velocityQueueEntryFlag=!0,void g(n))});""!==n.queue&&"fx"!==n.queue||"inprogress"===o.queue(c)[0]||o.dequeue(c)}var et,at,rt,k,p,h,vt=arguments[0]&&(arguments[0].p||o.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||s.isString(arguments[0].properties)),nt,tt,yt,g,d,it,st,ht,l,ct,lt,n,ot,ut;if(s.isWrapped(this)?(et=!1,rt=0,k=this,at=this):(et=!0,rt=1,k=vt?arguments[0].elements||arguments[0].e:arguments[0]),k=y(k)){if(vt?(p=arguments[0].properties||arguments[0].p,h=arguments[0].options||arguments[0].o):(p=arguments[rt],h=arguments[rt+1]),nt=k.length,tt=0,!/^(stop|finish)$/i.test(p)&&!o.isPlainObject(h))for(yt=rt+1,h={},g=yt;g<arguments.length;g++)s.isArray(arguments[g])||!/^(fast|normal|slow)$/i.test(arguments[g])&&!/^\d/.test(arguments[g])?s.isString(arguments[g])||s.isArray(arguments[g])?h.easing=arguments[g]:s.isFunction(arguments[g])&&(h.complete=arguments[g]):h.duration=arguments[g];d={promise:null,resolver:null,rejecter:null};et&&f.Promise&&(d.promise=new f.Promise(function(n,t){d.resolver=n;d.rejecter=t}));switch(p){case"scroll":it="scroll";break;case"reverse":it="reverse";break;case"finish":case"stop":return o.each(k,function(n,t){e(t)&&e(t).delayTimer&&(clearTimeout(e(t).delayTimer.setTimeout),e(t).delayTimer.next&&e(t).delayTimer.next(),delete e(t).delayTimer)}),st=[],o.each(f.State.calls,function(n,t){t&&o.each(t[1],function(i,u){var f=h===r?"":h;return f===!0||t[2].queue===f||h===r&&t[2].queue===!1?void o.each(k,function(i,r){r===u&&((h===!0||s.isString(h))&&(o.each(o.queue(r,s.isString(h)?h:""),function(n,t){s.isFunction(t)&&t(null,!0)}),o.queue(r,s.isString(h)?h:"",[])),"stop"===p?(e(r)&&e(r).tweensContainer&&f!==!1&&o.each(e(r).tweensContainer,function(n,t){t.endValue=t.currentValue}),st.push(n)):"finish"===p&&(t[2].duration=1))}):!0})}),"stop"===p&&(o.each(st,function(n,t){b(t,!0)}),d.promise&&d.resolver(k)),ft();default:if(!o.isPlainObject(p)||s.isEmptyObject(p)){if(s.isString(p)&&f.Redirects[p]){var n=o.extend({},h),bt=n.duration,pt=n.delay||0;return n.backwards===!0&&(k=o.extend(!0,[],k).reverse()),o.each(k,function(t,i){parseFloat(n.stagger)?n.delay=pt+parseFloat(n.stagger)*t:s.isFunction(n.stagger)&&(n.delay=pt+n.stagger.call(i,t,nt));n.drag&&(n.duration=parseFloat(bt)||(/^(callout|transition)/.test(p)?1e3:v),n.duration=Math.max(n.duration*(n.backwards?1-t/nt:(t+1)/nt),.75*n.duration,200));f.Redirects[p].call(i,i,n||{},t,nt,k,d.promise?d:r)}),ft()}return ht="Velocity: First argument ("+p+") was not a property map, a known action, or a registered redirect. Aborting.",d.promise?d.rejecter(new Error(ht)):console.log(ht),ft()}it="start"}if(l={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},ct=[],o.each(k,function(n,t){s.isNode(t)&&wt.call(t)}),n=o.extend({},f.defaults,h),n.loop=parseInt(n.loop),lt=2*n.loop-1,n.loop)for(ot=0;lt>ot;ot++)ut={delay:n.delay,progress:n.progress},ot===lt-1&&(ut.display=n.display,ut.visibility=n.visibility,ut.complete=n.complete),c(k,"reverse",ut);return ft()}},f=o.extend(c,f),f.animate=c,l=t.requestAnimationFrame||k,f.State.isMobile||i.hidden===r||i.addEventListener("visibilitychange",function(){i.hidden?(l=function(n){return setTimeout(function(){n(!0)},16)},a()):l=t.requestAnimationFrame||k}),n.Velocity=f,n!==t&&(n.fn.velocity=c,n.fn.velocity.defaults=f.defaults),o.each(["Down","Up"],function(n,t){f.Redirects["slide"+t]=function(n,i,u,e,s,h){var c=o.extend({},i),v=c.begin,y=c.complete,a={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""},l={};c.display===r&&(c.display="Down"===t?"inline"===f.CSS.Values.getDisplayType(n)?"inline-block":"block":"none");c.begin=function(){var i,r;v&&v.call(s,s);for(i in a)l[i]=n.style[i],r=f.CSS.getPropertyValue(n,i),a[i]="Down"===t?[r,0]:[0,r];l.overflow=n.style.overflow;n.style.overflow="hidden"};c.complete=function(){for(var t in l)n.style[t]=l[t];y&&y.call(s,s);h&&h.resolver(s)};f(n,a,c)}}),o.each(["In","Out"],function(n,t){f.Redirects["fade"+t]=function(n,i,u,e,s,h){var c=o.extend({},i),a={opacity:"In"===t?1:0},l=c.complete;c.complete=u!==e-1?c.begin=null:function(){l&&l.call(s,s);h&&h.resolver(s)};c.display===r&&(c.display="In"===t?"auto":"none");f(this,a,c)}}),f}(window.jQuery||window.Zepto||window,window,document)}));!function(n,t,i,r){"use strict";function si(n,t,i){return setTimeout(ci(n,i),t)}function tt(n,t,i){return Array.isArray(n)?(v(n,i[t],i),!0):!1}function v(n,t,i){var u;if(n)if(n.forEach)n.forEach(t,i);else if(n.length!==r)for(u=0;u<n.length;)t.call(i,n[u],u,n),u++;else for(u in n)n.hasOwnProperty(u)&&t.call(i,n[u],u,n)}function k(n,t,i){for(var f=Object.keys(t),u=0;u<f.length;)(!i||i&&n[f[u]]===r)&&(n[f[u]]=t[f[u]]),u++;return n}function hi(n,t){return k(n,t,!0)}function o(n,t,i){var r,u=t.prototype;r=n.prototype=Object.create(u);r.constructor=n;r._super=u;i&&k(r,i)}function ci(n,t){return function(){return n.apply(t,arguments)}}function li(n,t){return typeof n==pr?n.apply(t?t[0]||r:r,t):n}function ur(n,t){return n===r?t:n}function pt(n,t,i){v(bt(t),function(t){n.addEventListener(t,i,!1)})}function wt(n,t,i){v(bt(t),function(t){n.removeEventListener(t,i,!1)})}function fr(n,t){for(;n;){if(n==t)return!0;n=n.parentNode}return!1}function d(n,t){return n.indexOf(t)>-1}function bt(n){return n.trim().split(/\s+/g)}function it(n,t,i){if(n.indexOf&&!i)return n.indexOf(t);for(var r=0;r<n.length;){if(i&&n[r][i]==t||!i&&n[r]===t)return r;r++}return-1}function kt(n){return Array.prototype.slice.call(n,0)}function er(n,t,i){for(var f,u=[],e=[],r=0;r<n.length;)f=t?n[r][t]:n[r],it(e,f)<0&&u.push(n[r]),e[r]=f,r++;return i&&(u=t?u.sort(function(n,i){return n[t]>i[t]}):u.sort()),u}function dt(n,t){for(var i,u,e=t[0].toUpperCase()+t.slice(1),f=0;f<yr.length;){if(i=yr[f],u=i?i+e:t,u in n)return u;f++}return r}function ou(){return tf++}function or(n){var t=n.ownerDocument;return t.defaultView||t.parentWindow}function s(n,t){var i=this;this.manager=n;this.callback=t;this.element=n.element;this.target=n.options.inputTarget;this.domHandler=function(t){li(n.options.enable,[n])&&i.handler(t)};this.init()}function su(n){var t,i=n.options.inputClass;return t=i?i:rf?vi:uf?ti:wr?yi:ni,new t(n,hu)}function hu(n,t,i){var r=i.pointers.length,o=i.changedPointers.length,s=t&f&&0==r-o,h=t&(u|e)&&0==r-o;i.isFirst=!!s;i.isFinal=!!h;s&&(n.session={});i.eventType=t;cu(n,i);n.emit("hammer.input",i);n.recognize(i);n.session.prevInput=i}function cu(n,t){var i=n.session,u=t.pointers,e=u.length,f;i.firstInput||(i.firstInput=sr(t));e>1&&!i.firstMultiple?i.firstMultiple=sr(t):1===e&&(i.firstMultiple=!1);var o=i.firstInput,r=i.firstMultiple,s=r?r.center:o.center,h=t.center=hr(u);t.timeStamp=nr();t.deltaTime=t.timeStamp-o.timeStamp;t.angle=ai(s,h);t.distance=gt(s,h);lu(i,t);t.offsetDirection=cr(t.deltaX,t.deltaY);t.scale=r?pu(r.pointers,u):1;t.rotation=r?yu(r.pointers,u):0;au(i,t);f=n.element;fr(t.srcEvent.target,f)&&(f=t.srcEvent.target);t.target=f}function lu(n,t){var i=t.center,r=n.offsetDelta||{},e=n.prevDelta||{},o=n.prevInput||{};(t.eventType===f||o.eventType===u)&&(e=n.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=n.offsetDelta={x:i.x,y:i.y});t.deltaX=e.x+(i.x-r.x);t.deltaY=e.y+(i.y-r.y)}function au(n,t){var f,o,s,h,i=n.lastInterval||t,c=t.timeStamp-i.timeStamp;if(t.eventType!=e&&(c>ff||i.velocity===r)){var l=i.deltaX-t.deltaX,a=i.deltaY-t.deltaY,u=vu(c,l,a);o=u.x;s=u.y;f=ft(u.x)>ft(u.y)?u.x:u.y;h=cr(l,a);n.lastInterval=t}else f=i.velocity,o=i.velocityX,s=i.velocityY,h=i.direction;t.velocity=f;t.velocityX=o;t.velocityY=s;t.direction=h}function sr(n){for(var i=[],t=0;t<n.pointers.length;)i[t]={clientX:rt(n.pointers[t].clientX),clientY:rt(n.pointers[t].clientY)},t++;return{timeStamp:nr(),pointers:i,center:hr(i),deltaX:n.deltaX,deltaY:n.deltaY}}function hr(n){var t=n.length;if(1===t)return{x:rt(n[0].clientX),y:rt(n[0].clientY)};for(var r=0,u=0,i=0;t>i;)r+=n[i].clientX,u+=n[i].clientY,i++;return{x:rt(r/t),y:rt(u/t)}}function vu(n,t,i){return{x:t/n||0,y:i/n||0}}function cr(n,t){return n===t?fi:ft(n)>=ft(t)?n>0?ot:st:t>0?ht:ct}function gt(n,t,i){i||(i=kr);var r=t[i[0]]-n[i[0]],u=t[i[1]]-n[i[1]];return Math.sqrt(r*r+u*u)}function ai(n,t,i){i||(i=kr);var r=t[i[0]]-n[i[0]],u=t[i[1]]-n[i[1]];return 180*Math.atan2(u,r)/Math.PI}function yu(n,t){return ai(t[1],t[0],ei)-ai(n[1],n[0],ei)}function pu(n,t){return gt(t[0],t[1],ei)/gt(n[0],n[1],ei)}function ni(){this.evEl=of;this.evWin=sf;this.allow=!0;this.pressed=!1;s.apply(this,arguments)}function vi(){this.evEl=dr;this.evWin=gr;s.apply(this,arguments);this.store=this.manager.session.pointerEvents=[]}function lr(){this.evTarget=af;this.evWin=vf;this.started=!1;s.apply(this,arguments)}function wu(n,t){var i=kt(n.touches),r=kt(n.changedTouches);return t&(u|e)&&(i=er(i.concat(r),"identifier",!0)),[i,r]}function ti(){this.evTarget=tu;this.targetIds={};s.apply(this,arguments)}function bu(n,t){var r=kt(n.touches),o=this.targetIds;if(t&(f|g)&&1===r.length)return o[r[0].identifier]=!0,[r,r];var i,s,h=kt(n.changedTouches),c=[],l=this.target;if(s=r.filter(function(n){return fr(n.target,l)}),t===f)for(i=0;i<s.length;)o[s[i].identifier]=!0,i++;for(i=0;i<h.length;)o[h[i].identifier]&&c.push(h[i]),t&(u|e)&&delete o[h[i].identifier],i++;if(c.length)return[er(s.concat(c),"identifier",!0),c]}function yi(){s.apply(this,arguments);var n=ci(this.handler,this);this.touch=new ti(this.manager,n);this.mouse=new ni(this.manager,n)}function pi(n,t){this.manager=n;this.set(t)}function ku(n){if(d(n,lt))return lt;var t=d(n,at),i=d(n,vt);return t&&i?at+" "+vt:t||i?t?at:vt:d(n,ir)?ir:fu}function y(n){this.id=ou();this.manager=null;this.options=hi(n||{},this.defaults);this.options.enable=ur(this.options.enable,!0);this.state=oi;this.simultaneous={};this.requireFail=[]}function du(n){return n&yt?"cancel":n&b?"end":n&ut?"move":n&h?"start":""}function ar(n){return n==ct?"down":n==ht?"up":n==ot?"left":n==st?"right":""}function ii(n,t){var i=t.manager;return i?i.get(n):n}function c(){y.apply(this,arguments)}function ri(){c.apply(this,arguments);this.pX=null;this.pY=null}function wi(){c.apply(this,arguments)}function bi(){y.apply(this,arguments);this._timer=null;this._input=null}function ki(){c.apply(this,arguments)}function di(){c.apply(this,arguments)}function ui(){y.apply(this,arguments);this.pTime=!1;this.pCenter=!1;this._timer=null;this._input=null;this.count=0}function w(n,t){return t=t||{},t.recognizers=ur(t.recognizers,w.defaults.preset),new gi(n,t)}function gi(n,t){t=t||{};this.options=hi(t,w.defaults);this.options.inputTarget=this.options.inputTarget||n;this.handlers={};this.session={};this.recognizers=[];this.element=n;this.input=su(this);this.touchAction=new pi(this,this.options.touchAction);vr(this,!0);v(t.recognizers,function(n){var t=this.add(new n[0](n[1]));n[2]&&t.recognizeWith(n[2]);n[3]&&t.requireFailure(n[3])},this)}function vr(n,t){var i=n.element;v(n.options.cssProps,function(n,r){i.style[dt(i.style,r)]=t?n:""})}function gu(n,i){var r=t.createEvent("Event");r.initEvent(n,!0,!0);r.gesture=i;i.target.dispatchEvent(r)}var yr=["","webkit","moz","MS","ms","o"],nf=t.createElement("div"),pr="function",rt=Math.round,ft=Math.abs,nr=Date.now,tf=1,wr="ontouchstart"in n,rf=dt(n,"PointerEvent")!==r,uf=wr&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),et="touch",tr="mouse",ff=25,f=1,g=2,u=4,e=8,fi=1,ot=2,st=4,ht=8,ct=16,l=ot|st,nt=ht|ct,br=l|nt,kr=["x","y"],ei=["clientX","clientY"],nu,tu,eu,rr;s.prototype={handler:function(){},init:function(){this.evEl&&pt(this.element,this.evEl,this.domHandler);this.evTarget&&pt(this.target,this.evTarget,this.domHandler);this.evWin&&pt(or(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&wt(this.element,this.evEl,this.domHandler);this.evTarget&&wt(this.target,this.evTarget,this.domHandler);this.evWin&&wt(or(this.element),this.evWin,this.domHandler)}};var ef={mousedown:f,mousemove:g,mouseup:u},of="mousedown",sf="mousemove mouseup";o(ni,s,{handler:function(n){var t=ef[n.type];t&f&&0===n.button&&(this.pressed=!0);t&g&&1!==n.which&&(t=u);this.pressed&&this.allow&&(t&u&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[n],changedPointers:[n],pointerType:tr,srcEvent:n}))}});var hf={pointerdown:f,pointermove:g,pointerup:u,pointercancel:e,pointerout:e},cf={2:et,3:"pen",4:tr,5:"kinect"},dr="pointerdown",gr="pointermove pointerup pointercancel";n.MSPointerEvent&&(dr="MSPointerDown",gr="MSPointerMove MSPointerUp MSPointerCancel");o(vi,s,{handler:function(n){var t=this.store,o=!1,h=n.type.toLowerCase().replace("ms",""),r=hf[h],s=cf[n.pointerType]||n.pointerType,c=s==et,i=it(t,n.pointerId,"pointerId");r&f&&(0===n.button||c)?0>i&&(t.push(n),i=t.length-1):r&(u|e)&&(o=!0);0>i||(t[i]=n,this.callback(this.manager,r,{pointers:t,changedPointers:[n],pointerType:s,srcEvent:n}),o&&t.splice(i,1))}});var lf={touchstart:f,touchmove:g,touchend:u,touchcancel:e},af="touchstart",vf="touchstart touchmove touchend touchcancel";o(lr,s,{handler:function(n){var i=lf[n.type],t;(i===f&&(this.started=!0),this.started)&&(t=wu.call(this,n,i),i&(u|e)&&0==t[0].length-t[1].length&&(this.started=!1),this.callback(this.manager,i,{pointers:t[0],changedPointers:t[1],pointerType:et,srcEvent:n}))}});nu={touchstart:f,touchmove:g,touchend:u,touchcancel:e};tu="touchstart touchmove touchend touchcancel";o(ti,s,{handler:function(n){var i=nu[n.type],t=bu.call(this,n,i);t&&this.callback(this.manager,i,{pointers:t[0],changedPointers:t[1],pointerType:et,srcEvent:n})}});o(yi,s,{handler:function(n,t,i){var r=i.pointerType==et,f=i.pointerType==tr;if(r)this.mouse.allow=!1;else if(f&&!this.mouse.allow)return;t&(u|e)&&(this.mouse.allow=!0);this.callback(n,t,i)},destroy:function(){this.touch.destroy();this.mouse.destroy()}});var iu=dt(nf.style,"touchAction"),ru=iu!==r,uu="compute",fu="auto",ir="manipulation",lt="none",at="pan-x",vt="pan-y";pi.prototype={set:function(n){n==uu&&(n=this.compute());ru&&(this.manager.element.style[iu]=n);this.actions=n.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var n=[];return v(this.manager.recognizers,function(t){li(t.options.enable,[t])&&(n=n.concat(t.getTouchAction()))}),ku(n.join(" "))},preventDefaults:function(n){var t,i;if(!ru){if(t=n.srcEvent,i=n.offsetDirection,this.manager.session.prevented)return t.preventDefault(),void 0;var r=this.actions,u=d(r,lt),f=d(r,vt),e=d(r,at);return u||f&&i&l||e&&i&nt?this.preventSrc(t):void 0}},preventSrc:function(n){this.manager.session.prevented=!0;n.preventDefault()}};var oi=1,h=2,ut=4,b=8,p=b,yt=16,a=32;y.prototype={defaults:{},set:function(n){return k(this.options,n),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(n){if(tt(n,"recognizeWith",this))return this;var t=this.simultaneous;return n=ii(n,this),t[n.id]||(t[n.id]=n,n.recognizeWith(this)),this},dropRecognizeWith:function(n){return tt(n,"dropRecognizeWith",this)?this:(n=ii(n,this),delete this.simultaneous[n.id],this)},requireFailure:function(n){if(tt(n,"requireFailure",this))return this;var t=this.requireFail;return n=ii(n,this),-1===it(t,n)&&(t.push(n),n.requireFailure(this)),this},dropRequireFailure:function(n){if(tt(n,"dropRequireFailure",this))return this;n=ii(n,this);var t=it(this.requireFail,n);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(n){return!!this.simultaneous[n.id]},emit:function(n){function t(t){r.manager.emit(r.options.event+(t?du(i):""),n)}var r=this,i=this.state;b>i&&t(!0);t();i>=b&&t(!0)},tryEmit:function(n){return this.canEmit()?this.emit(n):(this.state=a,void 0)},canEmit:function(){for(var n=0;n<this.requireFail.length;){if(!(this.requireFail[n].state&(a|oi)))return!1;n++}return!0},recognize:function(n){var t=k({},n);return li(this.options.enable,[this,t])?(this.state&(p|yt|a)&&(this.state=oi),this.state=this.process(t),this.state&(h|ut|b|yt)&&this.tryEmit(t),void 0):(this.reset(),this.state=a,void 0)},process:function(){},getTouchAction:function(){},reset:function(){}};o(c,y,{defaults:{pointers:1},attrTest:function(n){var t=this.options.pointers;return 0===t||n.pointers.length===t},process:function(n){var t=this.state,i=n.eventType,r=t&(h|ut),f=this.attrTest(n);return r&&(i&e||!f)?t|yt:r||f?i&u?t|b:t&h?t|ut:h:a}});o(ri,c,{defaults:{event:"pan",threshold:10,pointers:1,direction:br},getTouchAction:function(){var t=this.options.direction,n=[];return t&l&&n.push(vt),t&nt&&n.push(at),n},directionTest:function(n){var i=this.options,r=!0,u=n.distance,t=n.direction,f=n.deltaX,e=n.deltaY;return t&i.direction||(i.direction&l?(t=0===f?fi:0>f?ot:st,r=f!=this.pX,u=Math.abs(n.deltaX)):(t=0===e?fi:0>e?ht:ct,r=e!=this.pY,u=Math.abs(n.deltaY))),n.direction=t,r&&u>i.threshold&&t&i.direction},attrTest:function(n){return c.prototype.attrTest.call(this,n)&&(this.state&h||!(this.state&h)&&this.directionTest(n))},emit:function(n){this.pX=n.deltaX;this.pY=n.deltaY;var t=ar(n.direction);t&&this.manager.emit(this.options.event+t,n);this._super.emit.call(this,n)}});o(wi,c,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[lt]},attrTest:function(n){return this._super.attrTest.call(this,n)&&(Math.abs(n.scale-1)>this.options.threshold||this.state&h)},emit:function(n){if(this._super.emit.call(this,n),1!==n.scale){var t=n.scale<1?"in":"out";this.manager.emit(this.options.event+t,n)}}});o(bi,y,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[fu]},process:function(n){var t=this.options,i=n.pointers.length===t.pointers,r=n.distance<t.threshold,o=n.deltaTime>t.time;if(this._input=n,!r||!i||n.eventType&(u|e)&&!o)this.reset();else if(n.eventType&f)this.reset(),this._timer=si(function(){this.state=p;this.tryEmit()},t.time,this);else if(n.eventType&u)return p;return a},reset:function(){clearTimeout(this._timer)},emit:function(n){this.state===p&&(n&&n.eventType&u?this.manager.emit(this.options.event+"up",n):(this._input.timeStamp=nr(),this.manager.emit(this.options.event,this._input)))}});o(ki,c,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[lt]},attrTest:function(n){return this._super.attrTest.call(this,n)&&(Math.abs(n.rotation)>this.options.threshold||this.state&h)}});o(di,c,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:l|nt,pointers:1},getTouchAction:function(){return ri.prototype.getTouchAction.call(this)},attrTest:function(n){var t,i=this.options.direction;return i&(l|nt)?t=n.velocity:i&l?t=n.velocityX:i&nt&&(t=n.velocityY),this._super.attrTest.call(this,n)&&i&n.direction&&n.distance>this.options.threshold&&ft(t)>this.options.velocity&&n.eventType&u},emit:function(n){var t=ar(n.direction);t&&this.manager.emit(this.options.event+t,n);this.manager.emit(this.options.event,n)}});o(ui,y,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[ir]},process:function(n){var t=this.options,o=n.pointers.length===t.pointers,s=n.distance<t.threshold,c=n.deltaTime<t.time,i,r,e;if(this.reset(),n.eventType&f&&0===this.count)return this.failTimeout();if(s&&c&&o){if(n.eventType!=u)return this.failTimeout();if(i=this.pTime?n.timeStamp-this.pTime<t.interval:!0,r=!this.pCenter||gt(this.pCenter,n.center)<t.posThreshold,this.pTime=n.timeStamp,this.pCenter=n.center,r&&i?this.count+=1:this.count=1,this._input=n,e=this.count%t.taps,0===e)return this.hasRequireFailures()?(this._timer=si(function(){this.state=p;this.tryEmit()},t.interval,this),h):p}return a},failTimeout:function(){return this._timer=si(function(){this.state=a},this.options.interval,this),a},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==p&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});w.VERSION="2.0.4";w.defaults={domEvents:!1,touchAction:uu,enable:!0,inputTarget:null,inputClass:null,preset:[[ki,{enable:!1}],[wi,{enable:!1},["rotate"]],[di,{direction:l}],[ri,{direction:l},["swipe"]],[ui],[ui,{event:"doubletap",taps:2},["tap"]],[bi]],cssProps:{userSelect:"default",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};eu=1;rr=2;gi.prototype={set:function(n){return k(this.options,n),n.touchAction&&this.touchAction.update(),n.inputTarget&&(this.input.destroy(),this.input.target=n.inputTarget,this.input.init()),this},stop:function(n){this.session.stopped=n?rr:eu},recognize:function(n){var r=this.session,i,f,t,u;if(!r.stopped)for(this.touchAction.preventDefaults(n),f=this.recognizers,t=r.curRecognizer,(!t||t&&t.state&p)&&(t=r.curRecognizer=null),u=0;u<f.length;)i=f[u],r.stopped===rr||t&&i!=t&&!i.canRecognizeWith(t)?i.reset():i.recognize(n),!t&&i.state&(h|ut|b)&&(t=r.curRecognizer=i),u++},get:function(n){if(n instanceof y)return n;for(var i=this.recognizers,t=0;t<i.length;t++)if(i[t].options.event==n)return i[t];return null},add:function(n){if(tt(n,"add",this))return this;var t=this.get(n.options.event);return t&&this.remove(t),this.recognizers.push(n),n.manager=this,this.touchAction.update(),n},remove:function(n){if(tt(n,"remove",this))return this;var t=this.recognizers;return n=this.get(n),t.splice(it(t,n),1),this.touchAction.update(),this},on:function(n,t){var i=this.handlers;return v(bt(n),function(n){i[n]=i[n]||[];i[n].push(t)}),this},off:function(n,t){var i=this.handlers;return v(bt(n),function(n){t?i[n].splice(it(i[n],t),1):delete i[n]}),this},emit:function(n,t){var i,r;if(this.options.domEvents&&gu(n,t),i=this.handlers[n]&&this.handlers[n].slice(),i&&i.length)for(t.type=n,t.preventDefault=function(){t.srcEvent.preventDefault()},r=0;r<i.length;)i[r](t),r++},destroy:function(){this.element&&vr(this,!1);this.handlers={};this.session={};this.input.destroy();this.element=null}};k(w,{INPUT_START:f,INPUT_MOVE:g,INPUT_END:u,INPUT_CANCEL:e,STATE_POSSIBLE:oi,STATE_BEGAN:h,STATE_CHANGED:ut,STATE_ENDED:b,STATE_RECOGNIZED:p,STATE_CANCELLED:yt,STATE_FAILED:a,DIRECTION_NONE:fi,DIRECTION_LEFT:ot,DIRECTION_RIGHT:st,DIRECTION_UP:ht,DIRECTION_DOWN:ct,DIRECTION_HORIZONTAL:l,DIRECTION_VERTICAL:nt,DIRECTION_ALL:br,Manager:gi,Input:s,TouchAction:pi,TouchInput:ti,MouseInput:ni,PointerEventInput:vi,TouchMouseInput:yi,SingleTouchInput:lr,Recognizer:y,AttrRecognizer:c,Tap:ui,Pan:ri,Swipe:di,Pinch:wi,Rotate:ki,Press:bi,on:pt,off:wt,each:v,merge:hi,extend:k,inherit:o,bindFn:ci,prefixed:dt});typeof define==pr&&define.amd?define(function(){return w}):"undefined"!=typeof module&&module.exports?module.exports=w:n[i]=w}(window,document,"Hammer"),function(n){n.Package?Materialize={}:n.Materialize={}}(window);Materialize.guid=function(){function n(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return function(){return n()+n()+"-"+n()+"-"+n()+"-"+n()+"-"+n()+n()+n()}}();Materialize.elementOrParentIsFixed=function(n){var t=$(n),r=t.add(t.parents()),i=!1;return r.each(function(){if($(this).css("position")==="fixed")return i=!0,!1}),i};Vel=$?$.Velocity:jQuery?jQuery.Velocity:Velocity,function(n){"use strict";function o(n){return n!==null&&n===n.window}function s(n){return o(n)?n:n.nodeType===9&&n.defaultView}function h(n){var t,i,r={top:0,left:0},u=n&&n.ownerDocument;return t=u.documentElement,typeof n.getBoundingClientRect!=typeof undefined&&(r=n.getBoundingClientRect()),i=s(u),{top:r.top+i.pageYOffset-t.clientTop,left:r.left+i.pageXOffset-t.clientLeft}}function f(n){var i="";for(var t in n)n.hasOwnProperty(t)&&(i+=t+":"+n[t]+";");return i}function c(n){if(i.allowEvent(n)===!1)return null;for(var r=null,t=n.target||n.srcElement;t.parentElement!==null;){if(t instanceof SVGElement||t.className.indexOf("waves-effect")===-1){if(t.classList.contains("waves-effect")){r=t;break}}else{r=t;break}t=t.parentElement}return r}function u(i){var r=c(i);r!==null&&(t.show(i,r),"ontouchstart"in n&&(r.addEventListener("touchend",t.hide,!1),r.addEventListener("touchcancel",t.hide,!1)),r.addEventListener("mouseup",t.hide,!1),r.addEventListener("mouseleave",t.hide,!1))}var r=r||{},e=document.querySelectorAll.bind(document),t={duration:750,show:function(n,i){var o,u,r;if(n.button===2)return!1;o=i||this;u=document.createElement("div");u.className="waves-ripple";o.appendChild(u);var s=h(o),c=n.pageY-s.top,l=n.pageX-s.left,e="scale("+o.clientWidth/10+")";"touches"in n&&(c=n.touches[0].pageY-s.top,l=n.touches[0].pageX-s.left);u.setAttribute("data-hold",Date.now());u.setAttribute("data-scale",e);u.setAttribute("data-x",l);u.setAttribute("data-y",c);r={top:c+"px",left:l+"px"};u.className=u.className+" waves-notransition";u.setAttribute("style",f(r));u.className=u.className.replace("waves-notransition","");r["-webkit-transform"]=e;r["-moz-transform"]=e;r["-ms-transform"]=e;r["-o-transform"]=e;r.transform=e;r.opacity="1";r["-webkit-transition-duration"]=t.duration+"ms";r["-moz-transition-duration"]=t.duration+"ms";r["-o-transition-duration"]=t.duration+"ms";r["transition-duration"]=t.duration+"ms";r["-webkit-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)";r["-moz-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)";r["-o-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)";r["transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)";u.setAttribute("style",f(r))},hide:function(n){i.touchup(n);var e=this,a=e.clientWidth*1.4,r=null,o=e.getElementsByClassName("waves-ripple");if(o.length>0)r=o[o.length-1];else return!1;var h=r.getAttribute("data-x"),c=r.getAttribute("data-y"),u=r.getAttribute("data-scale"),l=Date.now()-Number(r.getAttribute("data-hold")),s=350-l;s<0&&(s=0);setTimeout(function(){var n={top:c+"px",left:h+"px",opacity:"0","-webkit-transition-duration":t.duration+"ms","-moz-transition-duration":t.duration+"ms","-o-transition-duration":t.duration+"ms","transition-duration":t.duration+"ms","-webkit-transform":u,"-moz-transform":u,"-ms-transform":u,"-o-transform":u,transform:u};r.setAttribute("style",f(n));setTimeout(function(){try{e.removeChild(r)}catch(n){return!1}},t.duration)},s)},wrapInput:function(n){for(var t,u,i,f,r=0;r<n.length;r++)if(t=n[r],t.tagName.toLowerCase()==="input"){if(u=t.parentNode,u.tagName.toLowerCase()==="i"&&u.className.indexOf("waves-effect")!==-1)continue;i=document.createElement("i");i.className=t.className+" waves-input-wrapper";f=t.getAttribute("style");f||(f="");i.setAttribute("style",f);t.className="waves-button-input";t.removeAttribute("style");u.replaceChild(i,t);i.appendChild(t)}}},i={touches:0,allowEvent:function(n){var t=!0;return n.type==="touchstart"?i.touches+=1:n.type==="touchend"||n.type==="touchcancel"?setTimeout(function(){i.touches>0&&(i.touches-=1)},500):n.type==="mousedown"&&i.touches>0&&(t=!1),t},touchup:function(n){i.allowEvent(n)}};r.displayEffect=function(i){i=i||{};"duration"in i&&(t.duration=i.duration);t.wrapInput(e(".waves-effect"));"ontouchstart"in n&&document.body.addEventListener("touchstart",u,!1);document.body.addEventListener("mousedown",u,!1)};r.attach=function(i){i.tagName.toLowerCase()==="input"&&(t.wrapInput([i]),i=i.parentElement);"ontouchstart"in n&&i.addEventListener("touchstart",u,!1);i.addEventListener("mousedown",u,!1)};n.Waves=r;document.addEventListener("DOMContentLoaded",function(){r.displayEffect()},!1)}(window),function(n){n(document).ready(function(){n(document).on("click.card keydown",".card",function(t){if(n(this).find("> .card-reveal").length){var i=t.keyCode||t.which;(i==cityWay.keys.enter||i=="32"||t.type=="click")&&(n(t.target).is(n(".card-reveal .card-title"))||n(t.target).is(n(".card-reveal .card-title i"))?n(this).find(".card-reveal").velocity({translateY:0},{duration:225,queue:!1,easing:"easeInOutQuad",complete:function(){n(this).css({display:"none"})}}):(n(t.target).is(n(".card .activator"))||n(t.target).is(n(".card .activator i")))&&(n(t.target).closest(".card").css("overflow","hidden"),n(this).find(".card-reveal").css({display:"block"}).velocity("stop",!1).velocity({translateY:"-100%"},{duration:300,queue:!1,easing:"easeInOutQuad"})),n(".card-reveal").closest(".card").css("overflow","hidden"),t.stopPropagation())}})})}(jQuery),function(n){n(document).ready(function(){n(document).on("click.chip",".chip .material-icons",function(){n(this).parent().remove()})})}(jQuery);$(function(){cityWay.consts.responsive=cityWay.tools.getLessVars("Responsive");enquire.register("screen and (max-width: "+cityWay.consts.responsive.screenMember+"px)",{match:function(){var n=$("#login-popup-container").detach();$("#navbar-login").append(n)},unmatch:function(){var n=$("#navbar-login > #login-popup-container").detach();$("#login-popup-container-parent").append(n);$("#navbar-login").collapse("hide")}})});cityWay=cityWay||{};cityWay.namespace=function(n){var t=n.split("."),r=cityWay,i;for(t[0]==="cityWay"&&(t=t.slice(1)),i=0;i<t.length;i+=1)typeof r[t[i]]=="undefined"&&(r[t[i]]={}),r=r[t[i]];return r};cityWay.namespace("cityWay.texts.map");cityWay.namespace("cityWay.forms");cityWay.namespace("cityWay.ui");cityWay.namespace("cityWay.links");cityWay.namespace("cityWay.buttons");cityWay.namespace("cityWay.events");cityWay.namespace("cityWay.consts");cityWay.namespace("cityWay.config.map");cityWay.namespace("cityWay.config.sections");cityWay.namespace("cityWay.tasks");cityWay.namespace("cityWay.tools");cityWay.namespace("cityWay.helpers");cityWay.namespace("cityWay.modules"),function(){String.prototype.format||(String.prototype.format=function(){var n=arguments;return this.replace(/{(\d+)}/g,function(t,i){return typeof n[i]!="undefined"?n[i]:t})})}();cityWay.Lazy=function(n){if(!$.isFunction(n))throw new Error("instanceFactory parameter must be a function that returns the instance of the object to lazy load.");var t=this;return Object.defineProperty(t,"value",{get:function(){var t=arguments.callee;return t.cache||(t.cache=n()),t.cache}}),t};cityWay.Lazy.empty=function(){return{}};$(function(){cityWay.consts={cookies:{disabledMap:"cityWay.cookies.map.disabled"}}});cityWay.events.favorites={journeyChanged:"favorites:journey:changed",pointChanged:"favorites:point:changed",journeyHasToChange:"favorites:journey:hasToChange",stopChanged:"favorites:stop:changed",lineChanged:"favorites:line:changed"};cityWay.events.map={initialized:"map:initialized",clicked:"map:clicked",boundsChanged:"map:boundsChanged",nodeClicked:"map:nodeClicked",legendStateChanged:"map:legendStateChanged",zoomChanged:"map:zoomChanged",responsiveOpenPopup:"map:openPopup",nodeRemoved:"map:nodeRemoved",nearestRoadNotFound:"map:nearestRoadNotFound",departureNodeDragged:"map:departureNodeDragged",viaNodeDragged:"map:viaNodeDragged",arrivalNodeDragged:"map:arrivalNodeDragged",departureSelected:"map:popupDepartureSelected",viaSelected:"map:popupViaSelected",arrivalSelected:"map:popupArrivalSelected",consultTimeToStopRequested:"map:popupConsultTimeToStopRequested",directTripFromLocalitySelected:"map:directTripFromLocalitySelected",directTripToLocalitySelected:"map:directTripToLocalitySelected",directTripFromStopSelected:"map:directTripFromStopSelected",directTripToStopSelected:"map:directTripToStopSelected",radiusChanged:"map:radiusChanged",locationSelected:"map:locationSelected",nearBySpecificSelected:"map:nearBySpecificSelected",lineTimeTablePOIFrom:"map:lineTimeTablePOIFrom",trafficInfoDateChanged:"map:trafficInfoDateChanged",trafficInfoItemsChanged:"map:trafficInfoItemsChanged",trafficInfoItemPopupOpened:"map:trafficInfoItemPopupOpened",preferencesApplied:"map:preferencesApplied",responsivePopupOpen:"map:responsivePopupOpen",responsivePopupClose:"map:responsivePopupClose",responsivePopupContentUpdate:"map:responsivePopupContentUpdate"};cityWay.events.journeyPlanner={searchFormChanged:"journeyPlanner:searchFormChanged"};cityWay.events.lineTimeTable={stopLinkClicked:"lineTimeTable:stopLinkClicked"};cityWay.events.animations={end:"webkitAnimationEnd oanimationend msAnimationEnd animationend"};cityWay.events.form={inputShouldBeCleared:"form:inputShouldBeCleared"};cityWay.events.ws={getPointsByCategoriesSuccess:"ws:getPointsByCategoriesSuccess"};cityWay.events.autocomplete={itemSelected:"autocomplete:itemSelected"};cityWay.events.geolocation={found:"geolocation:found",error:"geolocation:error",get:"geolocation:get"};cityWay.events.template={showPanel:"template:showPanel"};cityWay.events.responsive={mapshown:"map:shown",maphidden:"map:hidden",infoshown:"info:shown",infoshidden:"info:hidden"};cityWay.eventManager=function(n){"use strict";function i(i){if(arguments.length<2)throw new Error("The event id and source are required");var r=n.makeArray(arguments);r.shift();t.trigger.apply(t,[i,r])}function r(i,r){if(!n.isFunction(r))throw new Error("The event handler must be a function");r._actualHandler=function(){var i=n.makeArray(arguments);i.shift();r.apply(t,i)};t.on(i,r._actualHandler)}function u(n,i){t.off(n,i._actualHandler)}var t=n({});return{publish:i,subscribe:r,unsubscribe:u}}(jQuery);cityWay.notificationManager=function(n){"use strict";function t(t){n("#"+t).modal("show")}function i(t){n("#"+t).modal("hide")}return{modalId:{roadNotFound:"modal-road-notfound"},showModal:t,hideModal:i}}(jQuery);$(function(){cityWay.keys={backspace:8,enter:13,del:46,upArrow:38,downArrow:40,leftArrow:37,rightArrow:39,escape:27};cityWay.StatusCode={Ok:0,NoSolution:400,Error:500};cityWay.TypeDate={LeaveAt:68,ArriveAt:65};cityWay.GeolocationErrorCode={PermissionDenied:1,PositionUnavailable:2,Timeout:3,NotSupported:101};cityWay.geometryType={point:1,line:2,polygon:3,layer:4};cityWay.pointType={poi:1,physicalStop:2,address:3,logicalStop:4,roadLink:7,traffic:100,disrupt:101,myPosition:102,vehicle:103,event:210};cityWay.poi={category:{locality:3,bikeStation:4,bikePark:5,parkNRide:6,parking:11,carSharing:12,carPoolZone:13}};cityWay.itemType={unknow:100,roadWorks:101,roadBlock:102,openMountainPass:103,closedMountainPass:104,specialEquipmentRequired:105,roadAccident:106,trafficJam:107,otherIncident:108,sportingEvent:109,bikeStation:110,bikePark:111,webcam:112,multiPurposeTrafficSign:113,parkNRide:114,parking:115,carPoolZone:116,carSharing:117,followDiversionSigns:118,closedPermanentlyForTheWinter:119,mountainPassWithSpecialEquipmentRequired:120,disrupt:200,event:210};cityWay.disruptionType={Commercial:1,Disruption:2,RealTime:3,Traffic:4,Weather:5,ItineraryUpdate:8,WorkInProgress:9,Accident:10,SocialMovement:11,Manifestation:12,Event:13,Timetable:14};cityWay.disruptionTypeReverse={1:"Commercial",2:"Disruption",3:"RealTime",4:"Traffic",5:"Weather",8:"ItineraryUpdate",9:"WorkInProgress",10:"Accident",11:"SocialMovement",12:"Manifestation",13:"Event",14:"Timetable"};cityWay.trafficEventType={Unknow:0,Weather:1,Pollution:2,Kidnapping:3};cityWay.states={notStarted:0,run:1,paused:2,stop:3}});cityWay.eventManager.subscribe(cityWay.events.geolocation.get,function(n){var t=function(n){cityWay.eventManager.publish(cityWay.events.geolocation.found,n)},i=function(n){cityWay.eventManager.publish(cityWay.events.geolocation.error,n.code)};geoPosition.init()?geoPosition.getCurrentPosition(t,i,n||{}):cityWay.eventManager.publish(cityWay.events.geolocation.error,cityWay.GeolocationErrorCode.NotSupported)});cityWay.tools=function(n){"use strict";function i(n,t,i){var e,o,u,s;n=n.split("#")[0];var r="",h=!1,f="";if(n!=""&&(e=n.split("?"),r=e[0]+"?",e.length>1))for(o=e[1].split("&"),u=0;u<o.length;u++)s=o[u].split("="),s[0].toLowerCase()==t.toLowerCase()?(r+=f+s[0]+"="+i,h=!0):r+=f+o[u],f="&";return h||(r+=f+t+"="+i),r}function r(n){var i=document.location.href,r,t;return i=i.split("#")[0],r=new RegExp("(\\?|&|^)"+n+"=(.*?)(&|$)"),n.replace("E","e"),t=i.match(r),t!=null?t[2]!=undefined?decodeURIComponent(unescape(t[2]).replace(/\+/g," ")):"":""}function u(n,t){var i=document.createElement("script");i.type="text/javascript";typeof t!="undefined"&&(i.readyState?i.onreadystatechange=function(){(i.readyState=="loaded"||i.readyState=="complete")&&t()}:i.onload=function(){t()});i.src=n;document.getElementsByTagName("head")[0].appendChild(i)}function f(n,t){function i(t){return n.apply(this,t)}return i.prototype=n.prototype,new i(t)}function e(){n(".list-group-item-toggle").each(function(){var i=n(this),t=i.prop("id"),r=n("[data-trigger="+t+"]");n("#"+t).attr("aria-expanded","true");r.hasClass("active")||(r.hide(),n("#"+t).attr("aria-expanded","false"));i.toggle(function(){n("[data-trigger="+t+"]").show();n("#"+t).attr("aria-expanded","true")},function(){n("[data-trigger="+t+"]").hide();n("#"+t).attr("aria-expanded","false")})})}function o(n,t){for(var r,u,a,f,o,s,h,v,i,y,p,w=t===undefined?!0:t,c={},b="em,ex,ch,rem,vw,vh,vmin,cm,mm,in,pt,pc,px,deg,grad,rad,turn,s,ms,Hz,kHz,dpi,dpcm,dppx".split(","),k="#"+n,l=document.styleSheets,e=0,d=l.length;e<d;e++)try{if(r=l[e].cssRules,r!=null)for(u=0,a=r.length;u<a;u++)f=r[u].cssText,o=f.match(/\#\w+/),o&&o[0]==k&&(s=f.match(/\.(\w+)/),h=f.match(/:\s?(.*)\s?;\s?\}/),s&&h&&(v=s[1],i=h[1],w&&(y=i.match(/[a-z]+$/))&&b.indexOf(y[0])!==-1?i=parseFloat(i):(p=i.match(/^'([^']+)'$/))&&(i=p[1]),c[v]=i))}catch(g){if(g.name!=="SecurityError")continue}return c}function s(t,i,r){document.getElementById(t).value="";document.getElementById(i).value="";n("#"+t).addClass("loading");cityWay.eventManager.publish(cityWay.events.geolocation.get,{});cityWay.eventManager.subscribe(cityWay.events.geolocation.found,function(u){cityWay.localityDataService.getLocality(u.coords.latitude,u.coords.longitude).then(function(u){u.Data?(document.getElementById(t).value=u.Data.Name,document.getElementById(i).value=u.Data.Id):n("#"+r).html(cityWay.texts.error.Locality_NotFound)});n("#"+t).removeClass("loading")});cityWay.eventManager.subscribe(cityWay.events.geolocation.error,function(i){var u="";i==cityWay.GeolocationErrorCode.PermissionDenied?u=cityWay.texts.error.Geolocation_PermissionDenied:i==cityWay.GeolocationErrorCode.PositionUnavailable||i==cityWay.GeolocationErrorCode.Timeout?u=cityWay.texts.error.Geolocation_NotFound:i==cityWay.GeolocationErrorCode.NotSupported&&(u=cityWay.texts.error.Geolocation_NotSupported);n("#"+t).removeClass("loading");n("#"+r).html(u)})}function h(t,i,r){document.getElementById(t).value="";document.getElementById(i).value="";n("#"+t).addClass("loading");cityWay.eventManager.publish(cityWay.events.geolocation.get,{});cityWay.eventManager.subscribe(cityWay.events.geolocation.found,function(u){cityWay.roadDataService.getNearestRoad(u.coords.latitude,u.coords.longitude).then(function(u){u.Data?(document.getElementById(t).value=u.Data.Name,document.getElementById(i).value=u.Data.Id+"_"+cityWay.pointType.roadLink):n("#"+r).html(cityWay.texts.error.Locality_NotFound)});n("#"+t).removeClass("loading")});cityWay.eventManager.subscribe(cityWay.events.geolocation.error,function(i){var u="";i==cityWay.GeolocationErrorCode.PermissionDenied?u=cityWay.texts.error.Geolocation_PermissionDenied:i==cityWay.GeolocationErrorCode.PositionUnavailable||i==cityWay.GeolocationErrorCode.Timeout?u=cityWay.texts.error.Geolocation_NotFound:i==cityWay.GeolocationErrorCode.NotSupported&&(u=cityWay.texts.error.Geolocation_NotSupported);n("#"+t).removeClass("loading");n("#"+r).html(u)})}function c(n,t,i){var r;return function(){var u=this,f=arguments,e=function(){r=null;i||n.apply(u,f)},o=i&&!r;clearTimeout(r);r=setTimeout(e,t);o&&n.apply(u,f)}}function l(){function r(t){var r=0,u,f;if(t.href!=null&&t.href.indexOf(location.origin)!=0){console.log("CSS file couldn't be analyzed because it is not on the same domain: "+t.href);return}if(t&&t.cssRules){for(u=0,f=t.cssRules.length;u<f;u++)t.cssRules[u].selectorText&&(r+=t.cssRules[u].selectorText.split(",").length);n+="\nFile: "+(t.href?t.href:"inline <style> tag");n+="\nRules: "+t.cssRules.length;n+="\nSelectors: "+r;n+="\n--------------------------";r>=4096&&(i+="\n********************************\nWARNING:\n There are "+r+" CSS rules in the stylesheet "+t.href+" - IE will ignore the last "+(r-4096)+" rules!\n")}}var i="",n="",t;if(document.styleSheets){for(t=0;t<document.styleSheets.length;t++)r(document.styleSheets[t]);console.log(n);console.log(i)}}function a(n,t){document.getElementById(n)&&(document.getElementById(n).value=t)}function v(n){return n.toString().replace(/\\n/g,"<br />").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#34;/g,'"').replace(/&#38;/g,"&").replace(/&#39;/g,"'").replace(/&#60;/g,"<").replace(/&#62;/g,">").replace(/&#192;/g,"").replace(/&#219;/g,"").replace(/&#224;/g,"").replace(/&#226;/g,"").replace(/&#231;/g,"").replace(/&#232;/g,"").replace(/&#233;/g,"").replace(/&#234;/g,"").replace(/&#235;/g,"").replace(/&#238;/g,"").replace(/&#244;/g,"").replace(/&#251;/g,"").replace(/&amp;/g,"&")}function y(t,i,r){cityWay.tools.setInputValue(t,"");cityWay.tools.setInputValue(i,"");n("#"+t).addClass("loading");cityWay.eventManager.publish(cityWay.events.geolocation.get,{});cityWay.eventManager.subscribe(cityWay.events.geolocation.found,function(n){var t=cityWay.config.urls.searchStopByLocation;t!=""&&(t=t.replace("{lat}",n.coords.latitude),t=t.replace("{lng}",n.coords.longitude),window.location.href=encodeURI(t))});cityWay.eventManager.subscribe(cityWay.events.geolocation.error,function(i){var u="";i==cityWay.GeolocationErrorCode.PermissionDenied?u=cityWay.texts.error.Geolocation_PermissionDenied:i==cityWay.GeolocationErrorCode.PositionUnavailable||i==cityWay.GeolocationErrorCode.Timeout?u=cityWay.texts.error.Geolocation_NotFound:i==cityWay.GeolocationErrorCode.NotSupported&&(u=cityWay.texts.error.Geolocation_NotSupported);n("#"+t).removeClass("loading");n("#"+r).html(u)})}function t(n){var i,r;try{n.focus()}catch(u){}if(document.activeElement==n)return!0;for(i=0;i<n.childNodes.length;i++)if(r=n.childNodes[i],t(r))return!0;return!1}function p(){var t=n.cookie(cityWay.consts.cookies.disabledMap);return!t?!0:t==="false"}function w(t){if(t==null||t)return!0;if(cityWay.consts.cookies!=null){var i=n.cookie(cityWay.consts.cookies.allowedRefresh);if(!!i)return i!="false"&&!document.hidden}return!document.hidden}function b(n,t,i){return n.replace(new RegExp(t,"g"),i)}function k(){cityWay.notificationManager.hideModal(cityWay.notificationManager.modalId.roadNotFound)}return{updateParamUrl:i,getParamValue:r,lazyLoad:u,create:f,bindListGroupItemToggle:e,getLessVars:o,getLocality:s,getStreet:h,debounce:c,countCSSRules:l,setInputValue:a,replaceSpecialCharacters:v,getStopFromLocation:y,focusFirst:t,isMapEnabled:p,replaceAll:b,closeModelRoadNotFound:k,isRefreshAllowed:w}}(jQuery);cityWay.links=function(n){"use strict";function t(t,i,r){n(t).click(function(u){return u.preventDefault(),n.ajax({url:n(t).attr("href"),cache:!1,dataType:"html",success:function(f,e,o){n(i).html(f);!r||r(n(this),f,e,o,u,t)}}),!0})}function i(){n(document).on("click","a[data-show-modal=true][href!='']",function(t){t.preventDefault();var i=this;return n.ajax(this.href,{type:"GET",dataType:"html",data:{isModal:!0},beforeSend:function(){n("body").addClass("waiting-on-modal");var t=n('<div class="waiting-on-modal-loader" data-id="waiting-on-modal-loader"><\/div>').html('<div aria-live="assertive" class="animated-loader white"><\/div>');n("body").append(t)},success:function(t){if(!!t){var r=n(t),u="modal"+ +new Date;r.prop("id",u);n(document.body).append(r);r.modal();r.on("hidden.bs.modal",function(){n(".modal-backdrop.in").remove();n("#"+u).remove();i.focus()})}},complete:function(){n("body").removeClass("waiting-on-modal");n("[data-id='waiting-on-modal-loader']").fadeOut().remove()}}),!0})}return{ajaxLoad:t,bindModalLinks:i}}(jQuery),function(n){"use strict";function f(t,i,r){"addEventListener"in n?t.addEventListener(i,r,!1):"attachEvent"in n&&t.attachEvent("on"+i,r)}function pt(t,i,r){"removeEventListener"in n?t.removeEventListener(i,r,!1):"detachEvent"in n&&t.detachEvent("on"+i,r)}function wt(){for(var r=["moz","webkit","o","ms"],t=0;t<r.length&&!e;t+=1)e=n[r[t]+"RequestAnimationFrame"];e||i("setup","RequestAnimationFrame not supported")}function bt(t){var i="Host page: "+t;return n.top!==n.self&&(i=n.parentIFrame&&n.parentIFrame.getId?n.parentIFrame.getId()+": "+t:"Nested host page: "+t),i}function kt(n){return s+"["+bt(n)+"]"}function nt(n){return t[n]?t[n].log:d}function i(n,t){p("log",n,t,nt(n))}function y(n,t){p("info",n,t,nt(n))}function o(n,t){p("warn",n,t,!0)}function p(t,i,r,u){!0===u&&"object"==typeof n.console&&console[t](kt(i),r)}function dt(e){function b(){function n(){ot(a);ut(h)}k("Height");k("Width");st(n,a,"init")}function at(){var n=p.substr(l).split(":");return{iframe:t[n[0]].iframe,id:n[0],height:n[1],width:n[2],type:n[3]}}function k(n){var f=Number(t[h]["max"+n]),e=Number(t[h]["min"+n]),r=n.toLowerCase(),u=Number(a[r]);i(h,"Checking "+r+" is in range "+e+"-"+f);u<e&&(u=e,i(h,"Set "+r+" to min value"));u>f&&(u=f,i(h,"Set "+r+" to max value"));a[r]=""+u}function yt(){function u(){function u(){var t=0,u=!1;for(i(h,"Checking connection is from allowed list of origins: "+n);t<n.length;t++)if(n[t]===r){u=!0;break}return u}function f(){var n=t[h].remoteHost;return i(h,"Checking connection is from: "+n),r===n}return n.constructor===Array?u():f()}var r=e.origin,n=t[h].checkOrigin;if(n&&""+r!="null"&&!u())throw new Error("Unexpected message received from: "+r+" for "+a.iframe.id+". Message was: "+e.data+". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.");return!0}function wt(){return s===(""+p).substr(0,l)&&p.substr(l).split(":")[0]in t}function bt(){var n=a.type in{"true":1,"false":1,undefined:1};return n&&i(h,"Ignoring init message from meta parent page"),n}function d(n){return p.substr(p.indexOf(":")+vt+n)}function kt(n){i(h,"MessageCallback passed: {iframe: "+a.iframe.id+", message: "+n+"}");w("messageCallback",{iframe:a.iframe,message:JSON.parse(n)});i(h,"--")}function dt(){var i=document.body.getBoundingClientRect(),t=a.iframe.getBoundingClientRect();return JSON.stringify({iframeHeight:t.height,iframeWidth:t.width,clientHeight:Math.max(document.documentElement.clientHeight,n.innerHeight||0),clientWidth:Math.max(document.documentElement.clientWidth,n.innerWidth||0),offsetTop:parseInt(t.top-i.top,10),offsetLeft:parseInt(t.left-i.left,10),scrollTop:n.pageYOffset,scrollLeft:n.pageXOffset})}function g(n,t){function i(){u("Send Page Info","pageInfo:"+dt(),n,t)}c(i,32)}function gt(){function u(u,f){function o(){t[r]?g(t[r].iframe,r):e()}["scroll","resize"].forEach(function(t){i(r,u+t+" listener for sendPageInfo");f(n,t,o)})}function e(){u("Remove ",pt)}function o(){u("Add ",f)}var r=h;o();t[r].stopPageInfo=e}function ni(){t[h]&&t[h].stopPageInfo&&(t[h].stopPageInfo(),delete t[h].stopPageInfo)}function ti(){var n=!0;return null===a.iframe&&(o(h,"IFrame ("+a.id+") not found"),n=!1),n}function nt(n){var t=n.getBoundingClientRect();return rt(h),{x:Math.floor(Number(t.left)+Number(r.x)),y:Math.floor(Number(t.top)+Number(r.y))}}function ct(t){function e(){r=f;lt();i(h,"--")}function s(){return{x:Number(a.width)+u.x,y:Number(a.height)+u.y}}function c(){n.parentIFrame?n.parentIFrame["scrollTo"+(t?"Offset":"")](f.x,f.y):o(h,"Unable to scroll to requested position, window.parentIFrame not found")}var u=t?nt(a.iframe):{x:0,y:0},f=s();i(h,"Reposition requested from iFrame (offset x:"+u.x+" y:"+u.y+")");n.top!==n.self?c():e()}function lt(){!1!==w("scrollCallback",r)?ut(h):ft()}function ii(t){function o(){var n=nt(e);i(h,"Moving to in page link (#"+u+") at x: "+n.x+" y: "+n.y);r={x:n.x,y:n.y};lt();i(h,"--")}function s(){n.parentIFrame?n.parentIFrame.moveToAnchor(u):i(h,"In page link #"+u+" not found and window.parentIFrame not found")}var u=t.split("#")[1]||"",f=decodeURIComponent(u),e=document.getElementById(f)||document.getElementsByName(f)[0];e?o():n.top!==n.self?s():i(h,"In page link #"+u+" not found")}function w(n,t){return tt(h,n,t)}function ri(){t[h].firstRun&&ei();switch(a.type){case"close":it(a.iframe);break;case"message":kt(d(6));break;case"scrollTo":ct(!1);break;case"scrollToOffset":ct(!0);break;case"pageInfo":g(t[h].iframe,h);gt();break;case"pageInfoStop":ni();break;case"inPageLink":ii(d(9));break;case"reset":et(a);break;case"init":b();w("initCallback",a.iframe);w("resizedCallback",a);break;default:b();w("resizedCallback",a)}}function ui(n){var i=!0;return t[n]||(i=!1,o(a.type+" No settings for "+n+". Message was: "+p)),i}function fi(){for(var n in t)u("iFrame requested init",ht(n),document.getElementById(n),n)}function ei(){t[h].firstRun=!1}var p=e.data,a={},h=null;"[iFrameResizerChild]Ready"===p?fi():wt()?(a=at(),h=v=a.id,!bt()&&ui(h)&&(i(h,"Received: "+p),ti()&&yt()&&ri())):y(h,"Ignored: "+p)}function tt(n,i,r){var u=null,f=null;if(t[n])if(u=t[n][i],"function"==typeof u)f=u(r);else throw new TypeError(i+" on iFrame["+n+"] is not a function");return f}function it(n){var r=n.id;i(r,"Removing iFrame: "+r);n.parentNode.removeChild(n);tt(r,"closedCallback",r);i(r,"--");delete t[r]}function rt(t){null===r&&(r={x:n.pageXOffset!==undefined?n.pageXOffset:document.documentElement.scrollLeft,y:n.pageYOffset!==undefined?n.pageYOffset:document.documentElement.scrollTop},i(t,"Get page position: "+r.x+","+r.y))}function ut(t){null!==r&&(n.scrollTo(r.x,r.y),i(t,"Set page position: "+r.x+","+r.y),ft())}function ft(){r=null}function et(n){function t(){ot(n);u("reset","reset",n.iframe,n.id)}i(n.id,"Size reset requested by "+("init"===n.type?"host page":"iFrame"));rt(n.id);st(t,n,"reset")}function ot(n){function f(t){n.iframe.style[t]=n[t]+"px";i(n.id,"IFrame ("+r+") "+t+" set to "+n[t]+"px")}function e(t){g||"0"!==n[t]||(g=!0,i(r,"Hidden iFrame detected, creating visibility listener"),gt())}function u(n){f(n);e(n)}var r=n.iframe.id;t[r]&&(t[r].sizeHeight&&u("height"),t[r].sizeWidth&&u("width"))}function st(n,t,r){r!==t.type&&e?(i(t.id,"Requesting animation frame"),e(n)):n()}function u(n,r,u,f){function e(){var e=t[f].targetOrigin;i(f,"["+n+"] Sending msg to iframe["+f+"] ("+r+") targetOrigin: "+e);u.contentWindow.postMessage(s+r,e)}function o(){y(f,"["+n+"] IFrame("+f+") not found");t[f]&&delete t[f]}function h(){u&&"contentWindow"in u&&null!==u.contentWindow?e():o()}f=f||u.id;t[f]&&h()}function ht(n){return n+":"+t[n].bodyMarginV1+":"+t[n].sizeWidth+":"+t[n].log+":"+t[n].interval+":"+t[n].enablePublicMethods+":"+t[n].autoResize+":"+t[n].bodyMargin+":"+t[n].heightCalculationMethod+":"+t[n].bodyBackground+":"+t[n].bodyPadding+":"+t[n].tolerance+":"+t[n].inPageLinks+":"+t[n].resizeFrom+":"+t[n].widthCalculationMethod}function ct(n,r){function s(){function r(r){Infinity!==t[e][r]&&0!==t[e][r]&&(n.style[r]=t[e][r]+"px",i(e,"Set "+r+" = "+t[e][r]+"px"))}function u(n){if(t[e]["min"+n]>t[e]["max"+n])throw new Error("Value for min"+n+" can not be greater than max"+n);}u("Height");u("Width");r("maxHeight");r("minHeight");r("maxWidth");r("minWidth")}function c(){var n=r&&r.id||h.id+k++;return null!==document.getElementById(n)&&(n=n+k++),n}function l(t){return v=t,""===t&&(n.id=t=c(),d=(r||{}).log,v=t,i(t,"Added missing iframe ID: "+t+" ("+n.src+")")),t}function a(){i(e,"IFrame scrolling "+(t[e].scrolling?"enabled":"disabled")+" for "+e);n.style.overflow=!1===t[e].scrolling?"hidden":"auto";n.scrolling=!1===t[e].scrolling?"no":"yes"}function y(){("number"==typeof t[e].bodyMargin||"0"===t[e].bodyMargin)&&(t[e].bodyMarginV1=t[e].bodyMargin,t[e].bodyMargin=""+t[e].bodyMargin+"px")}function p(){var i=t[e].firstRun,r=t[e].heightCalculationMethod in yt;!i&&r&&et({iframe:n,height:0,width:0,type:"init"})}function w(){Function.prototype.bind&&(t[e].iframe.iFrameResizer={close:it.bind(null,t[e].iframe),resize:u.bind(null,"Window resize","resize",t[e].iframe),moveToAnchor:function(n){u("Move to anchor","moveToAnchor:"+n,t[e].iframe,e)},sendMessage:function(n){n=JSON.stringify(n);u("Send Message","message:"+n,t[e].iframe,e)}})}function b(t){function i(){u("iFrame.onload",t,n);p()}f(n,"load",i);u("init",t,n)}function g(n){if("object"!=typeof n)throw new TypeError("Options is not an object");}function nt(n){for(var i in h)h.hasOwnProperty(i)&&(t[e][i]=n.hasOwnProperty(i)?n[i]:h[i])}function tt(n){return""===n||"file://"===n?"*":n}function rt(i){i=i||{};t[e]={firstRun:!0,iframe:n,remoteHost:n.src.split("/").slice(0,3).join("/")};g(i);nt(i);t[e].targetOrigin=!0===t[e].checkOrigin?tt(t[e].remoteHost):"*"}function ut(){return e in t&&"iFrameResizer"in n}var e=l(n.id);ut()?o(e,"Ignored iFrame, already setup."):(rt(r),a(),s(),y(),b(ht(e)),w())}function c(n,t){null===a&&(a=setTimeout(function(){a=null;n()},t))}function gt(){function f(){function n(n){function i(i){return"0px"===t[n].iframe.style[i]}function r(n){return null!==n.offsetParent}r(t[n].iframe)&&(i("height")||i("width"))&&u("Visibility change","resize",t[n].iframe,n)}for(var i in t)n(i)}function e(n){i("window","Mutation observed: "+n[0].target+" "+n[0].type);c(f,16)}function o(){var n=document.querySelector("body"),t=new r(e);t.observe(n,{attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0})}var r=n.MutationObserver||n.WebKitMutationObserver;r&&o()}function w(n){function t(){at("Window "+n,"resize")}i("window","Trigger event: "+n);c(t,16)}function lt(){function n(){at("Tab Visable","resize")}"hidden"!==document.visibilityState&&(i("document","Trigger event: Visiblity change"),c(n,16))}function at(n,i){function f(n){return"parent"===t[n].resizeFrom&&t[n].autoResize&&!t[n].firstRun}for(var r in t)f(r)&&u(n,i,document.getElementById(r),r)}function ni(){f(n,"message",dt);f(n,"resize",function(){w("resize")});f(document,"visibilitychange",lt);f(document,"-webkit-visibilitychange",lt);f(n,"focusin",function(){w("focus")});f(n,"focus",function(){w("focus")})}function b(){function t(t,i){function r(){if(i.tagName){if("IFRAME"!==i.tagName.toUpperCase())throw new TypeError("Expected <IFRAME> tag, found <"+i.tagName+">");}else throw new TypeError("Object is not a valid DOM element");}i&&(r(),ct(i,t),n.push(i))}var n;return wt(),ni(),function(i,r){n=[];switch(typeof r){case"undefined":case"string":Array.prototype.forEach.call(document.querySelectorAll(r||"iframe"),t.bind(undefined,i));break;case"object":t(i,r);break;default:throw new TypeError("Unexpected data type ("+typeof r+")");}return n}}function ti(n){n.fn?n.fn.iFrameResize=function(n){function t(t,i){ct(i,n)}return this.filter("iframe").each(t).end()}:y("","Unable to bind to jQuery, it is not fully loaded.")}var k=0,d=!1,g=!1,vt=7,s="[iFrameSizer]",l=s.length,r=null,e=n.requestAnimationFrame,yt={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},t={},a=null,v="Host Page",h={autoResize:!0,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!0,inPageLinks:!1,enablePublicMethods:!0,heightCalculationMethod:"bodyOffset",id:"iFrameResizer",interval:32,log:!1,maxHeight:Infinity,maxWidth:Infinity,minHeight:0,minWidth:0,resizeFrom:"parent",scrolling:!1,sizeHeight:!0,sizeWidth:!1,tolerance:0,widthCalculationMethod:"scroll",closedCallback:function(){},initCallback:function(){},messageCallback:function(){o("MessageCallback function not defined")},resizedCallback:function(){},scrollCallback:function(){return!0}};n.jQuery&&ti(jQuery);typeof define=="function"&&define.amd?define([],b):typeof module=="object"&&typeof module.exports=="object"?module.exports=b():n.iFrameResize=n.iFrameResize||b()}(window||{});cityWay.ui=function(n){"use strict";function t(t){var i=n(t),r=5;return n("html").hasClass("navbar-fixed")&&(r+=n("header").height()),i.size()==1&&n("html, body").animate({scrollTop:i.offset().top-r},"slow"),i}function i(t,i){var r=n(t);return n(i).css("position")!="absolute"&&n(i).css("position","relative"),r.size()==1&&setTimeout(function(){n(i).animate({scrollTop:r.position().top+n(i).scrollTop()},"slow",function(){n(i).css("position","")})},100),r}function r(t){n(t).show()}function u(t,i,r,u){n(document).on("keyup",t,function(){var t=n(this).val(),f;return t.length==0?(n(i).slideDown(),n(u).hide()):(f=n(i).filter(function(){var i=new RegExp("\\b"+t,"i");return i.test(n(r,this).text())}).slideDown(),n(i).not(f).slideUp(),setTimeout(function(){n(i).parent().each(function(){n(i,this).find(r+":visible").size()==0?n(u,this).show():n(u,this).hide()})},500)),!1})}return{vscrollTo:t,vscrollToWithin:i,showJsElements:r,filter:u}}(jQuery);cityWay.buttons=function(n){function t(t,i,r){"use strict";n(t).click(function(u){return u.preventDefault(),n(t).prop("disabled",!0),n(i).load(n(t).data("href"),function(i,f,e){!r||(r(n(this),i,f,e,u),n(t).prop("disabled",!1))}),!0})}return{ajaxLoad:t}}(jQuery);typeof jwplayer=="undefined"&&(jwplayer=function(n){if(jwplayer.api)return jwplayer.api.selectPlayer(n)},$jw=jwplayer,jwplayer.version="5.10.2295",jwplayer.vid=document.createElement("video"),jwplayer.audio=document.createElement("audio"),jwplayer.source=document.createElement("source"),function(n){function t(t){if(n.utils.exists(t)){var i=t.indexOf("://"),r=t.indexOf("?");return i>0&&(r<0||r>i)}}n.utils=function(){};n.utils.typeOf=function(n){var t=typeof n;return t==="object"&&(n?n instanceof Array&&(t="array"):t="null"),t};n.utils.extend=function(){var t=n.utils.extend.arguments,i,r;if(t.length>1){for(i=1;i<t.length;i++)for(r in t[i])t[0][r]=t[i][r];return t[0]}return null};n.utils.clone=function(){var r,t=n.utils.clone.arguments,i;if(t.length==1)switch(n.utils.typeOf(t[0])){case"object":r={};for(i in t[0])r[i]=n.utils.clone(t[0][i]);break;case"array":r=[];for(i in t[0])r[i]=n.utils.clone(t[0][i]);break;default:return t[0]}return r};n.utils.extension=function(n){return n?(n=n.substring(n.lastIndexOf("/")+1,n.length),n=n.split("?")[0],n.lastIndexOf(".")>-1)?n.substr(n.lastIndexOf(".")+1,n.length).toLowerCase():void 0:""};n.utils.html=function(n,t){n.innerHTML=t};n.utils.wrap=function(n,t){n.parentNode&&n.parentNode.replaceChild(t,n);t.appendChild(n)};n.utils.ajax=function(t,i,r){var u;u=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");u.onreadystatechange=function(){if(u.readyState===4)if(u.status===200){if(i){if(!n.utils.exists(u.responseXML))try{if(window.DOMParser){var f=(new DOMParser).parseFromString(u.responseText,"text/xml");f&&(u=n.utils.extend({},u,{responseXML:f}))}else f=new ActiveXObject("Microsoft.XMLDOM"),f.async="false",f.loadXML(u.responseText),u=n.utils.extend({},u,{responseXML:f})}catch(e){r&&r(t)}i(u)}}else r&&r(t)};try{u.open("GET",t,!0);u.send(null)}catch(f){r&&r(t)}return u};n.utils.load=function(n,t,i){n.onreadystatechange=function(){n.readyState===4&&(n.status===200?t&&t():i&&i())}};n.utils.find=function(n,t){return n.getElementsByTagName(t)};n.utils.append=function(n,t){n.appendChild(t)};n.utils.isIE=function(){return!+"\v1"||typeof ActiveXObject!="undefined"};n.utils.userAgentMatch=function(n){var t=navigator.userAgent.toLowerCase();return t.match(n)!==null};n.utils.isIOS=function(){return n.utils.userAgentMatch(/iP(hone|ad|od)/i)};n.utils.isIPad=function(){return n.utils.userAgentMatch(/iPad/i)};n.utils.isIPod=function(){return n.utils.userAgentMatch(/iP(hone|od)/i)};n.utils.isAndroid=function(){return n.utils.userAgentMatch(/android/i)};n.utils.isLegacyAndroid=function(){return n.utils.userAgentMatch(/android 2.[012]/i)};n.utils.isBlackberry=function(){return n.utils.userAgentMatch(/blackberry/i)};n.utils.isMobile=function(){return n.utils.userAgentMatch(/(iP(hone|ad|od))|android/i)};n.utils.getFirstPlaylistItemFromConfig=function(n){var t={},i;return i=n.playlist&&n.playlist.length?n.playlist[0]:n,t.file=i.file,t.levels=i.levels,t.streamer=i.streamer,t.playlistfile=i.playlistfile,t.provider=i.provider,t.provider||(t.file&&(t.file.toLowerCase().indexOf("youtube.com")>-1||t.file.toLowerCase().indexOf("youtu.be")>-1)&&(t.provider="youtube"),t.streamer&&t.streamer.toLowerCase().indexOf("rtmp://")==0&&(t.provider="rtmp"),i.type&&(t.provider=i.type.toLowerCase())),t.provider=="audio"&&(t.provider="sound"),t};n.utils.getOuterHTML=function(n){if(n.outerHTML)return n.outerHTML;try{return(new XMLSerializer).serializeToString(n)}catch(t){return""}};n.utils.setOuterHTML=function(n,t){var i,r,u;n.outerHTML?n.outerHTML=t:(i=document.createElement("div"),i.innerHTML=t,r=document.createRange(),r.selectNodeContents(i),u=r.extractContents(),n.parentNode.insertBefore(u,n),n.parentNode.removeChild(n))};n.utils.hasFlash=function(){if(typeof navigator.plugins!="undefined"&&typeof navigator.plugins["Shockwave Flash"]!="undefined")return!0;if(typeof ActiveXObject!="undefined")try{return new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),!0}catch(n){}return!1};n.utils.getPluginName=function(n){return n.lastIndexOf("/")>=0&&(n=n.substring(n.lastIndexOf("/")+1,n.length)),n.lastIndexOf("-")>=0&&(n=n.substring(0,n.lastIndexOf("-"))),n.lastIndexOf(".swf")>=0&&(n=n.substring(0,n.lastIndexOf(".swf"))),n.lastIndexOf(".js")>=0&&(n=n.substring(0,n.lastIndexOf(".js"))),n};n.utils.getPluginVersion=function(n){return n.lastIndexOf("-")>=0?n.lastIndexOf(".js")>=0?n.substring(n.lastIndexOf("-")+1,n.lastIndexOf(".js")):n.lastIndexOf(".swf")>=0?n.substring(n.lastIndexOf("-")+1,n.lastIndexOf(".swf")):n.substring(n.lastIndexOf("-")+1):""};n.utils.getAbsolutePath=function(i,r){var e,h,u,o,s,f;if(n.utils.exists(r)||(r=document.location.href),!n.utils.exists(i))return undefined;if(t(i))return i;for(e=r.substring(0,r.indexOf("://")+3),h=r.substring(e.length,r.indexOf("/",e.length+1)),i.indexOf("/")===0?u=i.split("/"):(o=r.split("?")[0],o=o.substring(e.length+h.length+1,o.lastIndexOf("/")),u=o.split("/").concat(i.split("/"))),s=[],f=0;f<u.length;f++)if(u[f]&&n.utils.exists(u[f])&&u[f]!=".")u[f]==".."?s.pop():s.push(u[f]);else continue;return e+h+"/"+s.join("/")};n.utils.pluginPathType={ABSOLUTE:"ABSOLUTE",RELATIVE:"RELATIVE",CDN:"CDN"};n.utils.getPluginPathType=function(t){var i,u,r;if(typeof t=="string")return(t=t.split("?")[0],i=t.indexOf("://"),i>0)?n.utils.pluginPathType.ABSOLUTE:(u=t.indexOf("/"),r=n.utils.extension(t),i<0&&u<0&&(!r||!isNaN(r)))?n.utils.pluginPathType.CDN:n.utils.pluginPathType.RELATIVE};n.utils.mapEmpty=function(n){for(var t in n)return!1;return!0};n.utils.mapLength=function(n){var t=0;for(var i in n)t++;return t};n.utils.log=function(n,t){typeof console!="undefined"&&typeof console.log!="undefined"&&(t?console.log(n,t):console.log(n))};n.utils.css=function(t,i){if(n.utils.exists(t))for(var r in i)try{if(typeof i[r]=="undefined")continue;else if(typeof i[r]=="number"&&!(r=="zIndex"||r=="opacity")){if(isNaN(i[r]))continue;i[r]=r.match(/color/i)?"#"+n.utils.strings.pad(i[r].toString(16),6):Math.ceil(i[r])+"px"}t.style[r]=i[r]}catch(u){}};n.utils.isYouTube=function(n){return n.indexOf("youtube.com")>-1||n.indexOf("youtu.be")>-1};n.utils.transform=function(t,i,r,u,f){if(n.utils.exists(i)||(i=1),n.utils.exists(r)||(r=1),n.utils.exists(u)||(u=0),n.utils.exists(f)||(f=0),i==1&&r==1&&u==0&&f==0)t.style.webkitTransform="",t.style.MozTransform="",t.style.OTransform="";else{var e="scale("+i+","+r+") translate("+u+"px,"+f+"px)";t.style.webkitTransform=e;t.style.MozTransform=e;t.style.OTransform=e}};n.utils.stretch=function(t,i,r,u,f,e){var l,a;if(typeof r!="undefined"&&typeof u!="undefined"&&typeof f!="undefined"&&typeof e!="undefined"){var s=r/f,h=u/e,c=!1,o={};i.parentElement&&(i.parentElement.style.overflow="hidden");n.utils.transform(i);switch(t.toUpperCase()){case n.utils.stretching.NONE:o.width=f;o.height=e;o.top=(u-o.height)/2;o.left=(r-o.width)/2;break;case n.utils.stretching.UNIFORM:s>h?(o.width=f*h,o.height=e*h,o.width/r>.95&&(c=!0,s=Math.ceil(100*r/o.width)/100,h=1,o.width=r)):(o.width=f*s,o.height=e*s,o.height/u>.95&&(c=!0,s=1,h=Math.ceil(100*u/o.height)/100,o.height=u));o.top=(u-o.height)/2;o.left=(r-o.width)/2;break;case n.utils.stretching.FILL:s>h?(o.width=f*s,o.height=e*s):(o.width=f*h,o.height=e*h);o.top=(u-o.height)/2;o.left=(r-o.width)/2;break;case n.utils.stretching.EXACTFIT:o.width=f;o.height=e;l=Math.round(f/2*(1-1/s));a=Math.round(e/2*(1-1/h));c=!0;o.top=o.left=0}c&&n.utils.transform(i,s,h,l,a);n.utils.css(i,o)}};n.utils.stretching={NONE:"NONE",FILL:"FILL",UNIFORM:"UNIFORM",EXACTFIT:"EXACTFIT"};n.utils.deepReplaceKeyName=function(t,i,r){var f,o,s,e,u;switch(n.utils.typeOf(t)){case"array":for(u=0;u<t.length;u++)t[u]=n.utils.deepReplaceKeyName(t[u],i,r);break;case"object":for(f in t){if(i instanceof Array&&r instanceof Array)if(i.length!=r.length)continue;else o=i,s=r;else o=[i],s=[r];for(e=f,u=0;u<o.length;u++)e=e.replace(new RegExp(i[u],"g"),r[u]);t[e]=n.utils.deepReplaceKeyName(t[f],i,r);f!=e&&delete t[f]}}return t};n.utils.isInArray=function(n,t){if(!n||!(n instanceof Array))return!1;for(var i=0;i<n.length;i++)if(t===n[i])return!0;return!1};n.utils.exists=function(n){switch(typeof n){case"string":return n.length>0;case"object":return n!==null;case"undefined":return!1}return!0};n.utils.empty=function(n){if(typeof n.hasChildNodes=="function")while(n.hasChildNodes())n.removeChild(n.firstChild)};n.utils.parseDimension=function(n){return typeof n=="string"?n===""?0:n.lastIndexOf("%")>-1?n:parseInt(n.replace("px",""),10):n};n.utils.getDimensions=function(t){return t&&t.style?{x:n.utils.parseDimension(t.style.left),y:n.utils.parseDimension(t.style.top),width:n.utils.parseDimension(t.style.width),height:n.utils.parseDimension(t.style.height)}:{}};n.utils.getElementWidth=function(t){return t?t==document.body?n.utils.parentNode(t).clientWidth:t.clientWidth>0?t.clientWidth:t.style?n.utils.parseDimension(t.style.width):null:null};n.utils.getElementHeight=function(t){return t?t==document.body?n.utils.parentNode(t).clientHeight:t.clientHeight>0?t.clientHeight:t.style?n.utils.parseDimension(t.style.height):null:null};n.utils.timeFormat=function(n){return str="00:00",n>0&&(str=(Math.floor(n/60)<10?"0"+Math.floor(n/60)+":":Math.floor(n/60)+":")+(Math.floor(n%60)<10?"0"+Math.floor(n%60):Math.floor(n%60))),str};n.utils.useNativeFullscreen=function(){return navigator&&navigator.vendor&&navigator.vendor.indexOf("Apple")==0};n.utils.parentNode=function(n){return n?n.parentNode?n.parentNode:n.parentElement?n.parentElement:n:document.body};n.utils.getBoundingClientRect=function(n){return typeof n.getBoundingClientRect=="function"?n.getBoundingClientRect():{left:n.offsetLeft+document.body.scrollLeft,top:n.offsetTop+document.body.scrollTop,width:n.offsetWidth,height:n.offsetHeight}};n.utils.translateEventResponse=function(t,i){var r=n.utils.extend({},i),u,f;t!=n.api.events.JWPLAYER_FULLSCREEN||r.fullscreen?typeof r.data=="object"?(r=n.utils.extend(r,r.data),delete r.data):typeof r.metadata=="object"&&n.utils.deepReplaceKeyName(r.metadata,["__dot__","__spc__","__dsh__"],["."," ","-"]):(r.fullscreen=r.message=="true"?!0:!1,delete r.message);u=["position","duration","offset"];for(f in u)r[u[f]]&&(r[u[f]]=Math.round(r[u[f]]*1e3)/1e3);return r};n.utils.saveCookie=function(n,t){document.cookie="jwplayer."+n+"="+t+"; path=/"};n.utils.getCookies=function(){for(var n,i={},r=document.cookie.split("; "),t=0;t<r.length;t++)n=r[t].split("="),n[0].indexOf("jwplayer.")==0&&(i[n[0].substring(9,n[0].length)]=n[1]);return i};n.utils.readCookie=function(t){return n.utils.getCookies()[t]}}(jwplayer),function(n){n.events=function(){};n.events.COMPLETE="COMPLETE";n.events.ERROR="ERROR"}(jwplayer),function(n){n.events.eventdispatcher=function(t){var u=t,i,r;this.resetEventListeners=function(){i={};r=[]};this.resetEventListeners();this.addEventListener=function(t,r,u){try{n.utils.exists(i[t])||(i[t]=[]);typeof r=="string"&&eval("listener = "+r);i[t].push({listener:r,count:u})}catch(f){n.utils.log("error",f)}return!1};this.removeEventListener=function(t,r){if(i[t]){try{for(var u=0;u<i[t].length;u++)if(i[t][u].listener.toString()==r.toString()){i[t].splice(u,1);break}}catch(f){n.utils.log("error",f)}return!1}};this.addGlobalListener=function(t,i){try{typeof t=="string"&&eval("listener = "+t);r.push({listener:t,count:i})}catch(u){n.utils.log("error",u)}return!1};this.removeGlobalListener=function(t){if(t){try{for(var i=0;i<r.length;i++)if(r[i].listener.toString()==t.toString()){r.splice(i,1);break}}catch(u){n.utils.log("error",u)}return!1}};this.sendEvent=function(t,f){var e,o;if(n.utils.exists(f)||(f={}),u&&n.utils.log(t,f),typeof i[t]!="undefined")for(e=0;e<i[t].length;e++){try{i[t][e].listener(f)}catch(s){n.utils.log("There was an error while handling a listener: "+s.toString(),i[t][e].listener)}i[t][e]&&(i[t][e].count===1?delete i[t][e]:i[t][e].count>0&&(i[t][e].count=i[t][e].count-1))}for(o=0;o<r.length;o++){try{r[o].listener(f)}catch(s){n.utils.log("There was an error while handling a listener: "+s.toString(),r[o].listener)}r[o]&&(r[o].count===1?delete r[o]:r[o].count>0&&(r[o].count=r[o].count-1))}}}}(jwplayer),function(n){var t={};n.utils.animations=function(){};n.utils.animations.transform=function(n,t){n.style.webkitTransform=t;n.style.MozTransform=t;n.style.OTransform=t;n.style.msTransform=t};n.utils.animations.transformOrigin=function(n,t){n.style.webkitTransformOrigin=t;n.style.MozTransformOrigin=t;n.style.OTransformOrigin=t;n.style.msTransformOrigin=t};n.utils.animations.rotate=function(t,i){n.utils.animations.transform(t,["rotate(",i,"deg)"].join(""))};n.utils.cancelAnimation=function(n){delete t[n.id]};n.utils.fadeTo=function(i,r,u,f,e,o){var h,c,l,s;if((t[i.id]==o||!n.utils.exists(o))&&i.style.opacity!=r){if(h=(new Date).getTime(),o>h&&setTimeout(function(){n.utils.fadeTo(i,r,u,f,0,o)},o-h),i.style.display=="none"&&(i.style.display="block"),n.utils.exists(f)||(f=i.style.opacity===""?1:i.style.opacity),i.style.opacity==r&&i.style.opacity!==""&&n.utils.exists(o)){r===0&&(i.style.display="none");return}if(n.utils.exists(o)||(o=h,t[i.id]=o),n.utils.exists(e)||(e=0),c=u>0?(h-o)/(u*1e3):0,c=c>1?1:c,l=r-f,s=f+c*l,s>1?s=1:s<0&&(s=0),i.style.opacity=s,e>0){t[i.id]=o+e*1e3;n.utils.fadeTo(i,r,u,f,0,t[i.id]);return}setTimeout(function(){n.utils.fadeTo(i,r,u,f,0,o)},10)}}}(jwplayer),function(n){n.utils.arrays=function(){};n.utils.arrays.indexOf=function(n,t){for(var i=0;i<n.length;i++)if(n[i]==t)return i;return-1};n.utils.arrays.remove=function(t,i){var r=n.utils.arrays.indexOf(t,i);r>-1&&t.splice(r,1)}}(jwplayer),function(n){n.utils.extensionmap={"3gp":{html5:"video/3gpp",flash:"video"},"3gpp":{html5:"video/3gpp"},"3g2":{html5:"video/3gpp2",flash:"video"},"3gpp2":{html5:"video/3gpp2"},flv:{flash:"video"},f4a:{html5:"audio/mp4"},f4b:{html5:"audio/mp4",flash:"video"},f4v:{html5:"video/mp4",flash:"video"},mov:{html5:"video/quicktime",flash:"video"},m4a:{html5:"audio/mp4",flash:"video"},m4b:{html5:"audio/mp4"},m4p:{html5:"audio/mp4"},m4v:{html5:"video/mp4",flash:"video"},mp4:{html5:"video/mp4",flash:"video"},rbs:{flash:"sound"},aac:{html5:"audio/aac",flash:"video"},mp3:{html5:"audio/mp3",flash:"sound"},ogg:{html5:"audio/ogg"},oga:{html5:"audio/ogg"},ogv:{html5:"video/ogg"},webm:{html5:"video/webm"},m3u8:{html5:"audio/x-mpegurl"},gif:{flash:"image"},jpeg:{flash:"image"},jpg:{flash:"image"},swf:{flash:"image"},png:{flash:"image"},wav:{html5:"audio/x-wav"}}}(jwplayer),function(n){function i(t,i){return n.utils.exists(i)?n.utils.extend(i,f[t]):i=f[t],i}function r(r,u){var e,o,s,f;if(t[r.tagName.toLowerCase()]&&!n.utils.exists(u))return t[r.tagName.toLowerCase()](r);u=i("element",u);e={};for(o in u)o!="length"&&(s=r.getAttribute(o),n.utils.exists(s)&&(e[u[o]]=s));return f=r.style["#background-color"],!f||f=="transparent"||f=="rgba(0, 0, 0, 0)"||(e.screencolor=f),e}function u(t,u){var o,s,h,f;u=i("media",u);o=[];s=n.utils.selectors("source",t);for(h in s)isNaN(h)||o.push(e(s[h]));return f=r(t,u),n.utils.exists(f.file)&&(o[0]={file:f.file}),f.levels=o,f}function e(n,t){t=i("source",t);var u=r(n,t);return u.width=u.width?u.width:0,u.bitrate=u.bitrate?u.bitrate:0,u}function o(n,t){t=i("video",t);return u(n,t)}n.utils.mediaparser=function(){};var f={element:{width:"width",height:"height",id:"id","class":"className",name:"name"},media:{src:"file",preload:"preload",autoplay:"autostart",loop:"repeat",controls:"controls"},source:{src:"file",type:"type",media:"media","data-jw-width":"width","data-jw-bitrate":"bitrate"},video:{poster:"image"}},t={};n.utils.mediaparser.parseMedia=function(n){return r(n)};t.media=u;t.audio=u;t.source=e;t.video=o}(jwplayer),function(n){n.utils.loaderstatus={NEW:"NEW",LOADING:"LOADING",ERROR:"ERROR",COMPLETE:"COMPLETE"};n.utils.scriptloader=function(t){var i=n.utils.loaderstatus.NEW,r=new n.events.eventdispatcher;n.utils.extend(this,r);this.load=function(){if(i==n.utils.loaderstatus.NEW){i=n.utils.loaderstatus.LOADING;var u=document.createElement("script");u.onload=function(){i=n.utils.loaderstatus.COMPLETE;r.sendEvent(n.events.COMPLETE)};u.onerror=function(){i=n.utils.loaderstatus.ERROR;r.sendEvent(n.events.ERROR)};u.onreadystatechange=function(){(u.readyState=="loaded"||u.readyState=="complete")&&(i=n.utils.loaderstatus.COMPLETE,r.sendEvent(n.events.COMPLETE))};document.getElementsByTagName("head")[0].appendChild(u);u.src=t}};this.getStatus=function(){return i}}}(jwplayer),function(n){n.utils.selectors=function(t,i){var r,u;return n.utils.exists(i)||(i=document),t=n.utils.strings.trim(t),r=t.charAt(0),r=="#"?i.getElementById(t.substr(1)):r=="."?i.getElementsByClassName?i.getElementsByClassName(t.substr(1)):n.utils.selectors.getElementsByTagAndClass("*",t.substr(1)):t.indexOf(".")>0?(u=t.split("."),n.utils.selectors.getElementsByTagAndClass(u[0],u[1])):i.getElementsByTagName(t)};n.utils.selectors.getElementsByTagAndClass=function(t,i,r){var s=[],f,u,o,e;for(n.utils.exists(r)||(r=document),f=r.getElementsByTagName(t),u=0;u<f.length;u++)if(n.utils.exists(f[u].className))for(o=f[u].className.split(" "),e=0;e<o.length;e++)o[e]==i&&s.push(f[u]);return s}}(jwplayer),function(n){n.utils.strings=function(){};n.utils.strings.trim=function(n){return n.replace(/^\s*/,"").replace(/\s*$/,"")};n.utils.strings.pad=function(n,t,i){for(i||(i="0");n.length<t;)n=i+n;return n};n.utils.strings.serialize=function(n){return n==null?null:n=="true"?!0:n=="false"?!1:isNaN(Number(n))||n.length>5||n.length==0?n:Number(n)};n.utils.strings.seconds=function(n){n=n.replace(",",".");var t=n.split(":"),i=0;return n.substr(-1)=="s"?i=Number(n.substr(0,n.length-1)):n.substr(-1)=="m"?i=Number(n.substr(0,n.length-1))*60:n.substr(-1)=="h"?i=Number(n.substr(0,n.length-1))*3600:t.length>1?(i=Number(t[t.length-1]),i+=Number(t[t.length-2])*60,t.length==3&&(i+=Number(t[t.length-3])*3600)):i=Number(n),i};n.utils.strings.xmlAttribute=function(n,t){for(var i=0;i<n.attributes.length;i++)if(n.attributes[i].name&&n.attributes[i].name.toLowerCase()==t.toLowerCase())return n.attributes[i].value.toString();return""};n.utils.strings.jsonToString=function(t){var u=u||{},f,r,e,o,i;if(u&&u.stringify)return u.stringify(t);if(f=typeof t,f!="object"||t===null)if(f=="string")t='"'+t.replace(/"/g,'\\"')+'"';else return String(t);else{r=[];e=t&&t.constructor==Array;for(o in t){i=t[o];switch(typeof i){case"string":i='"'+i.replace(/"/g,'\\"')+'"';break;case"object":n.utils.exists(i)&&(i=n.utils.strings.jsonToString(i))}e?typeof i!="function"&&r.push(String(i)):typeof i!="function"&&r.push('"'+o+'":'+String(i))}return e?"["+String(r)+"]":"{"+String(r)+"}"}}}(jwplayer),function(n){function i(n){if(["true","false","t","f"].toString().indexOf(n.toLowerCase().replace(" ",""))>=0)return"boolean";if(t.test(n))return"color";if(isNaN(parseInt(n,10))||parseInt(n,10).toString().length!=n.length){if(!isNaN(parseFloat(n))&&parseFloat(n).toString().length==n.length)return"float"}else return"integer";return"string"}function r(t,i){if(!n.utils.exists(i))return t;switch(i){case"color":return t.length>0?u(t):null;case"integer":return parseInt(t,10);case"float":return parseFloat(t);case"boolean":return t.toLowerCase()=="true"?!0:t=="1"?!0:!1}return t}function u(n){switch(n.toLowerCase()){case"blue":return parseInt("0000FF",16);case"green":return parseInt("00FF00",16);case"red":return parseInt("FF0000",16);case"cyan":return parseInt("00FFFF",16);case"magenta":return parseInt("FF00FF",16);case"yellow":return parseInt("FFFF00",16);case"black":return parseInt("000000",16);case"white":return parseInt("FFFFFF",16);default:return n=n.replace(/(#|0x)?([0-9A-F]{3,6})$/gi,"$2"),n.length==3&&(n=n.charAt(0)+n.charAt(0)+n.charAt(1)+n.charAt(1)+n.charAt(2)+n.charAt(2)),parseInt(n,16)}return parseInt("000000",16)}var t=new RegExp(/^(#|0x)[0-9a-fA-F]{3,6}/);n.utils.typechecker=function(t,u){return u=n.utils.exists(u)?u:i(t),r(t,u)}}(jwplayer),function(n){n.utils.parsers=function(){};n.utils.parsers.localName=function(n){return n?n.localName?n.localName:n.baseName?n.baseName:"":""};n.utils.parsers.textContent=function(n){return n?n.textContent?n.textContent:n.text?n.text:"":""}}(jwplayer),function(n){n.utils.parsers.jwparser=function(){};n.utils.parsers.jwparser.PREFIX="jwplayer";n.utils.parsers.jwparser.parseEntry=function(t,i){for(var r=0;r<t.childNodes.length;r++)t.childNodes[r].prefix==n.utils.parsers.jwparser.PREFIX&&(i[n.utils.parsers.localName(t.childNodes[r])]=n.utils.strings.serialize(n.utils.parsers.textContent(t.childNodes[r])),n.utils.parsers.localName(t.childNodes[r])=="file"&&i.levels&&delete i.levels),!i.file&&String(i.link).toLowerCase().indexOf("youtube")>-1&&(i.file=i.link);return i};n.utils.parsers.jwparser.getProvider=function(t){if(t.type)return t.type;if(t.file.indexOf("youtube.com/w")>-1||t.file.indexOf("youtube.com/v")>-1||t.file.indexOf("youtu.be/")>-1)return"youtube";if(t.streamer&&t.streamer.indexOf("rtmp")==0)return"rtmp";if(t.streamer&&t.streamer.indexOf("http")==0)return"http";var i=n.utils.strings.extension(t.file);return extensions.hasOwnProperty(i)?extensions[i]:""}}(jwplayer),function(n){n.utils.parsers.mediaparser=function(){};n.utils.parsers.mediaparser.PREFIX="media";n.utils.parsers.mediaparser.parseGroup=function(t,i){for(var u,f=!1,r=0;r<t.childNodes.length;r++)if(t.childNodes[r].prefix==n.utils.parsers.mediaparser.PREFIX){if(!n.utils.parsers.localName(t.childNodes[r]))continue;switch(n.utils.parsers.localName(t.childNodes[r]).toLowerCase()){case"content":f||(i.file=n.utils.strings.xmlAttribute(t.childNodes[r],"url"));n.utils.strings.xmlAttribute(t.childNodes[r],"duration")&&(i.duration=n.utils.strings.seconds(n.utils.strings.xmlAttribute(t.childNodes[r],"duration")));n.utils.strings.xmlAttribute(t.childNodes[r],"start")&&(i.start=n.utils.strings.seconds(n.utils.strings.xmlAttribute(t.childNodes[r],"start")));t.childNodes[r].childNodes&&t.childNodes[r].childNodes.length>0&&(i=n.utils.parsers.mediaparser.parseGroup(t.childNodes[r],i));(n.utils.strings.xmlAttribute(t.childNodes[r],"width")||n.utils.strings.xmlAttribute(t.childNodes[r],"bitrate")||n.utils.strings.xmlAttribute(t.childNodes[r],"url"))&&(i.levels||(i.levels=[]),i.levels.push({width:n.utils.strings.xmlAttribute(t.childNodes[r],"width"),bitrate:n.utils.strings.xmlAttribute(t.childNodes[r],"bitrate"),file:n.utils.strings.xmlAttribute(t.childNodes[r],"url")}));break;case"title":i.title=n.utils.parsers.textContent(t.childNodes[r]);break;case"description":i.description=n.utils.parsers.textContent(t.childNodes[r]);break;case"keywords":i.tags=n.utils.parsers.textContent(t.childNodes[r]);break;case"thumbnail":i.image=n.utils.strings.xmlAttribute(t.childNodes[r],"url");break;case"credit":i.author=n.utils.parsers.textContent(t.childNodes[r]);break;case"player":u=t.childNodes[r].url;(u.indexOf("youtube.com")>=0||u.indexOf("youtu.be")>=0)&&(f=!0,i.file=n.utils.strings.xmlAttribute(t.childNodes[r],"url"));break;case"group":n.utils.parsers.mediaparser.parseGroup(t.childNodes[r],i)}}return i}}(jwplayer),function(n){function t(t){for(var i={},r=0;r<t.childNodes.length;r++)if(n.utils.parsers.localName(t.childNodes[r]))switch(n.utils.parsers.localName(t.childNodes[r]).toLowerCase()){case"enclosure":i.file=n.utils.strings.xmlAttribute(t.childNodes[r],"url");break;case"title":i.title=n.utils.parsers.textContent(t.childNodes[r]);break;case"pubdate":i.date=n.utils.parsers.textContent(t.childNodes[r]);break;case"description":i.description=n.utils.parsers.textContent(t.childNodes[r]);break;case"link":i.link=n.utils.parsers.textContent(t.childNodes[r]);break;case"category":i.tags?i.tags+=n.utils.parsers.textContent(t.childNodes[r]):i.tags=n.utils.parsers.textContent(t.childNodes[r])}return i=n.utils.parsers.mediaparser.parseGroup(t,i),i=n.utils.parsers.jwparser.parseEntry(t,i),new n.html5.playlistitem(i)}n.utils.parsers.rssparser=function(){};n.utils.parsers.rssparser.parse=function(i){for(var u,f=[],r=0;r<i.childNodes.length;r++)if(n.utils.parsers.localName(i.childNodes[r]).toLowerCase()=="channel")for(u=0;u<i.childNodes[r].childNodes.length;u++)n.utils.parsers.localName(i.childNodes[r].childNodes[u]).toLowerCase()=="item"&&f.push(t(i.childNodes[r].childNodes[u]));return f}}(jwplayer),function(n){var i={},t={};n.plugins=function(){};n.plugins.loadPlugins=function(r,u){return t[r]=new n.plugins.pluginloader(new n.plugins.model(i),u),t[r]};n.plugins.registerPlugin=function(r,u,f){var e=n.utils.getPluginName(r),o;if(i[e])i[e].registerPlugin(r,u,f);else{n.utils.log("A plugin ("+r+") was registered with the player that was not loaded. Please check your configuration.");for(o in t)t[o].pluginFailed()}}}(jwplayer),function(n){n.plugins.model=function(t){this.addPlugin=function(i){var r=n.utils.getPluginName(i);return t[r]||(t[r]=new n.plugins.plugin(i)),t[r]}}}(jwplayer),function(n){n.plugins.pluginmodes={FLASH:"FLASH",JAVASCRIPT:"JAVASCRIPT",HYBRID:"HYBRID"};n.plugins.plugin=function(t){function s(){switch(n.utils.getPluginPathType(t)){case n.utils.pluginPathType.ABSOLUTE:return t;case n.utils.pluginPathType.RELATIVE:return n.utils.getAbsolutePath(t,window.location.href);case n.utils.pluginPathType.CDN:var i=n.utils.getPluginName(t),r=n.utils.getPluginVersion(t),u=window.location.href.indexOf("https://")==0?o.replace("http://","https://secure"):o;return u+"/"+n.version.split(".")[0]+"/"+i+"/"+i+(r!==""?"-"+r:"")+".js"}}function h(){e=setTimeout(function(){r=n.utils.loaderstatus.COMPLETE;f.sendEvent(n.events.COMPLETE)},1e3)}function c(){r=n.utils.loaderstatus.ERROR;f.sendEvent(n.events.ERROR)}var o="http://plugins.longtailvideo.com",r=n.utils.loaderstatus.NEW,i,u,e,f=new n.events.eventdispatcher;n.utils.extend(this,f);this.load=function(){if(r==n.utils.loaderstatus.NEW){if(t.lastIndexOf(".swf")>0){i=t;r=n.utils.loaderstatus.COMPLETE;f.sendEvent(n.events.COMPLETE);return}r=n.utils.loaderstatus.LOADING;var u=new n.utils.scriptloader(s());u.addEventListener(n.events.COMPLETE,h);u.addEventListener(n.events.ERROR,c);u.load()}};this.registerPlugin=function(t,o,s){e&&(clearTimeout(e),e=undefined);o&&s?(i=s,u=o):typeof o=="string"?i=o:typeof o=="function"?u=o:o||s||(i=t);r=n.utils.loaderstatus.COMPLETE;f.sendEvent(n.events.COMPLETE)};this.getStatus=function(){return r};this.getPluginName=function(){return n.utils.getPluginName(t)};this.getFlashPath=function(){if(i)switch(n.utils.getPluginPathType(i)){case n.utils.pluginPathType.ABSOLUTE:return i;case n.utils.pluginPathType.RELATIVE:return t.lastIndexOf(".swf")>0?n.utils.getAbsolutePath(i,window.location.href):n.utils.getAbsolutePath(i,s());case n.utils.pluginPathType.CDN:return i.indexOf("-")>-1?i+"h":i+"-h"}return null};this.getJS=function(){return u};this.getPluginmode=function(){return typeof i!="undefined"&&typeof u!="undefined"?n.plugins.pluginmodes.HYBRID:typeof i!="undefined"?n.plugins.pluginmodes.FLASH:typeof u!="undefined"?n.plugins.pluginmodes.JAVASCRIPT:void 0};this.getNewInstance=function(n,t,i){return new u(n,t,i)};this.getURL=function(){return t}}}(jwplayer),function(n){n.plugins.pluginloader=function(t,i){function h(){f||(f=!0,u=n.utils.loaderstatus.COMPLETE,s.sendEvent(n.events.COMPLETE))}function e(){var t,i;if(!f){t=0;for(plugin in r)i=r[plugin].getStatus(),(i==n.utils.loaderstatus.LOADING||i==n.utils.loaderstatus.NEW)&&t++;t==0&&h()}}var r={},u=n.utils.loaderstatus.NEW,o=!1,f=!1,s=new n.events.eventdispatcher;n.utils.extend(this,s);this.setupPlugins=function(n,t,i){var s={length:0,plugins:{}},f={length:0,plugins:{}},u,o,e;for(u in r)if(o=r[u].getPluginName(),r[u].getFlashPath()&&(s.plugins[r[u].getFlashPath()]=t.plugins[u],s.plugins[r[u].getFlashPath()].pluginmode=r[u].getPluginmode(),s.length++),r[u].getJS()&&(e=document.createElement("div"),e.id=n.id+"_"+o,e.style.position="absolute",e.style.zIndex=f.length+10,f.plugins[o]=r[u].getNewInstance(n,t.plugins[u],e),f.length++,typeof f.plugins[o].resize!="undefined")){n.onReady(i(f.plugins[o],e,!0));n.onResize(i(f.plugins[o],e))}return n.plugins=f.plugins,s};this.load=function(){u=n.utils.loaderstatus.LOADING;o=!0;for(var f in i)n.utils.exists(f)&&(r[f]=t.addPlugin(f),r[f].addEventListener(n.events.COMPLETE,e),r[f].addEventListener(n.events.ERROR,e));for(f in r)r[f].load();o=!1;e()};this.pluginFailed=function(){h()};this.getStatus=function(){return u}}}(jwplayer),function(n){var t=[];n.api=function(t){function v(n,t){return function(r,u,e,o){if(n.renderingMode=="flash"||n.renderingMode=="html5"){var s;u?(f[r]=u,s="jwplayer('"+n.id+"').callback('"+r+"')"):!u&&f[r]&&delete f[r];i.jwDockSetButton(r,s,e,o)}return t}}function a(t){s=[];n.utils.getOuterHTML(t.container)!=l&&n.api.destroyPlayer(t.id,l)}function y(n){return function(t){var u=t.newstate,f=t.oldstate,i,r;if(u==n&&(i=e[u],i))for(r=0;r<i.length;r++)typeof i[r]=="function"&&i[r].call(this,{oldstate:f,newstate:u})}}function p(n,t){return function(i){var r,f;if(n==i.component&&(r=u[n][t],r))for(f=0;f<r.length;f++)typeof r[f]=="function"&&r[f].call(this,i)}}this.container=t;this.id=t.id;var r={},e={},u={},i=undefined,o=!1,s=[],h=undefined,l=n.utils.getOuterHTML(t),c={},f={};return this.getBuffer=function(){return this.callInternal("jwGetBuffer")},this.getContainer=function(){return this.container},this.getPlugin=function(t){var r=this,i={};return t=="dock"?n.utils.extend(i,{setButton:v(r,i),show:function(){return r.callInternal("jwDockShow"),i},hide:function(){return r.callInternal("jwDockHide"),i},onShow:function(t){return r.componentListener("dock",n.api.events.JWPLAYER_COMPONENT_SHOW,t),i},onHide:function(t){return r.componentListener("dock",n.api.events.JWPLAYER_COMPONENT_HIDE,t),i}}):t=="controlbar"?n.utils.extend(i,{show:function(){return r.callInternal("jwControlbarShow"),i},hide:function(){return r.callInternal("jwControlbarHide"),i},onShow:function(t){return r.componentListener("controlbar",n.api.events.JWPLAYER_COMPONENT_SHOW,t),i},onHide:function(t){return r.componentListener("controlbar",n.api.events.JWPLAYER_COMPONENT_HIDE,t),i}}):t=="display"?n.utils.extend(i,{show:function(){return r.callInternal("jwDisplayShow"),i},hide:function(){return r.callInternal("jwDisplayHide"),i},onShow:function(t){return r.componentListener("display",n.api.events.JWPLAYER_COMPONENT_SHOW,t),i},onHide:function(t){return r.componentListener("display",n.api.events.JWPLAYER_COMPONENT_HIDE,t),i}}):this.plugins[t]},this.callback=function(n){if(f[n])return f[n]()},this.getDuration=function(){return this.callInternal("jwGetDuration")},this.getFullscreen=function(){return this.callInternal("jwGetFullscreen")},this.getHeight=function(){return this.callInternal("jwGetHeight")},this.getLockState=function(){return this.callInternal("jwGetLockState")},this.getMeta=function(){return this.getItemMeta()},this.getMute=function(){return this.callInternal("jwGetMute")},this.getPlaylist=function(){var i=this.callInternal("jwGetPlaylist"),t;for(this.renderingMode=="flash"&&n.utils.deepReplaceKeyName(i,["__dot__","__spc__","__dsh__"],["."," ","-"]),t=0;t<i.length;t++)n.utils.exists(i[t].index)||(i[t].index=t);return i},this.getPlaylistItem=function(t){return n.utils.exists(t)||(t=this.getCurrentItem()),this.getPlaylist()[t]},this.getPosition=function(){return this.callInternal("jwGetPosition")},this.getRenderingMode=function(){return this.renderingMode},this.getState=function(){return this.callInternal("jwGetState")},this.getVolume=function(){return this.callInternal("jwGetVolume")},this.getWidth=function(){return this.callInternal("jwGetWidth")},this.setFullscreen=function(t){return n.utils.exists(t)?this.callInternal("jwSetFullscreen",t):this.callInternal("jwSetFullscreen",!this.callInternal("jwGetFullscreen")),this},this.setMute=function(t){return n.utils.exists(t)?this.callInternal("jwSetMute",t):this.callInternal("jwSetMute",!this.callInternal("jwGetMute")),this},this.lock=function(){return this},this.unlock=function(){return this},this.load=function(n){return this.callInternal("jwLoad",n),this},this.playlistItem=function(n){return this.callInternal("jwPlaylistItem",n),this},this.playlistPrev=function(){return this.callInternal("jwPlaylistPrev"),this},this.playlistNext=function(){return this.callInternal("jwPlaylistNext"),this},this.resize=function(n,t){if(this.renderingMode=="html5")i.jwResize(n,t);else{this.container.width=n;this.container.height=t;var r=document.getElementById(this.id+"_wrapper");r&&(r.style.width=n+"px",r.style.height=t+"px")}return this},this.play=function(t){return typeof t=="undefined"?(t=this.getState(),t==n.api.events.state.PLAYING||t==n.api.events.state.BUFFERING?this.callInternal("jwPause"):this.callInternal("jwPlay")):this.callInternal("jwPlay",t),this},this.pause=function(t){return typeof t=="undefined"?(t=this.getState(),t==n.api.events.state.PLAYING||t==n.api.events.state.BUFFERING?this.callInternal("jwPause"):this.callInternal("jwPlay")):this.callInternal("jwPause",t),this},this.stop=function(){return this.callInternal("jwStop"),this},this.seek=function(n){return this.callInternal("jwSeek",n),this},this.setVolume=function(n){return this.callInternal("jwSetVolume",n),this},this.loadInstream=function(t,r){return h=new n.api.instream(this,i,t,r)},this.onBufferChange=function(t){return this.eventListener(n.api.events.JWPLAYER_MEDIA_BUFFER,t)},this.onBufferFull=function(t){return this.eventListener(n.api.events.JWPLAYER_MEDIA_BUFFER_FULL,t)},this.onError=function(t){return this.eventListener(n.api.events.JWPLAYER_ERROR,t)},this.onFullscreen=function(t){return this.eventListener(n.api.events.JWPLAYER_FULLSCREEN,t)},this.onMeta=function(t){return this.eventListener(n.api.events.JWPLAYER_MEDIA_META,t)},this.onMute=function(t){return this.eventListener(n.api.events.JWPLAYER_MEDIA_MUTE,t)},this.onPlaylist=function(t){return this.eventListener(n.api.events.JWPLAYER_PLAYLIST_LOADED,t)},this.onPlaylistItem=function(t){return this.eventListener(n.api.events.JWPLAYER_PLAYLIST_ITEM,t)},this.onReady=function(t){return this.eventListener(n.api.events.API_READY,t)},this.onResize=function(t){return this.eventListener(n.api.events.JWPLAYER_RESIZE,t)},this.onComplete=function(t){return this.eventListener(n.api.events.JWPLAYER_MEDIA_COMPLETE,t)},this.onSeek=function(t){return this.eventListener(n.api.events.JWPLAYER_MEDIA_SEEK,t)},this.onTime=function(t){return this.eventListener(n.api.events.JWPLAYER_MEDIA_TIME,t)},this.onVolume=function(t){return this.eventListener(n.api.events.JWPLAYER_MEDIA_VOLUME,t)},this.onBeforePlay=function(t){return this.eventListener(n.api.events.JWPLAYER_MEDIA_BEFOREPLAY,t)},this.onBeforeComplete=function(t){return this.eventListener(n.api.events.JWPLAYER_MEDIA_BEFORECOMPLETE,t)},this.onBuffer=function(t){return this.stateListener(n.api.events.state.BUFFERING,t)},this.onPause=function(t){return this.stateListener(n.api.events.state.PAUSED,t)},this.onPlay=function(t){return this.stateListener(n.api.events.state.PLAYING,t)},this.onIdle=function(t){return this.stateListener(n.api.events.state.IDLE,t)},this.remove=function(){if(!o)throw"Cannot call remove() before player is ready";a(this)},this.setup=function(t){var r,i;return n.embed?(r=this.id,a(this),i=n(r),i.config=t,new n.embed(i)):this},this.registerPlugin=function(t,i,r){n.plugins.registerPlugin(t,i,r)},this.setPlayer=function(n,t){i=n;this.renderingMode=t},this.stateListener=function(t,i){return e[t]||(e[t]=[],this.eventListener(n.api.events.JWPLAYER_PLAYER_STATE,y(t))),e[t].push(i),this},this.detachMedia=function(){if(this.renderingMode=="html5")return this.callInternal("jwDetachMedia")},this.attachMedia=function(){if(this.renderingMode=="html5")return this.callInternal("jwAttachMedia")},this.componentListener=function(n,t,i){return u[n]||(u[n]={}),u[n][t]||(u[n][t]=[],this.eventListener(t,p(n,t))),u[n][t].push(i),this},this.addInternalListener=function(t,i){try{t.jwAddEventListener(i,'function(dat) { jwplayer("'+this.id+'").dispatchEvent("'+i+'", dat); }')}catch(r){n.utils.log("Could not add internal listener")}},this.eventListener=function(n,t){return r[n]||(r[n]=[],i&&o&&this.addInternalListener(i,n)),r[n].push(t),this},this.dispatchEvent=function(n){var i,t;if(r[n])for(i=_utils.translateEventResponse(n,arguments[1]),t=0;t<r[n].length;t++)typeof r[n][t]=="function"&&r[n][t].call(this,i)},this.dispatchInstreamEvent=function(n){h&&h.dispatchEvent(n,arguments)},this.callInternal=function(){var t,n,r;if(o){for(t=arguments[0],n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);return typeof i!="undefined"&&typeof i[t]=="function"?n.length==2?i[t](n[0],n[1]):n.length==1?i[t](n[0]):i[t]():null}s.push(arguments)},this.playerReady=function(t){o=!0;i||this.setPlayer(document.getElementById(t.id));this.container=document.getElementById(this.id);for(var u in r)this.addInternalListener(i,u);for(this.eventListener(n.api.events.JWPLAYER_PLAYLIST_ITEM,function(){c={}}),this.eventListener(n.api.events.JWPLAYER_MEDIA_META,function(t){n.utils.extend(c,t.metadata)}),this.dispatchEvent(n.api.events.API_READY);s.length>0;)this.callInternal.apply(this,s.shift())},this.getItemMeta=function(){return c},this.getCurrentItem=function(){return this.callInternal("jwGetPlaylistIndex")},this};n.api.selectPlayer=function(t){var i,r;return(n.utils.exists(t)||(t=0),t.nodeType?i=t:typeof t=="string"&&(i=document.getElementById(t)),i)?(r=n.api.playerById(i.id),r?r:n.api.addPlayer(new n.api(i))):typeof t=="number"?n.getPlayers()[t]:null};n.api.events={API_READY:"jwplayerAPIReady",JWPLAYER_READY:"jwplayerReady",JWPLAYER_FULLSCREEN:"jwplayerFullscreen",JWPLAYER_RESIZE:"jwplayerResize",JWPLAYER_ERROR:"jwplayerError",JWPLAYER_MEDIA_BEFOREPLAY:"jwplayerMediaBeforePlay",JWPLAYER_MEDIA_BEFORECOMPLETE:"jwplayerMediaBeforeComplete",JWPLAYER_COMPONENT_SHOW:"jwplayerComponentShow",JWPLAYER_COMPONENT_HIDE:"jwplayerComponentHide",JWPLAYER_MEDIA_BUFFER:"jwplayerMediaBuffer",JWPLAYER_MEDIA_BUFFER_FULL:"jwplayerMediaBufferFull",JWPLAYER_MEDIA_ERROR:"jwplayerMediaError",JWPLAYER_MEDIA_LOADED:"jwplayerMediaLoaded",JWPLAYER_MEDIA_COMPLETE:"jwplayerMediaComplete",JWPLAYER_MEDIA_SEEK:"jwplayerMediaSeek",JWPLAYER_MEDIA_TIME:"jwplayerMediaTime",JWPLAYER_MEDIA_VOLUME:"jwplayerMediaVolume",JWPLAYER_MEDIA_META:"jwplayerMediaMeta",JWPLAYER_MEDIA_MUTE:"jwplayerMediaMute",JWPLAYER_PLAYER_STATE:"jwplayerPlayerState",JWPLAYER_PLAYLIST_LOADED:"jwplayerPlaylistLoaded",JWPLAYER_PLAYLIST_ITEM:"jwplayerPlaylistItem",JWPLAYER_INSTREAM_CLICK:"jwplayerInstreamClicked",JWPLAYER_INSTREAM_DESTROYED:"jwplayerInstreamDestroyed"};n.api.events.state={BUFFERING:"BUFFERING",IDLE:"IDLE",PAUSED:"PAUSED",PLAYING:"PLAYING"};n.api.playerById=function(n){for(var i=0;i<t.length;i++)if(t[i].id==n)return t[i];return null};n.api.addPlayer=function(n){for(var i=0;i<t.length;i++)if(t[i]==n)return n;return t.push(n),n};n.api.destroyPlayer=function(i,r){for(var u,o,s,f=-1,e=0;e<t.length;e++)if(t[e].id==i){f=e;continue}if(f>=0){try{t[f].callInternal("jwDestroy")}catch(h){}u=document.getElementById(t[f].id);document.getElementById(t[f].id+"_wrapper")&&(u=document.getElementById(t[f].id+"_wrapper"));u&&(r?n.utils.setOuterHTML(u,r):(o=document.createElement("div"),s=u.id,u.id.indexOf("_wrapper")==u.id.length-8&&(newID=u.id.substring(0,u.id.length-8)),o.setAttribute("id",s),u.parentNode.replaceChild(o,u)));t.splice(f,1)}return null};n.getPlayers=function(){return t.slice(0)}}(jwplayer),_userPlayerReady=typeof playerReady=="function"?playerReady:undefined,playerReady=function(n){var t=jwplayer.api.playerById(n.id);t?t.playerReady(n):jwplayer.api.selectPlayer(n.id).playerReady(n);_userPlayerReady&&_userPlayerReady.call(this,n)},function(n){n.api.instream=function(t,i,r,u){function l(){c.callInternal("jwLoadInstream",r,u)}function a(n,t){e.jwInstreamAddEventListener(t,'function(dat) { jwplayer("'+c.id+'").dispatchInstreamEvent("'+t+'", dat); }')}function f(n,t){return o[n]||(o[n]=[],a(e,n)),o[n].push(t),this}function h(t,i){return s[t]||(s[t]=[],f(n.api.events.JWPLAYER_PLAYER_STATE,v(t))),s[t].push(i),this}function v(n){return function(t){var u=t.newstate,f=t.oldstate,i,r;if(u==n&&(i=s[u],i))for(r=0;r<i.length;r++)typeof i[r]=="function"&&i[r].call(this,{oldstate:f,newstate:u,type:t.type})}}var c=t,e=i,y=r,p=u,o={},s={};this.dispatchEvent=function(n,t){var r,i;if(o[n])for(r=_utils.translateEventResponse(n,t[1]),i=0;i<o[n].length;i++)typeof o[n][i]=="function"&&o[n][i].call(this,r)};this.onError=function(t){return f(n.api.events.JWPLAYER_ERROR,t)};this.onFullscreen=function(t){return f(n.api.events.JWPLAYER_FULLSCREEN,t)};this.onMeta=function(t){return f(n.api.events.JWPLAYER_MEDIA_META,t)};this.onMute=function(t){return f(n.api.events.JWPLAYER_MEDIA_MUTE,t)};this.onComplete=function(t){return f(n.api.events.JWPLAYER_MEDIA_COMPLETE,t)};this.onSeek=function(t){return f(n.api.events.JWPLAYER_MEDIA_SEEK,t)};this.onTime=function(t){return f(n.api.events.JWPLAYER_MEDIA_TIME,t)};this.onVolume=function(t){return f(n.api.events.JWPLAYER_MEDIA_VOLUME,t)};this.onBuffer=function(t){return h(n.api.events.state.BUFFERING,t)};this.onPause=function(t){return h(n.api.events.state.PAUSED,t)};this.onPlay=function(t){return h(n.api.events.state.PLAYING,t)};this.onIdle=function(t){return h(n.api.events.state.IDLE,t)};this.onInstreamClick=function(t){return f(n.api.events.JWPLAYER_INSTREAM_CLICK,t)};this.onInstreamDestroyed=function(t){return f(n.api.events.JWPLAYER_INSTREAM_DESTROYED,t)};this.play=function(n){e.jwInstreamPlay(n)};this.pause=function(n){e.jwInstreamPause(n)};this.seek=function(n){e.jwInstreamSeek(n)};this.destroy=function(){e.jwInstreamDestroy()};this.getState=function(){return e.jwInstreamGetState()};this.getDuration=function(){return e.jwInstreamGetDuration()};this.getPosition=function(){return e.jwInstreamGetPosition()};l()}}(jwplayer),function(n){function i(){var f,r,u;if(!document.body)return setTimeout(i,15);for(f=t.selectors.getElementsByTagAndClass("video","jwplayer"),r=0;r<f.length;r++)u=f[r],u.id==""&&(u.id="jwplayer_"+Math.round(Math.random()*1e5)),n(u.id).setup({})}var t=n.utils;n.embed=function(i){function o(n,t){for(var i in t)typeof n[i]=="function"&&n[i].call(n,t[i])}function f(){var f,e,s,h,c,y,l,a,v;if(u.getStatus()==t.loaderstatus.COMPLETE){for(f=0;f<r.modes.length;f++)if(r.modes[f].type&&n.embed[r.modes[f].type]){if(e=r.modes[f].config,s=r,e)for(s=t.extend(t.clone(r),e),h=["file","levels","playlist"],c=0;c<h.length;c++)if(y=h[c],t.exists(e[y]))for(l=0;l<h.length;l++)l!=c&&(a=h[l],t.exists(s[a])&&!t.exists(e[a])&&delete s[a]);if(v=new n.embed[r.modes[f].type](document.getElementById(i.id),r.modes[f],s,u,i),v.supportsConfig())return v.embed(),o(i,r.events),i}t.log("No suitable players found");new n.embed.logo(t.extend({hide:!0},r.components.logo),"none",i.id)}}var e=t.mediaparser.parseMedia(i.container),r=new n.embed.config(t.extend({width:400,height:300,components:{controlbar:{position:"over"}}},e,i.config),this),u=n.plugins.loadPlugins(i.id,r.plugins);return u.addEventListener(n.events.COMPLETE,f),u.addEventListener(n.events.ERROR,f),u.load(),i};i()}(jwplayer),function(n){function i(n){var i=[{type:"flash",src:n?n:"/jwplayer/player.swf"},{type:"html5"},{type:"download"}];return t.isAndroid()&&(i[0]=i.splice(1,1,i[0])[0]),i}function o(n){return n instanceof Array||typeof n=="object"&&!n.position&&!n.size}function e(n){return typeof n=="string"&&(parseInt(n).toString()==n||n.toLowerCase().indexOf("px")>-1)?parseInt(n):n}function s(n){var u={},f,r,i;switch(t.typeOf(n.plugins)){case"object":for(f in n.plugins)u[t.getPluginName(f)]=f;break;case"string":for(r=n.plugins.split(","),i=0;i<r.length;i++)u[t.getPluginName(r[i])]=r[i]}return u}function f(n,i,r,u){var f,e;t.typeOf(n[i])!="object"&&(n[i]={});f=n[i][r];t.typeOf(f)!="object"&&(n[i][r]=f={});u&&(i=="plugins"?(e=t.getPluginName(r),f[u]=n[e+"."+u],delete n[e+"."+u]):(f[u]=n[r+"."+u],delete n[r+"."+u]))}var t=n.utils,r={players:"modes",autoplay:"autostart"},u=["playlist","dock","controlbar","logo","display"];n.embed.deserialize=function(n){var r=s(n),o,i;for(o in r)f(n,"plugins",r[o]);for(i in n)if(i.indexOf(".")>-1){var h=i.split("."),e=h[0],i=h[1];t.isInArray(u,e)?f(n,"components",e,i):r[e]&&f(n,"plugins",r[e],i)}return n};n.embed.config=function(f){var s=t.extend({},f),w,v,c,y,p,h,l,a;if(o(s.playlist)&&(w=s.playlist,delete s.playlist),s=n.embed.deserialize(s),s.height=e(s.height),s.width=e(s.width),typeof s.plugins=="string")for(v=s.plugins.split(","),typeof s.plugins!="object"&&(s.plugins={}),c=0;c<v.length;c++)y=t.getPluginName(v[c]),typeof s[y]=="object"?(s.plugins[v[c]]=s[y],delete s[y]):s.plugins[v[c]]={};for(p=0;p<u.length;p++)h=u[p],t.exists(s[h])&&(typeof s[h]!="object"?(s.components[h]||(s.components[h]={}),h=="logo"?s.components[h].file=s[h]:s.components[h].position=s[h],delete s[h]):(s.components[h]||(s.components[h]={}),t.extend(s.components[h],s[h]),delete s[h])),typeof s[h+"size"]!="undefined"&&(s.components[h]||(s.components[h]={}),s.components[h].size=s[h+"size"],delete s[h+"size"]);typeof s.icons!="undefined"&&(s.components.display||(s.components.display={}),s.components.display.icons=s.icons,delete s.icons);for(l in r)s[l]&&(s[r[l]]||(s[r[l]]=s[l]),delete s[l]);return s.flashplayer&&!s.modes?(a=i(s.flashplayer),delete s.flashplayer):s.modes?(typeof s.modes=="string"?a=i(s.modes):s.modes instanceof Array?a=s.modes:typeof s.modes=="object"&&s.modes.type&&(a=[s.modes]),delete s.modes):a=i(),s.modes=a,w&&(s.playlist=w),s}}(jwplayer),function(n){n.embed.download=function(t,i,r,u,f){function e(t,i,r){var f,u;return r?!1:(f=["image","sound","youtube","http"],i&&f.toString().indexOf(i)>-1)?!0:(!i||i&&i=="video")&&(u=n.utils.extension(t),u&&n.utils.extensionmap[u])?!0:!1}this.embed=function(){function v(){_imageWidth=i.display_image.naturalWidth;_imageHeight=i.display_image.naturalHeight;y()}function y(){n.utils.stretch(n.utils.stretching.UNIFORM,i.display_image,o,e,_imageWidth,_imageHeight)}var w=n.utils.extend({},r),i={},o=r.width?r.width:480,e,s,h,c,u,a,l,p;typeof o!="number"&&(o=parseInt(o,10));e=r.height?r.height:320;typeof e!="number"&&(e=parseInt(e,10));u={};r.playlist&&r.playlist.length?(u.file=r.playlist[0].file,h=r.playlist[0].image,u.levels=r.playlist[0].levels):(u.file=r.file,h=r.image,u.levels=r.levels);u.file?s=u.file:u.levels&&u.levels.length&&(s=u.levels[0].file);c=s?"pointer":"auto";a={display:{style:{cursor:c,width:o,height:e,backgroundColor:"#000",position:"relative",textDecoration:"none",border:"none",display:"block"}},display_icon:{style:{cursor:c,position:"absolute",display:s?"block":"none",top:0,left:0,border:0,margin:0,padding:0,zIndex:3,width:50,height:50,backgroundImage:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAALdJREFUeNrs18ENgjAYhmFouDOCcQJGcARHgE10BDcgTOIosAGwQOuPwaQeuFRi2p/3Sb6EC5L3QCxZBgAAAOCorLW1zMn65TrlkH4NcV7QNcUQt7Gn7KIhxA+qNIR81spOGkL8oFJDyLJRdosqKDDkK+iX5+d7huzwM40xptMQMkjIOeRGo+VkEVvIPfTGIpKASfYIfT9iCHkHrBEzf4gcUQ56aEzuGK/mw0rHpy4AAACAf3kJMACBxjAQNRckhwAAAABJRU5ErkJggg==)"}},display_iconBackground:{style:{cursor:c,position:"absolute",display:s?"block":"none",top:(e-50)/2,left:(o-50)/2,border:0,width:50,height:50,margin:0,padding:0,zIndex:2,backgroundImage:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAEpJREFUeNrszwENADAIA7DhX8ENoBMZ5KR10EryckCJiIiIiIiIiIiIiIiIiIiIiIh8GmkRERERERERERERERERERERERGRHSPAAPlXH1phYpYaAAAAAElFTkSuQmCC)"}},display_image:{style:{width:o,height:e,display:h?"block":"none",position:"absolute",cursor:c,left:0,top:0,margin:0,padding:0,textDecoration:"none",zIndex:1,border:"none"}}};l=function(i,r,u){var f=document.createElement(i);return f.id=u?u:t.id+"_jwplayer_"+r,n.utils.css(f,a[r].style),f};i.display=l("a","display",t.id);s&&i.display.setAttribute("href",n.utils.getAbsolutePath(s));i.display_image=l("img","display_image");i.display_image.setAttribute("alt","Click to download...");h&&i.display_image.setAttribute("src",n.utils.getAbsolutePath(h));!0&&(i.display_icon=l("div","display_icon"),i.display_iconBackground=l("div","display_iconBackground"),i.display.appendChild(i.display_image),i.display_iconBackground.appendChild(i.display_icon),i.display.appendChild(i.display_iconBackground));_css=n.utils.css;_hide=function(n){_css(n,{display:"none"})};i.display_image.onerror=function(){_hide(i.display_image)};i.display_image.onload=v;t.parentNode.replaceChild(i.display,t);p=r.plugins&&r.plugins.logo?r.plugins.logo:{};i.display.appendChild(new n.embed.logo(r.components.logo,"download",t.id));f.container=document.getElementById(f.id);f.setPlayer(i.display,"download")};this.supportsConfig=function(){var t,i;if(r){if(t=n.utils.getFirstPlaylistItemFromConfig(r),typeof t.file=="undefined"&&typeof t.levels=="undefined")return!0;if(t.file)return e(t.file,t.provider,t.playlistfile);if(t.levels&&t.levels.length)for(i=0;i<t.levels.length;i++)if(t.levels[i].file&&e(t.levels[i].file,t.provider,t.playlistfile))return!0}else return!0}}}(jwplayer),function(n){n.embed.flash=function(t,i,r,u,f){function e(n,t,i){var r=document.createElement("param");r.setAttribute("name",t);r.setAttribute("value",i);n.appendChild(r)}function h(t,i,r){return function(){var u,e;r&&document.getElementById(f.id+"_wrapper").appendChild(i);u=document.getElementById(f.id).getPluginConfig("display");t.resize(u.width,u.height);e={left:u.x,top:u.y};n.utils.css(i,e)}}function o(n,t){var f,i,r,u;if(n[t]){f=n[t];for(i in f)if(r=f[i],typeof r=="string")n[i]||(n[i]=r);else for(u in r)n[i+"."+u]||(n[i+"."+u]=r[u]);delete n[t]}}function c(t){var i,u,r,o,f,e;if(!t)return{};i={};u=[];for(r in t){o=n.utils.getPluginName(r);f=t[r];u.push(r);for(e in f)i[o+"."+e]=f[e]}return i.plugins=u.join(","),i}function s(t){var r=t.netstreambasepath?"":"netstreambasepath="+encodeURIComponent(window.location.href.split("#")[0])+"&";for(var i in t)r+=typeof t[i]=="object"?i+"="+encodeURIComponent("[[JSON]]"+n.utils.strings.jsonToString(t[i]))+"&":i+"="+encodeURIComponent(t[i])+"&";return r.substring(0,r.length-1)}this.embed=function(){var d,g,p,w,nt,b,tt,k,v,a;r.id=f.id;var y,l=n.utils.extend({},r),it=l.width,rt=l.height;for(t.id+"_wrapper"==t.parentNode.id?y=document.getElementById(t.id+"_wrapper"):(y=document.createElement("div"),y.id=t.id+"_wrapper",n.utils.wrap(t,y),n.utils.css(y,{position:"relative",width:it,height:rt})),d=u.setupPlugins(f,l,h),d.length>0?n.utils.extend(l,c(d.plugins)):delete l.plugins,g=["height","width","modes","events"],p=0;p<g.length;p++)delete l[g[p]];w="opaque";l.wmode&&(w=l.wmode);o(l,"components");o(l,"providers");typeof l["dock.position"]!="undefined"&&l["dock.position"].toString().toLowerCase()=="false"&&(l.dock=l["dock.position"],delete l["dock.position"]);nt=n.utils.getCookies();for(b in nt)typeof l[b]=="undefined"&&(l[b]=nt[b]);tt="#000000";n.utils.isIE()?(v='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" bgcolor="'+tt+'" width="100%" height="100%" id="'+t.id+'" name="'+t.id+'" tabindex=0"">',v+='<param name="movie" value="'+i.src+'">',v+='<param name="allowfullscreen" value="true">',v+='<param name="allowscriptaccess" value="always">',v+='<param name="seamlesstabbing" value="true">',v+='<param name="wmode" value="'+w+'">',v+='<param name="flashvars" value="'+s(l)+'">',v+="<\/object>",n.utils.setOuterHTML(t,v),k=document.getElementById(t.id)):(a=document.createElement("object"),a.setAttribute("type","application/x-shockwave-flash"),a.setAttribute("data",i.src),a.setAttribute("width","100%"),a.setAttribute("height","100%"),a.setAttribute("bgcolor","#000000"),a.setAttribute("id",t.id),a.setAttribute("name",t.id),a.setAttribute("tabindex",0),e(a,"allowfullscreen","true"),e(a,"allowscriptaccess","always"),e(a,"seamlesstabbing","true"),e(a,"wmode",w),e(a,"flashvars",s(l)),t.parentNode.replaceChild(a,t),k=a);f.container=k;f.setPlayer(k,"flash")};this.supportsConfig=function(){var t,i;if(n.utils.hasFlash())if(r){if(t=n.utils.getFirstPlaylistItemFromConfig(r),typeof t.file=="undefined"&&typeof t.levels=="undefined")return!0;if(t.file)return flashCanPlay(t.file,t.provider);if(t.levels&&t.levels.length)for(i=0;i<t.levels.length;i++)if(t.levels[i].file&&flashCanPlay(t.levels[i].file,t.provider))return!0}else return!0;return!1};flashCanPlay=function(t,i){var r;return i&&["video","http","sound","image"].toString().indexOf(i)<0?!0:(r=n.utils.extension(t),!r)?!0:n.utils.exists(n.utils.extensionmap[r])&&!n.utils.exists(n.utils.extensionmap[r].flash)?!1:!0}}}(jwplayer),function(n){n.embed.html5=function(t,i,r,u,f){function e(n,i,r){return function(){var u=document.getElementById(t.id+"_displayarea");r&&u.appendChild(i);n.resize(u.clientWidth,u.clientHeight);i.left=u.style.left;i.top=u.style.top}}this.embed=function(){var i,s,o,h;if(n.html5){for(u.setupPlugins(f,r,e),t.innerHTML="",i=n.utils.extend({screencolor:"0x000000"},r),s=["plugins","modes","events"],o=0;o<s.length;o++)delete i[s[o]];i.levels&&!i.sources&&(i.sources=r.levels);i.skin&&i.skin.toLowerCase().indexOf(".zip")>0&&(i.skin=i.skin.replace(/\.zip/i,".xml"));h=new(n.html5(t).setup)(i);f.container=document.getElementById(f.id);f.setPlayer(h,"html5")}else return null};this.supportsConfig=function(){var t,i;if(!!n.vid.canPlayType)if(r){if(t=n.utils.getFirstPlaylistItemFromConfig(r),typeof t.file=="undefined"&&typeof t.levels=="undefined")return!0;if(t.file)return html5CanPlay(n.vid,t.file,t.provider,t.playlistfile);if(t.levels&&t.levels.length)for(i=0;i<t.levels.length;i++)if(t.levels[i].file&&html5CanPlay(n.vid,t.levels[i].file,t.provider,t.playlistfile))return!0}else return!0;return!1};html5CanPlay=function(t,i,r,u){if(u)return!1;if(r&&r=="youtube")return!0;if(r&&r!="video"&&r!="http"&&r!="sound"||navigator.userAgent.match(/BlackBerry/i)!==null)return!1;var f=n.utils.extension(i);return!n.utils.exists(f)||!n.utils.exists(n.utils.extensionmap[f])?!0:n.utils.exists(n.utils.extensionmap[f].html5)?n.utils.isLegacyAndroid()&&f.match(/m4v|mp4/)?!0:browserCanPlay(t,n.utils.extensionmap[f].html5):!1};browserCanPlay=function(n,t){return t?n.canPlayType(t)?!0:t=="audio/mp3"&&navigator.userAgent.match(/safari/i)?n.canPlayType("audio/mpeg"):!1:!0}}}(jwplayer),function(n){n.embed.logo=function(t,i,r){function s(){h();l();a()}function h(){if(e.prefix){var t=n.version.split(/\W/).splice(0,2).join("/");e.prefix.indexOf(t)<0&&(e.prefix+=t+"/")}u=n.utils.extend({},e)}function c(){var n={border:"none",textDecoration:"none",position:"absolute",cursor:"pointer",zIndex:10},t,i;n.display=u.hide?"none":"block";t=u.position.toLowerCase().split("-");for(i in t)n[t[i]]=u.margin;return n}function l(){(f=document.createElement("img"),f.id=r+"_jwplayer_logo",f.style.display="none",f.onload=function(){_css(f,c());o()},u.file)&&(f.src=u.file.indexOf("http://")===0?u.file:u.prefix+u.file)}function a(){u.link?(f.onmouseover=y,f.onmouseout=o,f.onclick=v):this.mouseEnabled=!1}function v(n){typeof n!="undefined"&&(n.preventDefault(),n.stopPropagation());u.link&&window.open(u.link,u.linktarget);return}function o(){u.link&&(f.style.opacity=u.out);return}function y(){u.hide&&(f.style.opacity=u.over);return}var e={prefix:"http://l.longtailvideo.com/"+i+"/",file:"logo.png",link:"http://www.longtailvideo.com/players/jw-flv-player/",linktarget:"_top",margin:8,out:.5,over:1,timeout:5,hide:!1,position:"bottom-left"},f,u;if(_css=n.utils.css,s(),u.file)return f}}(jwplayer),function(n){n.html5=function(t){var i=t;return this.setup=function(t){return n.utils.extend(this,new n.html5.api(i,t)),this},this}}(jwplayer),function(n){var t=n.utils,i=t.css,r=t.isIOS();n.html5.view=function(u,f,e){function at(){function n(){return c.skin.getComponentSettings("display")&&c.skin.getComponentSettings("display").backgroundcolor?c.skin.getComponentSettings("display").backgroundcolor:parseInt("000000",16)}h=document.createElement("div");h.id=l.id;h.className=l.className;_videowrapper=document.createElement("div");_videowrapper.id=h.id+"_video_wrapper";l.id=h.id+"_video";i(h,{position:"relative",height:o.height,width:o.width,padding:0,backgroundColor:n(),zIndex:0});i(l,{width:"100%",height:"100%",top:0,left:0,zIndex:1,margin:"auto",display:"block"});i(_videowrapper,{overflow:"hidden",position:"absolute",top:0,left:0,bottom:0,right:0});t.wrap(l,h);t.wrap(l,_videowrapper);s=document.createElement("div");s.id=h.id+"_displayarea";h.appendChild(s);_instreamArea=document.createElement("div");_instreamArea.id=h.id+"_instreamarea";i(_instreamArea,{overflow:"hidden",position:"absolute",top:0,left:0,bottom:0,right:0,zIndex:100,background:"000000",display:"none"});h.appendChild(_instreamArea)}function vt(){for(var n,i=0;i<o.plugins.order.length;i++)n=o.plugins.order[i],t.exists(o.plugins.object[n].getDisplayElement)&&(o.plugins.object[n].height=t.parseDimension(o.plugins.object[n].getDisplayElement().style.height),o.plugins.object[n].width=t.parseDimension(o.plugins.object[n].getDisplayElement().style.width),o.plugins.config[n].currentPosition=o.plugins.config[n].position);et()}function yt(){rt=o.fullscreen}function pt(t){if(!g){switch(t.newstate){case n.api.events.state.PLAYING:o.getMedia()&&o.getMedia().hasChrome()&&(s.style.display="none");break;default:s.style.display="block"}w()}}function et(){var n=o.getMedia()?o.getMedia().getDisplayElement():null,i,r;if(t.exists(n))for(y!=n&&(y&&y.parentNode&&y.parentNode.replaceChild(n,y),y=n),i=0;i<o.plugins.order.length;i++)r=o.plugins.order[i],t.exists(o.plugins.object[r].getDisplayElement)&&(o.plugins.config[r].currentPosition=o.plugins.config[r].position);p(o.width,o.height)}function wt(t){switch(t.keyCode){case 27:c.jwGetFullscreen()&&c.jwSetFullscreen(!1);break;case 32:c.jwGetState()!=n.api.events.state.IDLE&&c.jwGetState()!=n.api.events.state.PAUSED?c.jwPause():c.jwPlay()}}function p(n,u){var e,p,c,l,g,f,y,b;if(h.style.display!="none"){if(e=[].concat(o.plugins.order),e.reverse(),d=e.length+2,rt&&k())try{o.fullscreen&&!o.getMedia().getDisplayElement().webkitDisplayingFullscreen&&(o.fullscreen=!1)}catch(nt){}if(o.fullscreen)k()||r||it(dt,e,!0);else{a=n;v=u;a=typeof n=="string"&&n.indexOf("%")>0?t.getElementWidth(t.parentNode(h))*parseInt(n.replace("%"),"")/100:n;v=typeof u=="string"&&u.indexOf("%")>0?t.getElementHeight(t.parentNode(h))*parseInt(u.replace("%"),"")/100:u;p={top:0,bottom:0,left:0,right:0,width:a,height:v,position:"absolute"};i(s,p);c={};try{l=o.plugins.object.display.getDisplayElement()}catch(nt){}l&&(c.width=t.parseDimension(l.style.width),c.height=t.parseDimension(l.style.height));g=t.extend({},p,c,{zIndex:_instreamArea.style.zIndex,display:_instreamArea.style.display});i(_instreamArea,g);i(h,{height:v,width:a});f=it(bt,e);f.length>0&&(d+=f.length,y=f.indexOf("playlist"),b=f.indexOf("controlbar"),y>=0&&b>=0&&(f[y]=f.splice(b,1,f[y])[0]),it(kt,f,!0));ut=t.getElementWidth(s);ft=t.getElementHeight(s)}w()}}function it(r,u,f){var c,h,e,s,l,a;for(tt=0,c=[],h=0;h<u.length;h++)e=u[h],t.exists(o.plugins.object[e].getDisplayElement)&&(o.plugins.config[e].currentPosition!=n.html5.view.positions.NONE?(s=r(e,d--),s?(l=s.width,a=s.height,f&&(delete s.width,delete s.height),i(o.plugins.object[e].getDisplayElement(),s),o.plugins.object[e].resize(l,a)):c.push(e)):i(o.plugins.object[e].getDisplayElement(),{display:"none"}));return c}function bt(n,i){if(t.exists(o.plugins.object[n].getDisplayElement)&&o.plugins.config[n].position&&ni(o.plugins.config[n].position)){t.exists(o.plugins.object[n].getDisplayElement().parentNode)||h.appendChild(o.plugins.object[n].getDisplayElement());var r=ot(n);return r.zIndex=i,r}return!1}function kt(n,i){return t.exists(o.plugins.object[n].getDisplayElement().parentNode)||s.appendChild(o.plugins.object[n].getDisplayElement()),{position:"absolute",width:t.getElementWidth(s)-t.parseDimension(s.style.right),height:t.getElementHeight(s)-t.parseDimension(s.style.bottom),zIndex:i}}function dt(n,t){return{position:"fixed",width:o.width,height:o.height,zIndex:t}}function ni(t){return[n.html5.view.positions.TOP,n.html5.view.positions.RIGHT,n.html5.view.positions.BOTTOM,n.html5.view.positions.LEFT].toString().indexOf(t.toUpperCase())>-1}function k(){return c.jwGetState()!=n.api.events.state.IDLE&&!b&&o.getMedia()&&o.getMedia().getDisplayElement()&&o.getMedia().getDisplayElement().webkitSupportsFullscreen&&t.useNativeFullscreen()?!0:!1}var c=u,l=f,o=e,h,a,v,s,d,lt,y,b=!1,rt=!1,ut,ft,g,nt,tt,w,ot,st,ht,ct,gt,ti;this.setup=function(){o&&o.getMedia()&&(l=o.getMedia().getDisplayElement());at();vt();c.jwAddEventListener(n.api.events.JWPLAYER_PLAYER_STATE,pt);c.jwAddEventListener(n.api.events.JWPLAYER_MEDIA_LOADED,et);c.jwAddEventListener(n.api.events.JWPLAYER_MEDIA_BEFOREPLAY,yt);c.jwAddEventListener(n.api.events.JWPLAYER_MEDIA_META,function(){w()});var i;t.exists(window.onresize)&&(i=window.onresize);window.onresize=function(n){if(t.exists(i))try{i(n)}catch(u){}if(c.jwGetFullscreen()){if(!k()){var r=t.getBoundingClientRect(document.body);o.width=Math.abs(r.left)+Math.abs(r.right);o.height=window.innerHeight;p(o.width,o.height)}}else p(o.width,o.height)}};w=this.resizeMedia=function(){var u,f,e;if(s.style.position="absolute",u=o.getMedia()?o.getMedia().getDisplayElement():nt,u)if(u&&u.tagName.toLowerCase()=="video"){if(!u.videoWidth||!u.videoHeight){u.style.width=s.style.width;u.style.height=s.style.height;return}u.style.position="absolute";t.fadeTo(u,1,.25);u.parentNode&&(u.parentNode.style.left=s.style.left,u.parentNode.style.top=s.style.top);o.fullscreen&&c.jwGetStretching()==n.utils.stretching.EXACTFIT&&!t.isMobile()?(f=document.createElement("div"),t.stretch(n.utils.stretching.UNIFORM,f,t.getElementWidth(s),t.getElementHeight(s),ut,ft),t.stretch(n.utils.stretching.EXACTFIT,u,t.parseDimension(f.style.width),t.parseDimension(f.style.height),u.videoWidth?u.videoWidth:400,u.videoHeight?u.videoHeight:300),i(u,{left:f.style.left,top:f.style.top})):r||t.stretch(c.jwGetStretching(),u,t.getElementWidth(s),t.getElementHeight(s),u.videoWidth?u.videoWidth:400,u.videoHeight?u.videoHeight:300)}else e=o.plugins.object.display.getDisplayElement(),e?o.getMedia().resize(t.parseDimension(e.style.width),t.parseDimension(e.style.height)):o.getMedia().resize(t.parseDimension(s.style.width),t.parseDimension(s.style.height))};ot=this.getComponentPosition=function(i){var r={position:"absolute",margin:0,padding:0,top:null},u=o.plugins.config[i].currentPosition.toLowerCase();switch(u.toUpperCase()){case n.html5.view.positions.TOP:r.top=t.parseDimension(s.style.top);r.left=t.parseDimension(s.style.left);r.width=t.getElementWidth(s)-t.parseDimension(s.style.left)-t.parseDimension(s.style.right);r.height=o.plugins.object[i].height;s.style[u]=t.parseDimension(s.style[u])+o.plugins.object[i].height+"px";s.style.height=t.getElementHeight(s)-r.height+"px";break;case n.html5.view.positions.RIGHT:r.top=t.parseDimension(s.style.top);r.right=t.parseDimension(s.style.right);r.width=o.plugins.object[i].width;r.height=t.getElementHeight(s)-t.parseDimension(s.style.top)-t.parseDimension(s.style.bottom);s.style.width=t.getElementWidth(s)-r.width+"px";break;case n.html5.view.positions.BOTTOM:r.left=t.parseDimension(s.style.left);r.width=t.getElementWidth(s)-t.parseDimension(s.style.left)-t.parseDimension(s.style.right);r.height=o.plugins.object[i].height;r.bottom=t.parseDimension(s.style.bottom+tt);tt+=r.height;s.style.height=t.getElementHeight(s)-r.height+"px";break;case n.html5.view.positions.LEFT:r.top=t.parseDimension(s.style.top);r.left=t.parseDimension(s.style.left);r.width=o.plugins.object[i].width;r.height=t.getElementHeight(s)-t.parseDimension(s.style.top)-t.parseDimension(s.style.bottom);s.style[u]=t.parseDimension(s.style[u])+o.plugins.object[i].width+"px";s.style.width=t.getElementWidth(s)-r.width+"px"}return r};this.resize=p;gt=this.fullscreen=function(n){var u,f,e,c;if(!r){try{u=o.getMedia().getDisplayElement()}catch(l){}if(n&&(ht=o.width,ct=o.height),f={position:"fixed",width:"100%",height:"100%",top:0,left:0,zIndex:2147483e3},e={position:"relative",height:ht,width:ct,zIndex:0},k()&&u&&u.webkitSupportsFullscreen){if(n&&!u.webkitDisplayingFullscreen)try{i(u,f);t.transform(u);st=s.style.display;s.style.display="none";u.webkitEnterFullscreen()}catch(y){}else if(!n){if(i(u,e),w(),u.webkitDisplayingFullscreen)try{u.webkitExitFullscreen()}catch(y){}s.style.display=st}b=!1}else n?(document.onkeydown=wt,clearInterval(lt),c=t.getBoundingClientRect(document.body),o.width=Math.abs(c.left)+Math.abs(c.right),o.height=window.innerHeight,i(h,f),f.zIndex=1,o.getMedia()&&o.getMedia().getDisplayElement()&&i(o.getMedia().getDisplayElement(),f),f.zIndex=2,i(s,f),b=!0):(document.onkeydown="",o.width=a,o.height=v,i(h,e),b=!1),p(o.width,o.height)}};this.setupInstream=function(n,i){t.css(_instreamArea,{display:"block",position:"absolute"});s.style.display="none";_instreamArea.appendChild(n);nt=i;g=!0};ti=this.destroyInstream=function(){_instreamArea.style.display="none";_instreamArea.innerHTML="";s.style.display="block";nt=null;g=!1;p(o.width,o.height)}};n.html5.view.positions={TOP:"TOP",RIGHT:"RIGHT",BOTTOM:"BOTTOM",LEFT:"LEFT",OVER:"OVER",NONE:"NONE"}}(jwplayer),function(n){var t={backgroundcolor:"",margin:10,font:"Arial,sans-serif",fontsize:10,fontcolor:parseInt("000000",16),fontstyle:"normal",fontweight:"bold",buttoncolor:parseInt("ffffff",16),position:n.html5.view.positions.BOTTOM,idlehide:!1,hideplaylistcontrols:!1,forcenextprev:!1,layout:{left:{position:"left",elements:[{name:"play",type:"button"},{name:"divider",type:"divider"},{name:"prev",type:"button"},{name:"divider",type:"divider"},{name:"next",type:"button"},{name:"divider",type:"divider"},{name:"elapsed",type:"text"}]},center:{position:"center",elements:[{name:"time",type:"slider"}]},right:{position:"right",elements:[{name:"duration",type:"text"},{name:"blank",type:"button"},{name:"divider",type:"divider"},{name:"mute",type:"button"},{name:"volume",type:"slider"},{name:"divider",type:"divider"},{name:"fullscreen",type:"button"}]}}};_utils=n.utils;_css=_utils.css;_hide=function(n){_css(n,{display:"none"})};_show=function(n){_css(n,{display:"block"})};n.html5.controlbar=function(i,r){function c(){return d||(d=u.skin.getSkinElement("controlbar","background"),d||(d={width:0,height:0,src:null})),d}function ci(){var t,n,i;pt=0;wt=0;yt=0;p||(t={height:c().height,backgroundColor:e.backgroundcolor},o=document.createElement("div"),o.id=u.id+"_jwplayer_controlbar",_css(o,t));n=u.skin.getSkinElement("controlbar","capLeft");i=u.skin.getSkinElement("controlbar","capRight");n&&s("capLeft","left",!1,o);w("background",o,{position:"absolute",height:c().height,left:n?n.width:0,zIndex:0},"img");c().src&&(f.background.src=c().src);w("elements",o,{position:"relative",height:c().height,zIndex:1});i&&s("capRight","right",!1,o)}function ni(){var t=["timeSlider","volumeSlider","timeSliderRail","volumeSliderRail"],i,n;for(i in t)n=t[i],typeof f[n]!="undefined"&&(l[n]=_utils.getBoundingClientRect(f[n]))}function ht(t){if(!v)if(clearTimeout(ut),e.position==n.html5.view.positions.OVER||u.jwGetFullscreen())switch(u.jwGetState()){case n.api.events.state.PAUSED:case n.api.events.state.IDLE:o&&o.style.opacity<1&&(!e.idlehide||_utils.exists(t))&&(st=!1,setTimeout(function(){st||ct()},100));e.idlehide&&(ut=setTimeout(function(){ti()},2e3));break;default:st=!0;t&&ct();ut=setTimeout(function(){ti()},2e3)}else ct()}function ti(){v||(lt(),o.style.opacity==1&&(_utils.cancelAnimation(o),_utils.fadeTo(o,0,.1,1,0)))}function ct(){v||(tt(),o.style.opacity==0&&(_utils.cancelAnimation(o),_utils.fadeTo(o,1,.1,0,0)))}function ii(n){return function(){et&&ft!=n&&(ft=n,gt.sendEvent(n,{component:"controlbar",boundingRect:li()}))}}function li(){return e.position==n.html5.view.positions.OVER||u.jwGetFullscreen()?_utils.getDimensions(o):{x:0,y:0,width:0,height:0}}function w(n,t,i,r){var u;return p?u=document.getElementById(o.id+"_"+n):(r||(r="div"),u=document.createElement(r),f[n]=u,u.id=o.id+"_"+n,t.appendChild(u)),_utils.exists(i)&&_css(u,i),u}function ai(){if(u.jwGetHeight()<=40){e.layout=_utils.clone(e.layout);for(var n=0;n<e.layout.left.elements.length;n++)e.layout.left.elements[n].name=="fullscreen"&&e.layout.left.elements.splice(n,1);for(n=0;n<e.layout.right.elements.length;n++)e.layout.right.elements[n].name=="fullscreen"&&e.layout.right.elements.splice(n,1);oi()}at(e.layout.left);at(e.layout.center);at(e.layout.right)}function at(n,t){var u=n.position=="right"?"right":"left",r=_utils.extend([],n.elements),n,i;for(_utils.exists(t)&&r.reverse(),n=w(n.position+"Group",f.elements,{float:"left",styleFloat:"left",cssFloat:"left",height:"100%"}),i=0;i<r.length;i++)yi(r[i],u,n)}function vi(){return yt++}function yi(n,t,i){var v,o,h,y,l,r,e;if(i||(i=f.elements),n.type=="divider"){s("divider"+vi(),t,!0,i,undefined,n.width,n.element);return}switch(n.name){case"play":s("playButton",t,!1,i);s("pauseButton",t,!0,i);a("playButton","jwPlay");a("pauseButton","jwPause");break;case"prev":s("prevButton",t,!0,i);a("prevButton","jwPlaylistPrev");break;case"stop":s("stopButton",t,!0,i);a("stopButton","jwStop");break;case"next":s("nextButton",t,!0,i);a("nextButton","jwPlaylistNext");break;case"elapsed":s("elapsedText",t,!0,i,null,null,u.skin.getSkinElement("controlbar","elapsedBackground"));break;case"time":o=_utils.exists(u.skin.getSkinElement("controlbar","timeSliderCapLeft"))?u.skin.getSkinElement("controlbar","timeSliderCapLeft").width:0;h=_utils.exists(u.skin.getSkinElement("controlbar","timeSliderCapRight"))?u.skin.getSkinElement("controlbar","timeSliderCapRight").width:0;v=t=="left"?o:h;l={height:c().height,position:"relative",float:"left",styleFloat:"left",cssFloat:"left"};r=w("timeSlider",i,l);s("timeSliderCapLeft",t,!0,r,"relative");s("timeSliderRail",t,!1,r,"relative");s("timeSliderBuffer",t,!1,r,"absolute");s("timeSliderProgress",t,!1,r,"absolute");s("timeSliderThumb",t,!1,r,"absolute");s("timeSliderCapRight",t,!0,r,"relative");ui("time");break;case"fullscreen":s("fullscreenButton",t,!1,i);s("normalscreenButton",t,!0,i);a("fullscreenButton","jwSetFullscreen",!0);a("normalscreenButton","jwSetFullscreen",!1);break;case"volume":o=_utils.exists(u.skin.getSkinElement("controlbar","volumeSliderCapLeft"))?u.skin.getSkinElement("controlbar","volumeSliderCapLeft").width:0;h=_utils.exists(u.skin.getSkinElement("controlbar","volumeSliderCapRight"))?u.skin.getSkinElement("controlbar","volumeSliderCapRight").width:0;v=t=="left"?o:h;y=u.skin.getSkinElement("controlbar","volumeSliderRail").width+o+h;l={height:c().height,position:"relative",width:y,float:"left",styleFloat:"left",cssFloat:"left"};e=w("volumeSlider",i,l);s("volumeSliderCapLeft",t,!1,e,"relative");s("volumeSliderRail",t,!1,e,"relative");s("volumeSliderProgress",t,!1,e,"absolute");s("volumeSliderThumb",t,!1,e,"absolute");s("volumeSliderCapRight",t,!1,e,"relative");ui("volume");break;case"mute":s("muteButton",t,!1,i);s("unmuteButton",t,!0,i);a("muteButton","jwSetMute",!0);a("unmuteButton","jwSetMute",!1);break;case"duration":s("durationText",t,!0,i,null,null,u.skin.getSkinElement("controlbar","durationBackground"))}}function s(n,t,i,r,o,s,h){var l,a,y,v;(_utils.exists(u.skin.getSkinElement("controlbar",n))||n.indexOf("Text")>0||n.indexOf("divider")===0)&&(l={height:"100%",position:o?o:"relative",display:"block",float:"left",styleFloat:"left",cssFloat:"left"},(n.indexOf("next")===0||n.indexOf("prev")===0)&&(u.jwGetPlaylist().length<2||e.hideplaylistcontrols.toString()=="true")&&e.forcenextprev.toString()!="true"&&(i=!1,l.display="none"),n.indexOf("Text")>0?(n.innerhtml="00:00",l.font=e.fontsize+"px/"+(c().height+1)+"px "+e.font,l.color=e.fontcolor,l.textAlign="center",l.fontWeight=e.fontweight,l.fontStyle=e.fontstyle,l.cursor="default",h&&(l.background="url("+h.src+") no-repeat center",l.backgroundSize="100% "+c().height+"px"),l.padding="0 5px"):n.indexOf("divider")===0?s?isNaN(parseInt(s))||(a=parseInt(s)):h?(y=u.skin.getSkinElement("controlbar",h),y&&(l.background="url("+y.src+") repeat-x center left",a=y.width)):(l.background="url("+u.skin.getSkinElement("controlbar","divider").src+") repeat-x center left",a=u.skin.getSkinElement("controlbar","divider").width):(l.background="url("+u.skin.getSkinElement("controlbar",n).src+") repeat-x center left",a=u.skin.getSkinElement("controlbar",n).width),t=="left"?i&&(pt+=a):t=="right"&&i&&(wt+=a),_utils.typeOf(r)=="undefined"&&(r=f.elements),l.width=a,p?_css(f[n],l):(v=w(n,r,l),_utils.exists(u.skin.getSkinElement("controlbar",n+"Over"))&&(v.onmouseover=function(){v.style.backgroundImage=["url(",u.skin.getSkinElement("controlbar",n+"Over").src,")"].join("")},v.onmouseout=function(){v.style.backgroundImage=["url(",u.skin.getSkinElement("controlbar",n).src,")"].join("")}),n.indexOf("divider")==0&&v.setAttribute("class","divider"),v.innerHTML="&nbsp;"))}function pi(){u.jwAddEventListener(n.api.events.JWPLAYER_PLAYLIST_LOADED,wi);u.jwAddEventListener(n.api.events.JWPLAYER_PLAYLIST_ITEM,bi);u.jwAddEventListener(n.api.events.JWPLAYER_MEDIA_BUFFER,g);u.jwAddEventListener(n.api.events.JWPLAYER_PLAYER_STATE,ei);u.jwAddEventListener(n.api.events.JWPLAYER_MEDIA_TIME,b);u.jwAddEventListener(n.api.events.JWPLAYER_MEDIA_MUTE,fi);u.jwAddEventListener(n.api.events.JWPLAYER_MEDIA_VOLUME,si);u.jwAddEventListener(n.api.events.JWPLAYER_MEDIA_COMPLETE,di)}function wi(){e.hideplaylistcontrols||(u.jwGetPlaylist().length>1||e.forcenextprev.toString()=="true"?(_show(f.nextButton),_show(f.prevButton)):(_hide(f.nextButton),_hide(f.prevButton)),vt(),ri())}function bi(n){h=u.jwGetPlaylist()[n.index].duration;rt=-1;b({id:u.id,duration:h,position:0});g({id:u.id,bufferProgress:0})}function ri(){b({id:u.id,duration:u.jwGetDuration(),position:0});g({id:u.id,bufferProgress:0});fi({id:u.id,mute:u.jwGetMute()});ei({id:u.id,newstate:n.api.events.state.IDLE});si({id:u.id,volume:u.jwGetVolume()})}function a(n,t,i){if(!p&&_utils.exists(u.skin.getSkinElement("controlbar",n))){var r=f[n];_utils.exists(r)&&(_css(r,{cursor:"pointer"}),r.onmouseup=t=="fullscreen"?function(n){n.stopPropagation();u.jwSetFullscreen(!u.jwGetFullscreen())}:function(n){n.stopPropagation();_utils.exists(i)?u[t](i):u[t]()})}}function ui(n){if(!p){var t=f[n+"Slider"];_css(f.elements,{cursor:"pointer"});_css(t,{cursor:"pointer"});t.onmousedown=function(){y=n};t.onmouseup=function(n){n.stopPropagation();ki(n.pageX)};t.onmousemove=function(t){if(y=="time"){it=!0;var i=t.pageX-l[n+"Slider"].left-window.pageXOffset;_css(f[y+"SliderThumb"],{left:i})}}}}function ki(t){var f,i,r;it=!1;y=="time"?(f=t-l.timeSliderRail.left+window.pageXOffset,i=f/l.timeSliderRail.width*h,i<0?i=0:i>h&&(i=h-3),(u.jwGetState()==n.api.events.state.PAUSED||u.jwGetState()==n.api.events.state.IDLE)&&u.jwPlay(),u.jwSeek(i)):y=="volume"&&(f=t-l.volumeSliderRail.left-window.pageXOffset,r=Math.round(f/l.volumeSliderRail.width*100),r<10?r=0:r>100&&(r=100),u.jwGetMute()&&u.jwSetMute(!1),u.jwSetVolume(r));y="none"}function g(n){if(_utils.exists(n.bufferPercent)&&(nt=n.bufferPercent),l.timeSliderRail){var t=u.skin.getSkinElement("controlbar","timeSliderCapLeft"),i=l.timeSliderRail.width,r=isNaN(Math.round(i*nt/100))?0:Math.round(i*nt/100);_css(f.timeSliderBuffer,{width:r,left:t?t.width:0})}}function fi(n){n.mute?(_hide(f.muteButton),_show(f.unmuteButton),_hide(f.volumeSliderProgress)):(_show(f.muteButton),_hide(f.unmuteButton),_show(f.volumeSliderProgress))}function ei(t){t.newstate==n.api.events.state.BUFFERING||t.newstate==n.api.events.state.PLAYING?(_show(f.pauseButton),_hide(f.playButton)):(_hide(f.pauseButton),_show(f.playButton));ht();t.newstate==n.api.events.state.IDLE?(_hide(f.timeSliderBuffer),_hide(f.timeSliderProgress),_hide(f.timeSliderThumb),b({id:u.id,duration:u.jwGetDuration(),position:0})):(_show(f.timeSliderBuffer),t.newstate!=n.api.events.state.BUFFERING&&(_show(f.timeSliderProgress),_show(f.timeSliderThumb)))}function di(n){g({bufferPercent:0});b(_utils.extend(n,{position:0,duration:h}))}function b(n){var t,o,i,e;if(_utils.exists(n.position)&&(k=n.position),t=!1,_utils.exists(n.duration)&&n.duration!=h&&(h=n.duration,t=!0),o=k/h,i=l.timeSliderRail,i){var s=isNaN(Math.round(i.width*o))?0:Math.round(i.width*o),r=u.skin.getSkinElement("controlbar","timeSliderCapLeft"),c=s+(r?r.width:0);f.timeSliderProgress&&(_css(f.timeSliderProgress,{width:s,left:r?r.width:0}),it||f.timeSliderThumb&&(f.timeSliderThumb.style.left=c+"px"))}f.durationText&&(f.durationText.innerHTML=_utils.timeFormat(h));f.elapsedText&&(e=_utils.timeFormat(k),f.elapsedText.innerHTML=e,rt!=e.length&&(t=!0,rt=e.length));t&&vt()}function oi(){for(var n,t,e=f.elements.childNodes,r,i,u=0;u<e.length;u++){n=e[u].childNodes;for(t in n)isNaN(parseInt(t,10))||(n[t].id.indexOf(o.id+"_divider")===0&&i&&i.id.indexOf(o.id+"_divider")===0&&n[t].style.backgroundImage==i.style.backgroundImage?n[t].style.display="none":n[t].id.indexOf(o.id+"_divider")===0&&r&&r.style.display!="none"&&(n[t].style.display="block"),n[t].style.display!="none"&&(i=n[t]),r=n[t])}}function gi(){u.jwGetFullscreen()?(_show(f.normalscreenButton),_hide(f.fullscreenButton)):(_hide(f.normalscreenButton),_show(f.fullscreenButton));u.jwGetState()==n.api.events.state.BUFFERING||u.jwGetState()==n.api.events.state.PLAYING?(_show(f.pauseButton),_hide(f.playButton)):(_hide(f.pauseButton),_show(f.playButton));u.jwGetMute()==!0?(_hide(f.muteButton),_show(f.unmuteButton),_hide(f.volumeSliderProgress)):(_show(f.muteButton),_hide(f.unmuteButton),_show(f.volumeSliderProgress))}function vt(){var t,i,r,s;oi();gi();t={width:bt};i={float:"left",styleFloat:"left",cssFloat:"left"};(e.position==n.html5.view.positions.OVER||u.jwGetFullscreen())&&(t.left=e.margin,t.width-=2*e.margin,t.top=kt-c().height-e.margin,t.height=c().height);r=u.skin.getSkinElement("controlbar","capLeft");s=u.skin.getSkinElement("controlbar","capRight");i.width=t.width-(r?r.width:0)-(s?s.width:0);var y=_utils.getBoundingClientRect(f.leftGroup).width,p=_utils.getBoundingClientRect(f.rightGroup).width,l=i.width-y-p-1,h=l,a=u.skin.getSkinElement("controlbar","timeSliderCapLeft"),v=u.skin.getSkinElement("controlbar","timeSliderCapRight");return _utils.exists(a)&&(h-=a.width),_utils.exists(v)&&(h-=v.width),f.timeSlider.style.width=l+"px",f.timeSliderRail.style.width=h+"px",_css(o,t),_css(f.elements,i),_css(f.background,i),ni(),t}function si(n){var t;if(_utils.exists(f.volumeSliderRail)){var r=isNaN(n.volume/100)?1:n.volume/100,i=_utils.parseDimension(f.volumeSliderRail.style.width),e=isNaN(Math.round(i*r))?0:Math.round(i*r),s=_utils.parseDimension(f.volumeSliderRail.style.right),o=_utils.exists(u.skin.getSkinElement("controlbar","volumeSliderCapLeft"))?u.skin.getSkinElement("controlbar","volumeSliderCapLeft").width:0;_css(f.volumeSliderProgress,{width:e,left:o});f.volumeSliderThumb&&(t=e-Math.round(_utils.parseDimension(f.volumeSliderThumb.style.width)/2),t=Math.min(Math.max(t,0),i-_utils.parseDimension(f.volumeSliderThumb.style.width)),_css(f.volumeSliderThumb,{left:t}));_utils.exists(f.volumeSliderCapLeft)&&_css(f.volumeSliderCapLeft,{left:0})}}function hi(){try{var n=u.id.indexOf("_instream")>0?u.id.replace("_instream",""):u.id;dt=document.getElementById(n);dt.addEventListener("mousemove",ht)}catch(t){_utils.log("Could not add mouse listeners to controlbar: "+t)}}function nr(){ci();ai();ni();p=!0;pi();e.idlehide=e.idlehide.toString().toLowerCase()=="true";e.position==n.html5.view.positions.OVER&&e.idlehide?(o.style.opacity=0,et=!0):(o.style.opacity=1,setTimeout(function(){et=!0;tt()},1));hi();ri()}var u,e,st,tt,lt;if(window.controlbar=this,u=i,e=_utils.extend({},t,u.skin.getComponentSettings("controlbar"),r),e.position!=n.html5.view.positions.NONE&&typeof n.html5.view.positions[e.position]!="undefined"){_utils.mapLength(u.skin.getComponentLayout("controlbar"))>0&&(e.layout=u.skin.getComponentLayout("controlbar"));var o,yt,pt,wt,y="none",it,k,h,nt,bt,kt,f={},p=!1,l={},rt=-1,d,v=!1,ut,ft,et=!1,ot=!1,dt,gt=new n.html5.eventdispatcher;return _utils.extend(this,gt),this.getDisplayElement=function(){return o},this.resize=function(n,t){hi();_utils.cancelAnimation(o);bt=n;kt=t;ot!=u.jwGetFullscreen()&&(ot=u.jwGetFullscreen(),ot||ht(),ft=undefined);var i=vt();return b({id:u.id,duration:h,position:k}),g({id:u.id,bufferPercent:nt}),i},this.show=function(){v&&(v=!1,_show(o),tt())},this.hide=function(){v||(v=!0,_hide(o),lt())},tt=ii(n.api.events.JWPLAYER_COMPONENT_SHOW),lt=ii(n.api.events.JWPLAYER_COMPONENT_HIDE),nr(),this}}}(jwplayer),function(n){var t=n.utils;n.html5.controller=function(r,u,f,e){function ct(n){b?s.sendEvent(n.type,n):g.push(n)}function lt(t){var i,r;if(!b){for(b=!0,s.sendEvent(n.api.events.JWPLAYER_READY,t),n.utils.exists(window.playerReady)&&playerReady(t),n.utils.exists(window[f.config.playerReady])&&window[f.config.playerReady](t);g.length>0;)i=g.shift(),s.sendEvent(i.type,i);for(f.config.autostart&&!n.utils.isIOS()&&ft();k.length>0;)r=k.shift(),ot(r.method,r.arguments)}}function a(){try{if(v=a,!l&&(l=!0,s.sendEvent(n.api.events.JWPLAYER_MEDIA_BEFOREPLAY),l=!1,w)){w=!1;v=null;return}return h(o.item),o.playlist[o.item].levels[0].file.length>0&&(d||o.state==n.api.events.state.IDLE?(o.getMedia().load(o.playlist[o.item]),d=!1):o.state==n.api.events.state.PAUSED&&o.getMedia().play()),!0}catch(t){s.sendEvent(n.api.events.JWPLAYER_ERROR,t);v=null}return!1}function at(){try{if(o.playlist[o.item].levels[0].file.length>0)switch(o.state){case n.api.events.state.PLAYING:case n.api.events.state.BUFFERING:o.getMedia()&&o.getMedia().pause();break;default:l&&(w=!0)}return!0}catch(t){s.sendEvent(n.api.events.JWPLAYER_ERROR,t)}return!1}function vt(t){try{if(o.playlist[o.item].levels[0].file.length>0){typeof t!="number"&&(t=parseFloat(t));switch(o.state){case n.api.events.state.IDLE:p<0&&(p=o.playlist[o.item].start,o.playlist[o.item].start=t);l||a();break;case n.api.events.state.PLAYING:case n.api.events.state.PAUSED:case n.api.events.state.BUFFERING:o.seek(t)}}return!0}catch(i){s.sendEvent(n.api.events.JWPLAYER_ERROR,i)}return!1}function y(i){v=null;t.exists(i)||(i=!0);try{return(o.state!=n.api.events.state.IDLE||i)&&o.getMedia()&&o.getMedia().stop(i),l&&(w=!0),!0}catch(r){s.sendEvent(n.api.events.JWPLAYER_ERROR,r)}return!1}function nt(){try{if(o.playlist[o.item].levels[0].file.length>0&&(o.config.shuffle?h(it()):o.item+1==o.playlist.length?h(0):h(o.item+1)),o.state!=n.api.events.state.IDLE){var t=o.state;o.state=n.api.events.state.IDLE;s.sendEvent(n.api.events.JWPLAYER_PLAYER_STATE,{oldstate:t,newstate:n.api.events.state.IDLE})}return a(),!0}catch(i){s.sendEvent(n.api.events.JWPLAYER_ERROR,i)}return!1}function yt(){try{if(o.playlist[o.item].levels[0].file.length>0&&(o.config.shuffle?h(it()):o.item===0?h(o.playlist.length-1):h(o.item-1)),o.state!=n.api.events.state.IDLE){var t=o.state;o.state=n.api.events.state.IDLE;s.sendEvent(n.api.events.JWPLAYER_PLAYER_STATE,{oldstate:t,newstate:n.api.events.state.IDLE})}return a(),!0}catch(i){s.sendEvent(n.api.events.JWPLAYER_ERROR,i)}return!1}function it(){var n=null;if(o.playlist.length>1)while(!t.exists(n))n=Math.floor(Math.random()*o.playlist.length),n==o.item&&(n=null);else n=0;return n}function rt(t){if(!o.playlist||!o.playlist[t])return!1;try{if(o.playlist[t].levels[0].file.length>0){var i=o.state;i!==n.api.events.state.IDLE&&(o.playlist[o.item]&&o.playlist[o.item].provider==o.playlist[t].provider?y(!1):y());h(t);a()}return!0}catch(r){s.sendEvent(n.api.events.JWPLAYER_ERROR,r)}return!1}function h(t){o.playlist[t]&&(o.setActiveMediaProvider(o.playlist[t]),o.item!=t&&(o.item=t,d=!0,s.sendEvent(n.api.events.JWPLAYER_PLAYLIST_ITEM,{index:t})))}function pt(t){try{h(o.item);var i=o.getMedia();switch(typeof t){case"number":i.volume(t);break;case"string":i.volume(parseInt(t,10))}return o.setVolume(t),!0}catch(r){s.sendEvent(n.api.events.JWPLAYER_ERROR,r)}return!1}function wt(t){try{h(o.item);var i=o.getMedia();return typeof t=="undefined"?(i.mute(!o.mute),o.setMute(!o.mute)):t.toString().toLowerCase()=="true"?(i.mute(!0),o.setMute(!0)):(i.mute(!1),o.setMute(!1)),!0}catch(r){s.sendEvent(n.api.events.JWPLAYER_ERROR,r)}return!1}function bt(t,i){try{return o.width=t,o.height=i,tt.resize(t,i),s.sendEvent(n.api.events.JWPLAYER_RESIZE,{width:o.width,height:o.height}),!0}catch(r){s.sendEvent(n.api.events.JWPLAYER_ERROR,r)}return!1}function ut(t,i){try{return typeof t=="undefined"&&(t=!o.fullscreen),typeof i=="undefined"&&(i=!0),t!=o.fullscreen&&(o.fullscreen=t.toString().toLowerCase()=="true",tt.fullscreen(o.fullscreen),i&&s.sendEvent(n.api.events.JWPLAYER_FULLSCREEN,{fullscreen:o.fullscreen}),s.sendEvent(n.api.events.JWPLAYER_RESIZE,{width:o.width,height:o.height})),!0}catch(r){s.sendEvent(n.api.events.JWPLAYER_ERROR,r)}return!1}function kt(i){try{return y(),l&&(w=!1),o.loadPlaylist(i),o.playlist[o.item].provider?(h(o.item),o.config.autostart.toString().toLowerCase()!="true"||t.isIOS()||l||a(),!0):!1}catch(r){s.sendEvent(n.api.events.JWPLAYER_ERROR,r)}return!1}function ft(){t.isIOS()||(h(o.item),o.config.autostart.toString().toLowerCase()!="true"||t.isIOS()||a())}function dt(n){ut(n.fullscreen,!1)}function gt(){try{return o.getMedia().detachMedia()}catch(n){return null}}function ni(){try{var n=o.getMedia().attachMedia();typeof v=="function"&&v()}catch(t){return null}}function et(){if(o.state==n.api.events.state.IDLE){v=et;switch(o.config.repeat.toUpperCase()){case n.html5.controller.repeatoptions.SINGLE:a();break;case n.html5.controller.repeatoptions.ALWAYS:o.item!=o.playlist.length-1||o.config.shuffle?nt():rt(0);break;case n.html5.controller.repeatoptions.LIST:o.item!=o.playlist.length-1||o.config.shuffle?nt():(y(),h(0));break;default:y()}}}function c(n){return function(){b?ot(n,arguments):k.push({method:n,arguments:arguments})}}function ot(n,t){var r=[];for(i=0;i<t.length;i++)r.push(t[i]);n.apply(this,r)}var ti=r,o=f,tt=e,st=u,d=!0,p=-1,l=!1,w=!1,v,g=[],b=!1,ht=t.exists(o.config.debug)&&o.config.debug.toString().toLowerCase()=="console",s=new n.html5.eventdispatcher(st.id,ht),k;t.extend(this,s);o.addGlobalListener(ct);o.addEventListener(n.api.events.JWPLAYER_MEDIA_BUFFER_FULL,function(){o.getMedia().play()});o.addEventListener(n.api.events.JWPLAYER_MEDIA_TIME,function(n){n.position>=o.playlist[o.item].start&&p>=0&&(o.playlist[o.item].start=p,p=-1)});o.addEventListener(n.api.events.JWPLAYER_MEDIA_COMPLETE,function(){setTimeout(et,25)});o.addEventListener(n.api.events.JWPLAYER_PLAYLIST_LOADED,ft);o.addEventListener(n.api.events.JWPLAYER_FULLSCREEN,dt);n.html5.controller.repeatoptions={LIST:"LIST",ALWAYS:"ALWAYS",SINGLE:"SINGLE",NONE:"NONE"};k=[];this.play=c(a);this.pause=c(at);this.seek=c(vt);this.stop=c(y);this.next=c(nt);this.prev=c(yt);this.item=c(rt);this.setVolume=c(pt);this.setMute=c(wt);this.resize=c(bt);this.setFullscreen=c(ut);this.load=c(kt);this.playerReady=lt;this.detachMedia=gt;this.attachMedia=ni;this.beforePlay=function(){return l};this.destroy=function(){o.getMedia()&&o.getMedia().destroy()}}}(jwplayer),function(n){n.html5.defaultSkin=function(){return this.text='<?xml version="1.0" ?><skin author="LongTail Video" name="Five" version="1.1"><components><component name="controlbar"><settings><setting name="margin" value="20"/><setting name="fontsize" value="11"/><setting name="fontcolor" value="0x000000"/><\/settings><layout><group position="left"><button name="play"/><divider name="divider"/><button name="prev"/><divider name="divider"/><button name="next"/><divider name="divider"/><text name="elapsed"/><\/group><group position="center"><slider name="time"/><\/group><group position="right"><text name="duration"/><divider name="divider"/><button name="blank"/><divider name="divider"/><button name="mute"/><slider name="volume"/><divider name="divider"/><button name="fullscreen"/><\/group><\/layout><elements><element name="background" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAIAAABvFaqvAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAElJREFUOI3t1LERACAMQlFgGvcfxNIhHMK4gsUvUviOmgtNsiAZkBSEKxKEnCYkkQrJn/YwbUNiSDDYRZaQRDaShv+oX9GBZEIuK+8hXVLs+/YAAAAASUVORK5CYII="/><element name="blankButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAYCAYAAAAyJzegAAAAFElEQVQYV2P8//8/AzpgHBUc7oIAGZdH0RjKN8EAAAAASUVORK5CYII="/><element name="capLeft" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAYCAYAAAA7zJfaAAAAQElEQVQIWz3LsRGAMADDQJ0XB5bMINABZ9GENGrszxhjT2WLSqxEJG2JQrTMdV2q5LpOAvyRaVmsi7WdeZ/7+AAaOTq7BVrfOQAAAABJRU5ErkJggg=="/><element name="capRight" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAYCAYAAAA7zJfaAAAAQElEQVQIWz3LsRGAMADDQJ0XB5bMINABZ9GENGrszxhjT2WLSqxEJG2JQrTMdV2q5LpOAvyRaVmsi7WdeZ/7+AAaOTq7BVrfOQAAAABJRU5ErkJggg=="/><element name="divider" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAYCAIAAAC0rgCNAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADhJREFUCB0FwcENgEAAw7Aq+893g8APUILNOQcbFRktVGqUVFRkWNz3xTa2sUaLNUosKlRUvvf5AdbWOTtzmzyWAAAAAElFTkSuQmCC"/><element name="playButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAYCAYAAAAVibZIAAAANUlEQVR42u2RsQkAAAjD/NTTPaW6dXLrINJA1kBpGPMAjDWmOgp1HFQXx+b1KOefO4oxY57R73YnVYCQUCQAAAAASUVORK5CYII="/><element name="pauseButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAYCAYAAAAVibZIAAAAIUlEQVQ4jWNgGAWjYOiD/0gYG3/U0FFDB4Oho2AUDAYAAEwiL9HrpdMVAAAAAElFTkSuQmCC"/><element name="prevButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAYCAYAAAAVibZIAAAAQklEQVQ4y2NgGAWjYOiD/1AMA/JAfB5NjCJD/YH4PRaLyDa0H4lNNUP/DxlD59PCUBCIp3ZEwYA+NZLUKBgFgwEAAN+HLX9sB8u8AAAAAElFTkSuQmCC"/><element name="nextButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAYCAYAAAAVibZIAAAAQElEQVQ4y2NgGAWjYOiD/0B8Hojl0cT+U2ooCL8HYn9qGwrD/bQw9P+QMXQ+tSMqnpoRBUpS+tRMUqNgFAwGAADxZy1/mHvFnAAAAABJRU5ErkJggg=="/><element name="timeSliderRail" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAOElEQVRIDe3BwQkAIRADwAhhw/nU/kWwUK+KPITMABFh19Y+F0acY8CJvX9wYpXgRElwolSIiMf9ZWEDhtwurFsAAAAASUVORK5CYII="/><element name="timeSliderBuffer" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAN0lEQVRIDe3BwQkAMQwDMBcc55mRe9zi7RR+FCwBEWG39vcfGHFm4MTuhhMlwYlVBSdKhYh43AW/LQMKm1spzwAAAABJRU5ErkJggg=="/><element name="timeSliderProgress" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAIElEQVRIiWNgGAWjYBTQBfynMR61YCRYMApGwSigMQAAiVWPcbq6UkIAAAAASUVORK5CYII="/><element name="timeSliderThumb" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAYCAYAAAA/OUfnAAAAO0lEQVQYlWP4//8/Awwz0JgDBP/BeN6Cxf/hnI2btiI4u/fsQ3AOHjqK4Jw4eQbBOX/hEoKDYjSd/AMA4cS4mfLsorgAAAAASUVORK5CYII="/><element name="muteButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAYCAYAAADKx8xXAAAAJklEQVQ4y2NgGAUjDcwH4v/kaPxPikZkxcNVI9mBQ5XoGAWDFwAAsKAXKQQmfbUAAAAASUVORK5CYII="/><element name="unmuteButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAYCAYAAADKx8xXAAAAMklEQVQ4y2NgGAWDHPyntub5xBr6Hwv/Pzk2/yfVG/8psRFE25Oq8T+tQnsIaB4FVAcAi2YVysVY52AAAAAASUVORK5CYII="/><element name="volumeSliderRail" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYAgMAAACdGdVrAAAACVBMVEUAAACmpqampqbBXAu8AAAAAnRSTlMAgJsrThgAAAArSURBVAhbY2AgErBAyA4I2QEhOyBkB4TsYOhAoaCCUCUwDTDtMMNgRuMHAFB5FoGH5T0UAAAAAElFTkSuQmCC"/><element name="volumeSliderProgress" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYAgMAAACdGdVrAAAACVBMVEUAAAAAAAAAAACDY+nAAAAAAnRSTlMAgJsrThgAAAArSURBVAhbY2AgErBAyA4I2QEhOyBkB4TsYOhAoaCCUCUwDTDtMMNgRuMHAFB5FoGH5T0UAAAAAElFTkSuQmCC"/><element name="volumeSliderCapRight" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAYCAYAAAAyJzegAAAAFElEQVQYV2P8//8/AzpgHBUc7oIAGZdH0RjKN8EAAAAASUVORK5CYII="/><element name="fullscreenButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAQklEQVRIiWNgGAWjYMiD/0iYFDmSLbDHImdPLQtgBpEiR7Zl2NijAA5oEkT/0Whi5UiyAJ8BVMsHNMtoo2AUDAIAAGdcIN3IDNXoAAAAAElFTkSuQmCC"/><element name="normalscreenButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAP0lEQVRIx2NgGAWjYMiD/1RSQ5QB/wmIUWzJfzx8qhj+n4DYCAY0DyJ7PBbYU8sHMEvwiZFtODXUjIJRMJgBACpWIN2ZxdPTAAAAAElFTkSuQmCC"/><\/elements><\/component><component name="display"><elements><element name="background" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyAQMAAAAk8RryAAAABlBMVEUAAAAAAAClZ7nPAAAAAnRSTlOZpuml+rYAAAASSURBVBhXY2AYJuA/GBwY6jQAyDyoK8QcL4QAAAAASUVORK5CYII="/><element name="playIcon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAiUlEQVR42u3XSw2AMBREURwgAQlIQAISKgUpSEFKJeCg5b0E0kWBTVcD9ySTsL0Jn9IBAAAA+K2UUrBlW/Rr5ZDoIeeuoFkxJD9ss03aIXXQqB9SttoG7ZA6qNcOKdttiwcJh9RB+iFl4SshkRBuLR72+9cvH0SOKI2HRo7x/Fi1/uoCAAAAwLsD8ki99IlO2dQAAAAASUVORK5CYII="/><element name="muteIcon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAVUlEQVR42u3WMQrAIAxAUW/g/SdvGmvpoOBeSHgPsjj5QTANAACARCJilIhYM0tEvJM+Ik3Id9E957kQIb+F3OdCPC0hPkQriqWx9hp/x/QGAABQyAPLB22VGrpLDgAAAABJRU5ErkJggg=="/><element name="errorIcon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAA/0lEQVR42u2U0QmEMBAF7cASLMESUoIlpARLSCkpwRJSgiWkhOvAXD4WsgRkyaG5DbyB+Yvg8KITAAAAAAAYk+u61mwk15EjPtlEfihmqIiZR1Qx80ghjgdUuiHXGHSVsoag0x6x8DUoyjD5KovmEJ9NTDMRPIT0mtdIUkjlonuNohO+Ha99DTmkuGgKCTcvebAzx82ZoCWC3/3aIMWSRucaxcjORSFY4xpFdjYJGp1rFGcyCYZ/RVh6AUnfcNZ2zih3/mGj1jVCdiNDwyrq1rA/xMdeEXvDVdnYc1vDc3uPkDObXrlaxbNHSOohQhr/WOeLEWfWTgAAAAAAADzNF9sHJ7PJ57MlAAAAAElFTkSuQmCC"/><element name="bufferIcon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAACBklEQVR42u3Zv0sCYRzH8USTzOsHHEWGkC1HgaDgkktGDjUYtDQ01RDSljQ1BLU02+rk1NTm2NLq4Nx/0L/h9fnCd3j4cnZe1/U8xiO8h3uurufF0/3COd/3/0UWYiEWYiEWYiGJQ+J8xuPxKhXjEMZANinjIZhkGuVRNioE4wVURo4JkHm0xKWmhRAc1bh1EyCUw5BcBIjHiApKa4CErko6DEJwuRo6IRKzyJD8FJAyI3Zp2zRImiBcRhlfo5RtlxCcE3CcDNpGrhYIT2IhAJKilO0VRmzJ32fAMTpBTS0QMfGwlcuKMRftE0DJ0wCJdcOsCkBdXP3Mh9CEFUBTPS9mDZJBG6io4aqVzMdCokCw9H3kT6j/C/9iDdSeUMNC7DkyyxAs/Rk6Qss8FPWRZgdVtUH4DjxEn1zxh+/zj1wHlf4MQhNGrwqA6sY40U8JonRJwEQh+AO3AvCG6gHv4U7IY4krxkroWoAOkoQMGfCBrgIm+YBGqPENpIJ66CJg3x66Y0gnSUidAEEnNr9jjLiWMn5DiWP0OC/oAsCgkq43xBdGDMQr7YASP/vEkHvdl1+JOCcEV5sC4hGEOzTlPuKgd0b0xD4JkRcOgnRRTjdErkYhAsQVq6IdUuPJtmk7BCL3t/h88cx91pKQkI/pkDx6pmYTIjEoxiHsN1YWYiEWYiEWknhflZ5IErA5nr8AAAAASUVORK5CYII="/><\/elements><\/component><component name="dock"><settings><setting name="fontcolor" value="0xffffff"/><\/settings><elements><element name="button" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyAQMAAAAk8RryAAAABlBMVEUAAAAAAAClZ7nPAAAAAnRSTlOZpuml+rYAAAASSURBVBhXY2AYJuA/GBwY6jQAyDyoK8QcL4QAAAAASUVORK5CYII="/><\/elements><\/component><component name="playlist"><settings><setting name="backgroundcolor" value="0xe8e8e8"/><\/settings><elements><element name="item" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAIAAAC1nk4lAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAHBJREFUaN7t2MENwCAMBEEe9N8wSKYC/D8YV7CyJoRkVtVImxkZPQInMxoP0XiIxkM0HsGbjjSNBx544IEHHnjggUe/6UQeey0PIh7XTftGxKPj4eXCtLsHHh+ZxkO0Iw8PR55Ni8ZD9Hu/EAoP0dc5RRg9qeRjVF8AAAAASUVORK5CYII="/><element name="sliderCapTop" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAHCAYAAADnCQYGAAAAFUlEQVQokWP8//8/A7UB46ihI9hQAKt6FPPXhVGHAAAAAElFTkSuQmCC"/><element name="sliderRail" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAUCAYAAABiS3YzAAAAKElEQVQ4y2P4//8/Az68bNmy/+iYkB6GUUNHDR01dNTQUUNHDaXcUABUDOKhcxnsSwAAAABJRU5ErkJggg=="/><element name="sliderThumb" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAUCAYAAABiS3YzAAAAJUlEQVQ4T2P4//8/Ay4MBP9xYbz6Rg0dNXTU0FFDRw0dNZRyQwHH4NBa7GJsXAAAAABJRU5ErkJggg=="/><element name="sliderCapBottom" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAHCAYAAADnCQYGAAAAFUlEQVQokWP8//8/A7UB46ihI9hQAKt6FPPXhVGHAAAAAElFTkSuQmCC"/><\/elements><\/component><\/components><\/skin>',this.xml=null,window.DOMParser?(parser=new DOMParser,this.xml=parser.parseFromString(this.text,"text/xml")):(this.xml=new ActiveXObject("Microsoft.XMLDOM"),this.xml.async="false",this.xml.loadXML(this.text)),this}}(jwplayer),function(n){_utils=n.utils;_css=_utils.css;_hide=function(n){_css(n,{display:"none"})};_show=function(n){_css(n,{display:"block"})};n.html5.display=function(t,i){function dt(){u.display=h("div","display");u.display_text=h("div","display_text");u.display.appendChild(u.display_text);u.display_image=h("img","display_image");u.display_image.onerror=function(){_hide(u.display_image)};u.display_image.onload=gt;u.display_icon=h("div","display_icon");u.display_iconBackground=h("div","display_iconBackground");u.display.appendChild(u.display_image);u.display_iconBackground.appendChild(u.display_icon);u.display.appendChild(u.display_iconBackground);ni();setTimeout(function(){ct=!0;l.icons.toString()=="true"&&g()},1)}function gt(){nt=u.display_image.naturalWidth;tt=u.display_image.naturalHeight;yt();(r.jwGetState()==n.api.events.state.IDLE||r.jwGetPlaylist()[r.jwGetPlaylistIndex()].provider=="sound")&&(_css(u.display_image,{display:"block",opacity:0}),_utils.fadeTo(u.display_image,1,.1));ft=!1}function yt(){if(r.jwGetFullscreen()&&r.jwGetStretching()==n.utils.stretching.EXACTFIT){var t=document.createElement("div");_utils.stretch(n.utils.stretching.UNIFORM,t,e,f,lt,at);_utils.stretch(n.utils.stretching.EXACTFIT,u.display_image,_utils.parseDimension(t.style.width),_utils.parseDimension(t.style.height),nt,tt);_css(u.display_image,{left:t.style.left,top:t.style.top})}else _utils.stretch(r.jwGetStretching(),u.display_image,e,f,nt,tt)}function h(n,t){var i=document.createElement(n);return i.id=r.id+"_jwplayer_"+t,_css(i,w[t].style),i}function ni(){for(var n in u)_utils.exists(w[n].click)&&(u[n].onclick=w[n].click)}function ti(t){if(typeof t.preventDefault!="undefined"?t.preventDefault():t.returnValue=!1,typeof p=="function"){p(t);return}r.jwGetState()!=n.api.events.state.PLAYING?r.jwPlay():r.jwPause()}function b(n){if(v){c();return}u.display_icon.style.backgroundImage=["url(",r.skin.getSkinElement("display",n).src,")"].join("");_css(u.display_icon,{width:r.skin.getSkinElement("display",n).width,height:r.skin.getSkinElement("display",n).height,top:(r.skin.getSkinElement("display","background").height-r.skin.getSkinElement("display",n).height)/2,left:(r.skin.getSkinElement("display","background").width-r.skin.getSkinElement("display",n).width)/2});ii();_utils.exists(r.skin.getSkinElement("display",n+"Over"))?(u.display_icon.onmouseover=function(){u.display_icon.style.backgroundImage=["url(",r.skin.getSkinElement("display",n+"Over").src,")"].join("")},u.display_icon.onmouseout=function(){u.display_icon.style.backgroundImage=["url(",r.skin.getSkinElement("display",n).src,")"].join("")}):(u.display_icon.onmouseover=null,u.display_icon.onmouseout=null)}function c(){l.icons.toString()=="true"&&(_hide(u.display_icon),_hide(u.display_iconBackground),wt())}function ii(){s||l.icons.toString()!="true"||(_show(u.display_icon),_show(u.display_iconBackground),g())}function ri(n){v=!0;c();u.display_text.innerHTML=n.message;_show(u.display_text);u.display_text.style.top=(f-_utils.getBoundingClientRect(u.display_text).height)/2+"px"}function k(){et=!1;u.display_image.style.display="none"}function ui(){rt=""}function d(t){(t.type==n.api.events.JWPLAYER_PLAYER_STATE||t.type==n.api.events.JWPLAYER_PLAYLIST_ITEM)&&v&&(v=!1,_hide(u.display_text));var i=r.jwGetState();i!=rt&&(rt=i,y>=0&&clearTimeout(y),o||r.jwGetState()==n.api.events.state.PLAYING||r.jwGetState()==n.api.events.state.PAUSED?ot(r.jwGetState()):y=setTimeout(fi(r.jwGetState()),500))}function fi(n){return function(){ot(n)}}function ot(t){_utils.exists(a)&&(clearInterval(a),a=null,_utils.animations.rotate(u.display_icon,0));switch(t){case n.api.events.state.BUFFERING:_utils.isIPod()?(k(),c()):(r.jwGetPlaylist()[r.jwGetPlaylistIndex()].provider=="sound"&&st(),it=0,a=setInterval(function(){it+=bt;_utils.animations.rotate(u.display_icon,it%360)},kt),b("bufferIcon"),o=!0);break;case n.api.events.state.PAUSED:_utils.isIPod()||(r.jwGetPlaylist()[r.jwGetPlaylistIndex()].provider!="sound"&&_css(u.display_image,{background:"transparent no-repeat center center"}),b("playIcon"),o=!0);break;case n.api.events.state.IDLE:r.jwGetPlaylist()[r.jwGetPlaylistIndex()]&&r.jwGetPlaylist()[r.jwGetPlaylistIndex()].image?st():k();b("playIcon");o=!0;break;default:r.jwGetPlaylist()[r.jwGetPlaylistIndex()]&&r.jwGetPlaylist()[r.jwGetPlaylistIndex()].provider=="sound"?_utils.isIPod()?(k(),o=!1):st():(k(),o=!1);r.jwGetMute()&&l.showmute?b("muteIcon"):c()}y=-1}function st(){if(r.jwGetPlaylist()[r.jwGetPlaylistIndex()]){var n=r.jwGetPlaylist()[r.jwGetPlaylistIndex()].image;n&&(n!=ht?(ht=n,ft=!0,u.display_image.src=_utils.getAbsolutePath(n)):ft||et||(et=!0,u.display_image.style.opacity=0,u.display_image.style.display="block",_utils.fadeTo(u.display_image,1,.1)))}}function pt(n){return function(){ct&&(s||ut==n||(ut=n,vt.sendEvent(n,{component:"display",boundingRect:_utils.getDimensions(u.display_iconBackground)})))}}var l=_utils.extend({},{icons:!0,showmute:!1},i),r=t,u={},e,f,nt,tt,it,a,v,bt=_utils.exists(r.skin.getComponentSettings("display").bufferrotation)?parseInt(r.skin.getComponentSettings("display").bufferrotation,10):15,kt=_utils.exists(r.skin.getComponentSettings("display").bufferinterval)?parseInt(r.skin.getComponentSettings("display").bufferinterval,10):100,y=-1,rt=n.api.events.state.IDLE,o=!0,ut,ft=!1,et=!0,ht="",s=!1,ct=!1,p,lt,at,vt=new n.html5.eventdispatcher,w,g,wt;return _utils.extend(this,vt),w={display:{style:{cursor:"pointer",top:0,left:0,overflow:"hidden"},click:ti},display_icon:{style:{cursor:"pointer",position:"absolute",top:(r.skin.getSkinElement("display","background").height-r.skin.getSkinElement("display","playIcon").height)/2,left:(r.skin.getSkinElement("display","background").width-r.skin.getSkinElement("display","playIcon").width)/2,border:0,margin:0,padding:0,zIndex:3,display:"none"}},display_iconBackground:{style:{cursor:"pointer",position:"absolute",top:(f-r.skin.getSkinElement("display","background").height)/2,left:(e-r.skin.getSkinElement("display","background").width)/2,border:0,backgroundImage:["url(",r.skin.getSkinElement("display","background").src,")"].join(""),width:r.skin.getSkinElement("display","background").width,height:r.skin.getSkinElement("display","background").height,margin:0,padding:0,zIndex:2,display:"none"}},display_image:{style:{display:"none",width:e,height:f,position:"absolute",cursor:"pointer",left:0,top:0,margin:0,padding:0,textDecoration:"none",zIndex:1}},display_text:{style:{zIndex:4,position:"relative",opacity:.8,backgroundColor:parseInt("000000",16),color:parseInt("ffffff",16),textAlign:"center",fontFamily:"Arial,sans-serif",padding:"0 5px",fontSize:14}}},r.jwAddEventListener(n.api.events.JWPLAYER_PLAYER_STATE,d),r.jwAddEventListener(n.api.events.JWPLAYER_MEDIA_MUTE,d),r.jwAddEventListener(n.api.events.JWPLAYER_PLAYLIST_LOADED,ui),r.jwAddEventListener(n.api.events.JWPLAYER_PLAYLIST_ITEM,d),r.jwAddEventListener(n.api.events.JWPLAYER_ERROR,ri),dt(),this.getDisplayElement=function(){return u.display},this.resize=function(n,t){r.jwGetFullscreen()&&_utils.isMobile()||(_css(u.display,{width:n,height:t}),_css(u.display_text,{width:n-10,top:(t-_utils.getBoundingClientRect(u.display_text).height)/2}),_css(u.display_iconBackground,{top:(t-r.skin.getSkinElement("display","background").height)/2,left:(n-r.skin.getSkinElement("display","background").width)/2}),(e!=n||f!=t)&&(e=n,f=t,ut=undefined,g()),r.jwGetFullscreen()||(lt=n,at=t),yt(),d({}))},this.show=function(){s&&(s=!1,ot(r.jwGetState()))},this.hide=function(){s||(c(),s=!0)},g=pt(n.api.events.JWPLAYER_COMPONENT_SHOW),wt=pt(n.api.events.JWPLAYER_COMPONENT_HIDE),this.setAlternateClickHandler=function(n){p=n},this.revertAlternateClickHandler=function(){p=undefined},this}}(jwplayer),function(n){var t=n.utils,i=t.css;n.html5.dock=function(r,u){function st(){return{align:n.html5.view.positions.RIGHT}}function h(n){return"url("+n+") no-repeat center center"}function rt(i,u){var k,b,y,p;if(ot(),s.length>0){var h=10,w=h,rt=-1,tt=r.skin.getSkinElement("dock","button").height,it=r.skin.getSkinElement("dock","button").width,ut=i-it-h,e,o;for(d.align==n.html5.view.positions.LEFT&&(rt=1,ut=h),k=0;k<s.length;k++)b=Math.floor(w/u),w+tt+h>(b+1)*u&&(w=(b+1)*u+h,b=Math.floor(w/u)),y=f[s[k]].div,y.style.top=w%u+"px",y.style.left=ut+(r.skin.getSkinElement("dock","button").width+h)*b*rt+"px",p={x:t.parseDimension(y.style.left),y:t.parseDimension(y.style.top),width:it,height:tt},(!e||p.x<=e.x&&p.y<=e.y)&&(e=p),(!o||p.x>=o.x&&p.y>=o.y)&&(o=p),y.style.width=it+"px",y.style.height=tt+"px",w+=r.skin.getSkinElement("dock","button").height+h;nt={x:e.x,y:e.y,width:o.x-e.x+o.width,height:e.y-o.y+o.height}}(g!=r.jwGetFullscreen()||l!=i||a!=u)&&(l=i,a=u,g=r.jwGetFullscreen(),v=undefined,setTimeout(c,1))}function ut(n){return function(){!o&&v!=n&&s.length>0&&(v=n,it.sendEvent(n,{component:"dock",boundingRect:nt}))}}function ht(i){t.isMobile()?i.newstate==n.api.events.state.IDLE?w():b():ft()}function ft(i){if(!o)if(clearTimeout(y),u.position==n.html5.view.positions.OVER||r.jwGetFullscreen())switch(r.jwGetState()){case n.api.events.state.PAUSED:case n.api.events.state.IDLE:e&&e.style.opacity<1&&(!u.idlehide||t.exists(i))&&k();u.idlehide&&(y=setTimeout(function(){et()},2e3));break;default:t.exists(i)&&k();y=setTimeout(function(){et()},2e3)}else k()}function et(){o||(p(),e.style.opacity==1&&(t.cancelAnimation(e),t.fadeTo(e,0,.1,1,0)))}function k(){o||(c(),e.style.opacity==0&&(t.cancelAnimation(e),t.fadeTo(e,1,.1,0,0)))}function ot(){try{tt=document.getElementById(r.id);tt.addEventListener("mousemove",ft)}catch(n){t.log("Could not add mouse listeners to dock: "+n)}}var d=t.extend({},st(),u),e,c,p,w,b;if(d.align!="FALSE"){var f={},s=[],l,a,o=!1,g=!1,nt={x:0,y:0,width:0,height:0},v,tt,y,it=new n.html5.eventdispatcher;return t.extend(this,it),e=document.createElement("div"),e.id=r.id+"_jwplayer_dock",e.style.opacity=1,ot(),r.jwAddEventListener(n.api.events.JWPLAYER_PLAYER_STATE,ht),this.getDisplayElement=function(){return e},this.setButton=function(i,u,o,c){!u&&f[i]?(t.arrays.remove(s,i),e.removeChild(f[i].div),delete f[i]):u&&(f[i]||(f[i]={}),f[i].handler=u,f[i].outGraphic=o,f[i].overGraphic=c,f[i].div||(s.push(i),f[i].div=document.createElement("div"),f[i].div.style.position="absolute",e.appendChild(f[i].div),f[i].div.appendChild(document.createElement("div")),f[i].div.childNodes[0].style.position="relative",f[i].div.childNodes[0].style.width="100%",f[i].div.childNodes[0].style.height="100%",f[i].div.childNodes[0].style.zIndex=10,f[i].div.childNodes[0].style.cursor="pointer",f[i].div.appendChild(document.createElement("img")),f[i].div.childNodes[1].style.position="absolute",f[i].div.childNodes[1].style.left=0,f[i].div.childNodes[1].style.top=0,r.skin.getSkinElement("dock","button")&&(f[i].div.childNodes[1].src=r.skin.getSkinElement("dock","button").src),f[i].div.childNodes[1].style.zIndex=9,f[i].div.childNodes[1].style.cursor="pointer",f[i].div.onmouseover=function(){f[i].overGraphic&&(f[i].div.childNodes[0].style.background=h(f[i].overGraphic));r.skin.getSkinElement("dock","buttonOver")&&(f[i].div.childNodes[1].src=r.skin.getSkinElement("dock","buttonOver").src)},f[i].div.onmouseout=function(){f[i].outGraphic&&(f[i].div.childNodes[0].style.background=h(f[i].outGraphic));r.skin.getSkinElement("dock","button")&&(f[i].div.childNodes[1].src=r.skin.getSkinElement("dock","button").src)},r.skin.getSkinElement("dock","button")&&(f[i].div.childNodes[1].src=r.skin.getSkinElement("dock","button").src)),f[i].outGraphic?f[i].div.childNodes[0].style.background=h(f[i].outGraphic):f[i].overGraphic&&(f[i].div.childNodes[0].style.background=h(f[i].overGraphic)),u&&(f[i].div.onclick=function(t){t.preventDefault();n(r.id).callback(i);f[i].overGraphic&&(f[i].div.childNodes[0].style.background=h(f[i].overGraphic));r.skin.getSkinElement("dock","button")&&(f[i].div.childNodes[1].src=r.skin.getSkinElement("dock","button").src)}));rt(l,a)},c=ut(n.api.events.JWPLAYER_COMPONENT_SHOW),p=ut(n.api.events.JWPLAYER_COMPONENT_HIDE),this.resize=rt,w=function(){i(e,{display:"block"});o&&(o=!1,c())},b=function(){i(e,{display:"none"});o||(p(),o=!0)},this.hide=b,this.show=w,this}}}(jwplayer),function(n){n.html5.eventdispatcher=function(t,i){var r=new n.events.eventdispatcher(i);n.utils.extend(this,r);this.sendEvent=function(i,u){n.utils.exists(u)||(u={});n.utils.extend(u,{id:t,version:n.version,type:i});r.sendEvent(i,u)}}}(jwplayer),function(n){var t=n.utils;n.html5.instream=function(i,r,u,f){function ot(){_fakemodel=new n.html5.model(this,e.getMedia()?e.getMedia().getDisplayElement():e.container,e);p=new n.html5.eventdispatcher;h.jwAddEventListener(n.api.events.JWPLAYER_RESIZE,tt);h.jwAddEventListener(n.api.events.JWPLAYER_FULLSCREEN,tt)}function st(){_fakemodel.setMute(e.mute);_fakemodel.setVolume(e.volume)}function ht(){o||(o=new n.html5.mediavideo(_fakemodel,e.getMedia()?e.getMedia().getDisplayElement():e.container),o.addGlobalListener(ct),o.addEventListener(n.api.events.JWPLAYER_MEDIA_META,vt),o.addEventListener(n.api.events.JWPLAYER_MEDIA_COMPLETE,at),o.addEventListener(n.api.events.JWPLAYER_MEDIA_BUFFER_FULL,lt));o.attachMedia()}function ct(n){s&&nt(n.type,n)}function lt(){s&&o.play()}function at(){s&&setTimeout(function(){k.jwInstreamDestroy(!0)},10)}function vt(n){n.metadata.width&&n.metadata.height&&w.resizeMedia()}function nt(n,t,i){(s||i)&&p.sendEvent(n,t)}function tt(){var n=e.plugins.object.display.getDisplayElement().style,i;l&&(i=e.plugins.object.controlbar.getDisplayElement().style,l.resize(t.parseDimension(n.width),t.parseDimension(n.height)),_css(l.getDisplayElement(),t.extend({},i,{zIndex:1001,opacity:1})));y&&(y.resize(t.parseDimension(n.width),t.parseDimension(n.height)),_css(y.getDisplayElement(),t.extend({},n,{zIndex:1e3})));w&&w.resizeMedia()}var ut={controlbarseekable:"always",controlbarpausable:!0,controlbarstoppable:!0,playlistclickable:!0},d,a,h=i,e=r,w=u,it=f,c,ft,et,rt,v,g,o,l,y,s=!1,p,b,k=this;return this.load=function(i,r){if(st(),s=!0,a=t.extend(ut,r),d=n.html5.playlistitem(i),ht(),b=document.createElement("div"),b.id=k.id+"_instream_container",it.detachMedia(),c=o.getDisplayElement(),g=e.playlist[e.item],v=h.jwGetState(),(v==n.api.events.state.BUFFERING||v==n.api.events.state.PLAYING)&&c.pause(),ft=c.src?c.src:c.currentSrc,et=c.innerHTML,rt=c.currentTime,y=new n.html5.display(k,t.extend({},e.plugins.config.display)),y.setAlternateClickHandler(function(t){_fakemodel.state==n.api.events.state.PAUSED?k.jwInstreamPlay():nt(n.api.events.JWPLAYER_INSTREAM_CLICK,t)}),b.appendChild(y.getDisplayElement()),!t.isMobile())if(l=new n.html5.controlbar(k,t.extend({},e.plugins.config.controlbar,{})),e.plugins.config.controlbar.position==n.html5.view.positions.OVER)b.appendChild(l.getDisplayElement());else{var u=e.plugins.object.controlbar.getDisplayElement().parentNode;u.appendChild(l.getDisplayElement())}w.setupInstream(b,c);tt();o.load(d)},this.jwInstreamDestroy=function(t){if(s){if(s=!1,v!=n.api.events.state.IDLE?(o.load(g,!1),o.stop(!1)):o.stop(!0),o.detachMedia(),w.destroyInstream(),l)try{l.getDisplayElement().parentNode.removeChild(l.getDisplayElement())}catch(i){}nt(n.api.events.JWPLAYER_INSTREAM_DESTROYED,{reason:t?"complete":"destroyed"},!0);it.attachMedia();(v==n.api.events.state.BUFFERING||v==n.api.events.state.PLAYING)&&(c.play(),e.playlist[e.item]==g&&e.getMedia().seek(rt));return}},this.jwInstreamAddEventListener=function(n,t){p.addEventListener(n,t)},this.jwInstreamRemoveEventListener=function(n,t){p.removeEventListener(n,t)},this.jwInstreamPlay=function(){s&&o.play(!0)},this.jwInstreamPause=function(){s&&o.pause(!0)},this.jwInstreamSeek=function(n){s&&o.seek(n)},this.jwInstreamGetState=function(){return s?_fakemodel.state:undefined},this.jwInstreamGetPosition=function(){return s?_fakemodel.position:undefined},this.jwInstreamGetDuration=function(){return s?_fakemodel.duration:undefined},this.playlistClickable=function(){return!s||a.playlistclickable.toString().toLowerCase()=="true"},this.jwPlay=function(){a.controlbarpausable.toString().toLowerCase()=="true"&&this.jwInstreamPlay()},this.jwPause=function(){a.controlbarpausable.toString().toLowerCase()=="true"&&this.jwInstreamPause()},this.jwStop=function(){a.controlbarstoppable.toString().toLowerCase()=="true"&&(this.jwInstreamDestroy(),h.jwStop())},this.jwSeek=function(n){switch(a.controlbarseekable.toLowerCase()){case"always":this.jwInstreamSeek(n);break;case"backwards":_fakemodel.position>n&&this.jwInstreamSeek(n)}},this.jwGetPosition=function(){},this.jwGetDuration=function(){},this.jwGetWidth=h.jwGetWidth,this.jwGetHeight=h.jwGetHeight,this.jwGetFullscreen=h.jwGetFullscreen,this.jwSetFullscreen=h.jwSetFullscreen,this.jwGetVolume=function(){return e.volume},this.jwSetVolume=function(n){o.volume(n);h.jwSetVolume(n)},this.jwGetMute=function(){return e.mute},this.jwSetMute=function(n){o.mute(n);h.jwSetMute(n)},this.jwGetState=function(){return _fakemodel.state},this.jwGetPlaylist=function(){return[d]},this.jwGetPlaylistIndex=function(){return 0},this.jwGetStretching=function(){return e.config.stretching},this.jwAddEventListener=function(n,t){p.addEventListener(n,t)},this.jwRemoveEventListener=function(n,t){p.removeEventListener(n,t)},this.skin=h.skin,this.id=h.id+"_instream",ot(),this}}(jwplayer),function(n){var t={prefix:"http://l.longtailvideo.com/html5/",file:"logo.png",link:"http://www.longtailvideo.com/players/jw-flv-player/",linktarget:"_top",margin:8,out:.5,over:1,timeout:5,hide:!0,position:"bottom-left"};_css=n.utils.css;n.html5.logo=function(i,r){function c(){l();o.jwAddEventListener(n.api.events.JWPLAYER_PLAYER_STATE,d);a();v()}function l(){if(t.prefix){var f=i.version.split(/\W/).splice(0,2).join("/");t.prefix.indexOf(f)<0&&(t.prefix+=f+"/")}r.position==n.html5.view.positions.OVER&&(r.position=t.position);try{window.location.href.indexOf("https")==0&&(t.prefix=t.prefix.replace("http://l.longtailvideo.com","https://securel.longtailvideo.com"))}catch(e){}u=n.utils.extend({},t)}function a(){(f=document.createElement("img"),f.id=o.id+"_jwplayer_logo",f.style.display="none",f.onload=function(){_css(f,w());h()},u.file)&&(f.src=u.file.indexOf("/")>=0?u.file:u.prefix+u.file)}function v(){u.link?(f.onmouseover=p,f.onmouseout=h,f.onclick=y):this.mouseEnabled=!1}function y(n){if(typeof n!="undefined"&&n.stopPropagation(),e){o.jwPause();o.jwSetFullscreen(!1);u.link&&window.open(u.link,u.linktarget);return}}function h(){u.link&&e&&(f.style.opacity=u.out);return}function p(){e&&(f.style.opacity=u.over);return}function w(){var n={textDecoration:"none",position:"absolute",cursor:"pointer"},t,i;n.display=u.hide.toString()=="true"&&!e?"none":"block";t=u.position.toLowerCase().split("-");for(i in t)n[t[i]]=parseInt(u.margin);return n}function b(){u.hide.toString()=="true"&&(f.style.display="block",f.style.opacity=0,n.utils.fadeTo(f,u.out,.1,parseFloat(f.style.opacity)),s=setTimeout(function(){k()},u.timeout*1e3));e=!0}function k(){e=!1;u.hide.toString()=="true"&&n.utils.fadeTo(f,0,.1,parseFloat(f.style.opacity))}function d(t){t.newstate==n.api.events.state.BUFFERING&&(clearTimeout(s),b())}var o=i,s,u,f,e=!1;if(c(),u.file)return this.resize=function(){},this.getDisplayElement=function(){return f},this}}(jwplayer),function(n){var e={ended:n.api.events.state.IDLE,playing:n.api.events.state.PLAYING,pause:n.api.events.state.PAUSED,buffering:n.api.events.state.BUFFERING},t=n.utils,r=t.isMobile(),i,u,f={};n.html5.mediavideo=function(o,s){function at(n,i){return it[n]?it[n]:(it[n]=function(n){t.exists(n.target.parentNode)&&i(n)},it[n])}function kt(){y=n.api.events.state.IDLE;a=!0;h=dt();h.setAttribute("x-webkit-airplay","allow");p.parentNode&&(h.id=p.id,p.parentNode.replaceChild(h,p))}function dt(){var n=f[c.id],t;n||(n=p.tagName.toLowerCase()=="video"?p:document.createElement("video"),f[c.id]=n,n.id||(n.id=p.id));for(t in tt)n.addEventListener(t,at(t,tt[t]),!0);return n}function k(t){if(t!=n.api.events.state.PAUSED||y!=n.api.events.state.IDLE){if(r)switch(t){case n.api.events.state.PLAYING:wt();break;case n.api.events.state.BUFFERING:case n.api.events.state.PAUSED:bt()}if(y!=t){var i=y;c.state=y=t;l(n.api.events.JWPLAYER_PLAYER_STATE,{oldstate:i,newstate:t})}}}function w(){}function gt(){var t=Math.round(h.volume*100);l(n.api.events.JWPLAYER_MEDIA_VOLUME,{volume:t},!0);l(n.api.events.JWPLAYER_MEDIA_MUTE,{mute:h.muted},!0)}function lt(i){var r,u;a&&(t.exists(i)&&i.lengthComputable&&i.total?r=i.loaded/i.total*100:t.exists(h.buffered)&&h.buffered.length>0&&(u=h.buffered.length-1,u>=0&&(r=h.buffered.end(u)/h.duration*100)),t.useNativeFullscreen()&&t.exists(h.webkitDisplayingFullscreen)&&c.fullscreen!=h.webkitDisplayingFullscreen&&l(n.api.events.JWPLAYER_FULLSCREEN,{fullscreen:h.webkitDisplayingFullscreen},!0),nt===!1&&y==n.api.events.state.BUFFERING&&(l(n.api.events.JWPLAYER_MEDIA_BUFFER_FULL),nt=!0),ct||(r==100&&(ct=!0),t.exists(r)&&r>c.buffer&&(c.buffer=Math.round(r),l(n.api.events.JWPLAYER_MEDIA_BUFFER,{bufferPercent:Math.round(r)}))))}function ni(i){if(a){if(t.exists(i)&&t.exists(i.target)&&(ht>0&&!isNaN(i.target.duration)&&(isNaN(c.duration)||c.duration<1)&&(c.duration=i.target.duration==Infinity?0:Math.round(i.target.duration*10)/10),!g&&h.readyState>0&&k(n.api.events.state.PLAYING),y==n.api.events.state.PLAYING)){if(h.readyState>0&&(b>-1||!g)){g=!0;try{h.currentTime!=b&&b>-1&&(h.currentTime=b,b=-1)}catch(r){}h.volume=c.volume/100;h.muted=c.mute}if(c.position=c.duration>0?Math.round(i.target.currentTime*10)/10:0,l(n.api.events.JWPLAYER_MEDIA_TIME,{position:c.position,duration:c.duration}),c.position>=c.duration&&(c.position>0||c.duration>0)){pt();return}}lt(i)}}function ti(){}function v(n){a&&(i&&u&&(h.style.width=i,h.style.height=u,i=_previousHieght=0),e[n.type]&&(n.type=="ended"?pt():k(e[n.type])))}function et(){if(a){var t=Math.round(h.duration*10)/10,i={height:h.videoHeight,width:h.videoWidth,duration:t};ht||(c.duration<t||isNaN(c.duration))&&h.duration!=Infinity&&(c.duration=t);l(n.api.events.JWPLAYER_MEDIA_META,{metadata:i})}}function ii(i){var r,u;if(a&&y!=n.api.events.state.IDLE){if(r="There was an error: ",i.target.error&&i.target.tagName.toLowerCase()=="video"||i.target.parentNode.error&&i.target.parentNode.tagName.toLowerCase()=="video"){u=t.exists(i.target.error)?i.target.error:i.target.parentNode.error;switch(u.code){case u.MEDIA_ERR_ABORTED:t.log("User aborted the video playback.");return;case u.MEDIA_ERR_NETWORK:r="A network error caused the video download to fail part-way: ";break;case u.MEDIA_ERR_DECODE:r="The video playback was aborted due to a corruption problem or because the video used features your browser did not support: ";break;case u.MEDIA_ERR_SRC_NOT_SUPPORTED:r="The video could not be loaded, either because the server or network failed or because the format is not supported: ";break;default:r="An unknown error occurred: "}}else if(i.target.tagName.toLowerCase()=="source"){if(ut--,ut>0)return;if(t.userAgentMatch(/firefox/i)){t.log("The video could not be loaded, either because the server or network failed or because the format is not supported.");ft(!1);return}r="The video could not be loaded, either because the server or network failed or because the format is not supported: "}else{t.log("An unknown error occurred.  Continuing...");return}ft(!1);r+=ri();_error=!0;l(n.api.events.JWPLAYER_ERROR,{message:r});return}}function ri(){var t="",i,r,u;for(i in d.levels)r=d.levels[i],u=p.ownerDocument.createElement("source"),t+=n.utils.getAbsolutePath(r.file),i<d.levels.length-1&&(t+=", ");return t}function vt(){t.exists(rt)||(rt=setInterval(function(){lt()},100))}function yt(){clearInterval(rt);rt=null}function pt(){y==n.api.events.state.PLAYING&&(ft(!1),l(n.api.events.JWPLAYER_MEDIA_BEFORECOMPLETE),l(n.api.events.JWPLAYER_MEDIA_COMPLETE))}function ui(){t.exists(h.webkitDisplayingFullscreen)&&c.fullscreen&&!h.webkitDisplayingFullscreen&&l(n.api.events.JWPLAYER_FULLSCREEN,{fullscreen:!1},!0)}function fi(n){var r,i,u;if(n.length>0&&t.userAgentMatch(/Safari/i)&&!t.userAgentMatch(/Chrome/i)){for(r=-1,i=0;i<n.length;i++)switch(t.extension(n[i].file)){case"mp4":r<0&&(r=i);break;case"webm":n.splice(i,1)}r>0&&(u=n.splice(r,1)[0],n.unshift(u))}}function wt(){setTimeout(function(){h.setAttribute("controls","controls")},100)}function bt(){setTimeout(function(){h.removeAttribute("controls")},250)}function l(n,t,i){(a||i)&&(t?ot.sendEvent(n,t):ot.sendEvent(n))}var tt={abort:w,canplay:v,canplaythrough:v,durationchange:et,emptied:w,ended:v,error:ii,loadeddata:et,loadedmetadata:et,loadstart:v,pause:v,play:w,playing:v,progress:lt,ratechange:w,seeked:v,seeking:v,stalled:v,suspend:v,timeupdate:ni,volumechange:gt,waiting:v,canshowcurrentframe:w,dataunavailable:w,empty:w,load:ti,loadedfirstframe:w,webkitfullscreenchange:ui},it={},ot=new n.html5.eventdispatcher,ft;t.extend(this,ot);var c=o,p=s,h,y,g,d,rt,b,st=!1,a=!1,ht=!1,ct,nt,ut;kt();this.load=function(f,e){var o,s;if(typeof e=="undefined"&&(e=!0),a){if(d=f,ht=d.duration>0,c.duration=d.duration,t.empty(h),h.style.display="block",h.style.opacity=1,i&&u&&(h.style.width=i,h.style.height=u,i=_previousHieght=0),ut=0,fi(f.levels),f.levels&&f.levels.length>0)if(f.levels.length==1||t.isIOS())h.src=f.levels[0].file;else for(h.src&&h.removeAttribute("src"),o=0;o<f.levels.length;o++)s=h.ownerDocument.createElement("source"),s.src=f.levels[o].file,h.appendChild(s),ut++;else h.src=f.file;h.volume=c.volume/100;h.muted=c.mute;r&&wt();ct=nt=g=!1;c.buffer=0;t.exists(f.start)||(f.start=0);b=f.start>0?f.start:-1;l(n.api.events.JWPLAYER_MEDIA_LOADED);(r||f.levels.length!=1)&&st||h.load();st=!1;e&&(k(n.api.events.state.BUFFERING),l(n.api.events.JWPLAYER_MEDIA_BUFFER,{bufferPercent:0}),vt());h.videoWidth>0&&h.videoHeight>0&&et()}};this.play=function(){a&&(vt(),nt?k(n.api.events.state.PLAYING):(h.load(),k(n.api.events.state.BUFFERING)),h.play())};this.pause=function(){a&&(h.pause(),k(n.api.events.state.PAUSED))};this.seek=function(n){a&&(!g&&h.readyState>0?c.duration<=0||isNaN(c.duration)||c.position<=0||isNaN(c.position)||(h.currentTime=n,h.play()):b=n)};ft=this.stop=function(r){if(a){if(t.exists(r)||(r=!0),yt(),r){nt=!1;var f=navigator.userAgent;if(h.webkitSupportsFullscreen)try{h.webkitExitFullscreen()}catch(e){}h.style.opacity=0;bt();t.isIE()?h.src="":h.removeAttribute("src");t.empty(h);h.load();st=!0}if(t.isIPod())i=h.style.width,u=h.style.height,h.style.width=0,h.style.height=0;else if(t.isIPad()){h.style.display="none";try{h.webkitExitFullscreen()}catch(o){}}k(n.api.events.state.IDLE)}};this.fullscreen=function(n){n===!0?this.resize("100%","100%"):this.resize(c.config.width,c.config.height)};this.resize=function(){};this.volume=function(t){r||(h.volume=t/100,l(n.api.events.JWPLAYER_MEDIA_VOLUME,{volume:t/100}))};this.mute=function(t){r||(h.muted=t,l(n.api.events.JWPLAYER_MEDIA_MUTE,{mute:t}))};this.getDisplayElement=function(){return h};this.hasChrome=function(){return r&&y==n.api.events.state.PLAYING};this.detachMedia=function(){return a=!1,this.getDisplayElement()};this.attachMedia=function(){a=!0};this.destroy=function(){if(h&&h.parentNode){yt();for(var n in tt)h.removeEventListener(n,at(n,tt[n]),!0);t.empty(h);p=h.parentNode;h.parentNode.removeChild(h);delete f[c.id];h=null}}}}(jwplayer),function(n){var i={ended:n.api.events.state.IDLE,playing:n.api.events.state.PLAYING,pause:n.api.events.state.PAUSED,buffering:n.api.events.state.BUFFERING},t=n.utils.css;n.html5.mediayoutube=function(i,r){function c(t){if(s!=t){var i=s;h.state=t;s=t;e.sendEvent(n.api.events.JWPLAYER_PLAYER_STATE,{oldstate:i,newstate:t})}}function l(n){var t=n.levels[0].file,r,e,i,s,h;t=["http://www.youtube.com/v/",a(t),"&amp;hl=en_US&amp;fs=1&autoplay=1"].join("");u=document.createElement("object");u.id=f.id;u.style.position="absolute";r={movie:t,allowfullscreen:"true",allowscriptaccess:"always"};for(e in r)i=document.createElement("param"),i.name=e,i.value=r[e],u.appendChild(i);o=document.createElement("embed");u.appendChild(o);s={src:t,type:"application/x-shockwave-flash",allowfullscreen:"true",allowscriptaccess:"always",width:u.width,height:u.height};for(h in s)o.setAttribute(h,s[h]);u.appendChild(o);u.style.zIndex=2147483e3;f!=u&&f.parentNode&&f.parentNode.replaceChild(u,f);f=u}function a(n){for(var r=n.split(/\?|\#\!/),t="",i=0;i<r.length;i++)r[i].substr(0,2)=="v="&&(t=r[i].substr(2));return t==""&&(t=n.indexOf("/v/")>=0?n.substr(n.indexOf("/v/")+3):n.indexOf("youtu.be")>=0?n.substr(n.indexOf("youtu.be/")+9):n),t.indexOf("?")>-1&&(t=t.substr(0,t.indexOf("?"))),t.indexOf("&")>-1&&(t=t.substr(0,t.indexOf("&"))),t}var e=new n.html5.eventdispatcher;n.utils.extend(this,e);var h=i,f=document.getElementById(r.id),s=n.api.events.state.IDLE,u,o;return this.getDisplayElement=this.detachMedia=function(){return f},this.attachMedia=function(){},this.play=function(){s==n.api.events.state.IDLE?(e.sendEvent(n.api.events.JWPLAYER_MEDIA_BUFFER,{bufferPercent:100}),e.sendEvent(n.api.events.JWPLAYER_MEDIA_BUFFER_FULL),c(n.api.events.state.PLAYING)):s==n.api.events.state.PAUSED&&c(n.api.events.state.PLAYING)},this.pause=function(){c(n.api.events.state.PAUSED)},this.seek=function(){},this.stop=function(i){_utils.exists(i)||(i=!0);h.position=0;c(n.api.events.state.IDLE);i&&t(f,{display:"none"})},this.volume=function(t){h.setVolume(t);e.sendEvent(n.api.events.JWPLAYER_MEDIA_VOLUME,{volume:Math.round(t)})},this.mute=function(t){f.muted=t;e.sendEvent(n.api.events.JWPLAYER_MEDIA_MUTE,{mute:t})},this.resize=function(n,t){n*t>0&&u&&(u.width=o.width=n,u.height=o.height=t)},this.fullscreen=function(n){n===!0?this.resize("100%","100%"):this.resize(h.config.width,h.config.height)},this.load=function(i){l(i);t(u,{display:"block"});c(n.api.events.state.BUFFERING);e.sendEvent(n.api.events.JWPLAYER_MEDIA_BUFFER,{bufferPercent:0});e.sendEvent(n.api.events.JWPLAYER_MEDIA_LOADED);this.play()},this.hasChrome=function(){return s!=n.api.events.state.IDLE},this.embed=o,this}}(jwplayer),function(n){var i=["width","height","start","duration","volume","mute","fullscreen","item","plugins","stretching"],t=n.utils;n.html5.model=function(r,u,f){function ct(t){var i=new n.html5.playlistloader;i.addEventListener(n.api.events.JWPLAYER_PLAYLIST_LOADED,function(t){e.playlist=new n.html5.playlist(t);rt(!0)});i.addEventListener(n.api.events.JWPLAYER_ERROR,function(){e.playlist=new n.html5.playlist({playlist:[]});rt(!1)});i.load(t)}function rt(){e.config.shuffle?e.item=lt():(e.config.item>=e.playlist.length?e.config.item=e.playlist.length-1:e.config.item<0&&(e.config.item=0),e.item=e.config.item);e.position=0;e.duration=e.playlist.length>0?e.playlist[e.item].duration:0;y.sendEvent(n.api.events.JWPLAYER_PLAYLIST_LOADED,{playlist:e.playlist});y.sendEvent(n.api.events.JWPLAYER_PLAYLIST_ITEM,{index:e.item})}function lt(){var t=null;if(e.playlist.length>1)while(!n.utils.exists(t))t=Math.floor(Math.random()*e.playlist.length),t==e.item&&(t=null);else t=0;return t}function ht(t){switch(t.type){case n.api.events.JWPLAYER_MEDIA_LOADED:v=o.getDisplayElement();break;case n.api.events.JWPLAYER_MEDIA_MUTE:this.mute=t.mute;break;case n.api.events.JWPLAYER_MEDIA_VOLUME:this.volume=t.volume}y.sendEvent(t.type,t)}var ut=r,v=u,b=t.getCookies(),e={id:v.id,playlist:[],state:n.api.events.state.IDLE,position:0,buffer:0,container:v,config:{width:480,height:320,item:-1,skin:undefined,file:undefined,image:undefined,start:0,duration:0,bufferlength:5,volume:b.volume?b.volume:90,mute:b.mute&&b.mute.toString().toLowerCase()=="true"?!0:!1,fullscreen:!1,repeat:"",stretching:n.utils.stretching.UNIFORM,autostart:!1,debug:undefined,screencolor:undefined}},o,y=new n.html5.eventdispatcher,h,ft,l,c,a,et,d,p,k,g,nt,tt,ot,s,it,st,w;n.utils.extend(e,y);for(h in f){typeof f[h]=="string"&&(ft=/color$/.test(h)?"color":null,f[h]=n.utils.typechecker(f[h],ft));l=e.config;c=h.split(".");for(a in c)a==c.length-1?l[c[a]]=f[h]:(n.utils.exists(l[c[a]])||(l[c[a]]={}),l=l[c[a]])}for(et in i)d=i[et],e[d]=e.config[d];if(p=["display","logo","controlbar","playlist","dock"].concat([]),n.utils.exists(e.plugins)&&typeof e.plugins=="string"){k=e.plugins.split(",");for(g in k)typeof k[g]=="string"&&p.push(k[g].replace(/^\s+|\s+$/g,""))}if(n.utils.isMobile()?(p=["display","logo","dock","playlist"],n.utils.exists(e.config.repeat)||(e.config.repeat="list")):e.config.chromeless&&(p=["logo","dock","playlist"],n.utils.exists(e.config.repeat)||(e.config.repeat="list")),e.plugins={order:p,config:{},object:{}},typeof e.config.components!="undefined")for(nt in e.config.components)e.plugins.config[nt]=e.config.components[nt];tt=!1;for(ot in e.plugins.order)s=e.plugins.order[ot],it=n.utils.exists(e.plugins.config[s])?e.plugins.config[s]:{},e.plugins.config[s]=n.utils.exists(e.plugins.config[s])?n.utils.extend(e.plugins.config[s],it):it,n.utils.exists(e.plugins.config[s].position)?(s=="playlist"&&(tt=!0),e.plugins.config[s].position=e.plugins.config[s].position.toString().toUpperCase()):e.plugins.config[s].position=s=="playlist"?n.html5.view.positions.NONE:n.html5.view.positions.OVER;if(e.plugins.config.controlbar&&tt&&(e.plugins.config.controlbar.hideplaylistcontrols=!0),typeof e.plugins.config.dock!="undefined"&&(typeof e.plugins.config.dock!="object"&&(st=e.plugins.config.dock.toString().toUpperCase(),e.plugins.config.dock={position:st}),typeof e.plugins.config.dock.position!="undefined"&&(e.plugins.config.dock.align=e.plugins.config.dock.position,e.plugins.config.dock.position=n.html5.view.positions.OVER),typeof e.plugins.config.dock.idlehide=="undefined"))try{e.plugins.config.dock.idlehide=e.plugins.config.controlbar.idlehide}catch(at){}return e.loadPlaylist=function(t){var i,r;if(typeof t=="string")if(t.indexOf("[")==0||t.indexOf("{")=="0")try{i=eval(t)}catch(u){i=t}else i=t;else i=t;switch(n.utils.typeOf(i)){case"object":r=i;break;case"array":r={playlist:i};break;default:r={file:i}}e.playlist=new n.html5.playlist(r);e.item=e.config.item>=0?e.config.item:0;!e.playlist[0].provider&&e.playlist[0].file?ct(e.playlist[0].file):rt()},w={},e.setActiveMediaProvider=function(t){t.provider=="audio"&&(t.provider="sound");var i=t.provider,r=o?o.getDisplayElement():null;if((i=="sound"||i=="http"||i=="")&&(i="video"),n.utils.exists(w[i]))o!=w[i]&&(o&&o.stop(),o=w[i]);else{switch(i){case"video":o=new n.html5.mediavideo(e,r?r:v);break;case"youtube":o=new n.html5.mediayoutube(e,r?r:v)}if(!n.utils.exists(o))return!1;o.addGlobalListener(ht);w[i]=o}return!0},e.getMedia=function(){return o},e.seek=function(t){return y.sendEvent(n.api.events.JWPLAYER_MEDIA_SEEK,{position:e.position,offset:t}),o.seek(t)},e.setVolume=function(n){t.saveCookie("volume",n);e.volume=n},e.setMute=function(n){t.saveCookie("mute",n);e.mute=n},e.setupPlugins=function(){var i,t;if(!n.utils.exists(e.plugins)||!n.utils.exists(e.plugins.order)||e.plugins.order.length==0)return n.utils.log("No plugins to set up"),e;for(i=0;i<e.plugins.order.length;i++)try{t=e.plugins.order[i];n.utils.exists(n.html5[t])?e.plugins.object[t]=t=="playlist"?new n.html5.playlistcomponent(ut,e.plugins.config[t]):new n.html5[t](ut,e.plugins.config[t]):e.plugins.order.splice(plugin,plugin+1);typeof e.plugins.object[t].addGlobalListener=="function"&&e.plugins.object[t].addGlobalListener(ht)}catch(r){n.utils.log("Could not setup "+t)}},e}}(jwplayer),function(n){n.html5.playlist=function(t){var i=[],r;if(t.playlist&&t.playlist instanceof Array&&t.playlist.length>0)for(r in t.playlist)isNaN(parseInt(r))||i.push(new n.html5.playlistitem(t.playlist[r]));else i.push(new n.html5.playlistitem(t));return i}}(jwplayer),function(n){var i={size:180,position:n.html5.view.positions.NONE,itemheight:60,thumbs:!0,fontcolor:"#000000",overcolor:"",activecolor:"",backgroundcolor:"#f8f8f8",font:"_sans",fontsize:"",fontstyle:"",fontweight:""},t={_sans:"Arial, Helvetica, sans-serif",_serif:"Times, Times New Roman, serif",_typewriter:"Courier New, Courier, monospace"};_utils=n.utils;_css=_utils.css;_hide=function(n){_css(n,{display:"none"})};_show=function(n){_css(n,{display:"block"})};n.html5.playlistcomponent=function(r,u){function p(){o=document.createElement("div");o.id=s.id+"_jwplayer_playlistcomponent";o.style.overflow="hidden";switch(f.position){case n.html5.view.positions.RIGHT:case n.html5.view.positions.LEFT:o.style.width=f.size+"px";break;case n.html5.view.positions.TOP:case n.html5.view.positions.BOTTOM:o.style.height=f.size+"px"}ft();e.item&&(f.itemheight=e.item.height);o.style.backgroundColor="#C6C6C6";s.jwAddEventListener(n.api.events.JWPLAYER_PLAYLIST_LOADED,d);s.jwAddEventListener(n.api.events.JWPLAYER_PLAYLIST_ITEM,rt);s.jwAddEventListener(n.api.events.JWPLAYER_PLAYER_STATE,ut)}function w(){var n=document.createElement("ul");return _css(n,{width:o.style.width,minWidth:o.style.width,height:o.style.height,backgroundColor:f.backgroundcolor,backgroundImage:e.background?"url("+e.background.src+")":"",color:f.fontcolor,listStyle:"none",margin:0,padding:0,fontFamily:t[f.font]?t[f.font]:t._sans,fontSize:(f.fontsize?f.fontsize:11)+"px",fontStyle:f.fontstyle,fontWeight:f.fontweight,overflowY:"auto"}),n}function b(n){return function(){var r=h.getElementsByClassName("item")[n],t=f.fontcolor,i=e.item?"url("+e.item.src+")":"";n==s.jwGetPlaylistIndex()&&(f.activecolor!==""&&(t=f.activecolor),e.itemActive&&(i="url("+e.itemActive.src+")"));_css(r,{color:f.overcolor!==""?f.overcolor:t,backgroundImage:e.itemOver?"url("+e.itemOver.src+")":i})}}function a(n){return function(){var r=h.getElementsByClassName("item")[n],t=f.fontcolor,i=e.item?"url("+e.item.src+")":"";n==s.jwGetPlaylistIndex()&&(f.activecolor!==""&&(t=f.activecolor),e.itemActive&&(i="url("+e.itemActive.src+")"));_css(r,{color:t,backgroundImage:i})}}function k(t){var i=c[t],u=document.createElement("li"),d,s,l,o,p;u.className="item";_css(u,{height:f.itemheight,display:"block",cursor:"pointer",backgroundImage:e.item?"url("+e.item.src+")":"",backgroundSize:"100% "+f.itemheight+"px"});u.onmouseover=b(t);u.onmouseout=a(t);var g=document.createElement("div"),r=new Image,w=0,h=0,k=0;return it()&&(i.image||i["playlist.image"]||e.itemImage)&&(r.className="image",e.itemImage?(w=(f.itemheight-e.itemImage.height)/2,h=e.itemImage.width,k=e.itemImage.height):(h=f.itemheight*4/3,k=f.itemheight),_css(g,{height:k,width:h,float:"left",styleFloat:"left",cssFloat:"left",margin:"0 5px 0 0",background:"black",overflow:"hidden",margin:w+"px",position:"relative"}),_css(r,{position:"relative"}),g.appendChild(r),r.onload=function(){n.utils.stretch(n.utils.stretching.FILL,r,h,k,this.naturalWidth,this.naturalHeight)},i["playlist.image"]?r.src=i["playlist.image"]:i.image?r.src=i.image:e.itemImage&&(r.src=e.itemImage.src),u.appendChild(g)),d=v-h-w*2,y<f.itemheight*c.length&&(d-=15),s=document.createElement("div"),_css(s,{position:"relative",height:"100%",overflow:"hidden"}),l=document.createElement("span"),i.duration>0&&(l.className="duration",_css(l,{fontSize:(f.fontsize?f.fontsize:11)+"px",fontWeight:f.fontweight?f.fontweight:"bold",width:"40px",height:f.fontsize?f.fontsize+10:20,lineHeight:24,float:"right",styleFloat:"right",cssFloat:"right"}),l.innerHTML=_utils.timeFormat(i.duration),s.appendChild(l)),o=document.createElement("span"),o.className="title",_css(o,{padding:"5px 5px 0 "+(w?0:"5px"),height:f.fontsize?f.fontsize+10:20,lineHeight:f.fontsize?f.fontsize+10:20,overflow:"hidden",float:"left",styleFloat:"left",cssFloat:"left",width:(i.duration>0?d-50:d)-10+"px",fontSize:(f.fontsize?f.fontsize:13)+"px",fontWeight:f.fontweight?f.fontweight:"bold"}),o.innerHTML=i?i.title:"",s.appendChild(o),i.description&&(p=document.createElement("span"),p.className="description",_css(p,{display:"block",float:"left",styleFloat:"left",cssFloat:"left",margin:0,paddingLeft:o.style.paddingLeft,paddingRight:o.style.paddingRight,lineHeight:(f.fontsize?f.fontsize+4:16)+"px",overflow:"hidden",position:"relative"}),p.innerHTML=i.description,s.appendChild(p)),u.appendChild(s),u}function d(){var n,t,i;if(o.innerHTML="",c=g(),c){for(items=[],h=w(),n=0;n<c.length;n++)t=k(n),t.onclick=nt(n),h.appendChild(t),items.push(t);l=s.jwGetPlaylistIndex();a(l)();o.appendChild(h);_utils.isIOS()&&window.iScroll&&(h.style.height=f.itemheight*c.length+"px",i=new iScroll(o.id))}}function g(){for(var t=s.jwGetPlaylist(),i=[],n=0;n<t.length;n++)t[n]["ova.hidden"]||i.push(t[n]);return i}function nt(n){return function(){s.jwPlaylistItem(n);s.jwPlay(!0)}}function tt(){h.scrollTop=s.jwGetPlaylistIndex()*f.itemheight}function it(){return f.thumbs.toString().toLowerCase()=="true"}function rt(n){l>=0&&(a(l)(),l=n.index);a(n.index)();tt()}function ut(){if(f.position==n.html5.view.positions.OVER)switch(s.jwGetState()){case n.api.events.state.IDLE:_show(o);break;default:_hide(o)}}function ft(){for(var n in e)e[n]=et(n)}function et(n){return s.skin.getSkinElement("playlist",n)}var s=r,f=n.utils.extend({},i,s.skin.getComponentSettings("playlist"),u),o,v,y,c,h,l,e;if(f.position!=n.html5.view.positions.NONE&&typeof n.html5.view.positions[f.position]!="undefined")return l=-1,e={background:undefined,item:undefined,itemOver:undefined,itemImage:undefined,itemActive:undefined},this.getDisplayElement=function(){return o},this.resize=function(n,t){if(v=n,y=t,s.jwGetFullscreen())_hide(o);else{var i={display:"block",width:v,height:y};_css(o,i)}},this.show=function(){_show(o)},this.hide=function(){_hide(o)},p(),this}}(jwplayer),function(n){function t(t){var i,r,u;if(n.utils.isYouTube(t.file))return"youtube";if(i=n.utils.extension(t.file),i&&n.utils.extensionmap[i]){if(i=="m3u8")return"video";r=n.utils.extensionmap[i].html5}else t.type&&(r=t.type);if(r){if(u=r.split("/")[0],u=="audio")return"sound";if(u=="video")return u}return""}n.html5.playlistitem=function(i){var r=n.utils.extend({},{author:"",date:"",description:"",image:"",link:"",mediaid:"",tags:"",title:"",provider:"",file:"",streamer:"",duration:-1,start:0,currentLevel:-1,levels:[]},i);return r.type&&(r.provider=r.type,delete r.type),r.levels.length===0&&(r.levels[0]=new n.html5.playlistitemlevel(r)),r.provider=r.provider?r.provider.toLowerCase():t(r.levels[0]),r}}(jwplayer),function(n){n.html5.playlistitemlevel=function(t){var i={file:"",streamer:"",bitrate:0,width:0};for(var r in i)n.utils.exists(t[r])&&(i[r]=t[r]);return i}}(jwplayer),function(n){n.html5.playlistloader=function(){function r(r){var u=[];try{u=n.utils.parsers.rssparser.parse(r.responseXML.firstChild);t.sendEvent(n.api.events.JWPLAYER_PLAYLIST_LOADED,{playlist:new n.html5.playlist({playlist:u})})}catch(f){i("Could not parse the playlist")}}function i(i){t.sendEvent(n.api.events.JWPLAYER_ERROR,{message:i?i:"Could not load playlist an unknown reason."})}var t=new n.html5.eventdispatcher;n.utils.extend(this,t);this.load=function(t){n.utils.ajax(t,r,i)}}}(jwplayer),function(n){n.html5.skin=function(){var t={},i=!1;this.load=function(r,u){new n.html5.skinloader(r,function(n){i=!0;t=n;u()},function(){new n.html5.skinloader("",function(n){i=!0;t=n;u()})})};this.getSkinElement=function(r,u){if(i)try{return t[r].elements[u]}catch(f){n.utils.log("No such skin component / element: ",[r,u])}return null};this.getComponentSettings=function(n){return i&&t&&t[n]?t[n].settings:null};this.getComponentLayout=function(n){return i?t[n].layout:null}}}(jwplayer),function(n){n.html5.skinloader=function(t,i,r){function v(){typeof f!="string"||f===""?e(n.html5.defaultSkin().xml):n.utils.ajax(n.utils.getAbsolutePath(f),function(t){try{if(n.utils.exists(t.responseXML)){e(t.responseXML);return}}catch(i){p()}e(n.html5.defaultSkin().xml)},function(){e(n.html5.defaultSkin().xml)})}function e(t){var o=t.getElementsByTagName("component"),f,i,ut,g,a,v,p,c,w,nt,b,r,k,tt,it,e,l,d,rt;if(o.length!==0)for(f=0;f<o.length;f++){for(i=o[f].getAttribute("name"),ut={settings:{},elements:{},layout:{}},u[i]=ut,g=o[f].getElementsByTagName("elements")[0].getElementsByTagName("element"),a=0;a<g.length;a++)y(g[a],i);if(v=o[f].getElementsByTagName("settings")[0],v&&v.childNodes.length>0)for(p=v.getElementsByTagName("setting"),c=0;c<p.length;c++){var ft=p[c].getAttribute("name"),et=p[c].getAttribute("value"),ot=/color$/.test(ft)?"color":null;u[i].settings[ft]=n.utils.typechecker(et,ot)}if(w=o[f].getElementsByTagName("layout")[0],w&&w.childNodes.length>0)for(nt=w.getElementsByTagName("group"),b=0;b<nt.length;b++){for(r=nt[b],u[i].layout[r.getAttribute("position")]={elements:[]},k=0;k<r.attributes.length;k++)tt=r.attributes[k],u[i].layout[r.getAttribute("position")][tt.name]=tt.value;for(it=r.getElementsByTagName("*"),e=0;e<it.length;e++){for(l=it[e],u[i].layout[r.getAttribute("position")].elements.push({type:l.tagName}),d=0;d<l.attributes.length;d++)rt=l.attributes[d],u[i].layout[r.getAttribute("position")].elements[e][rt.name]=rt.value;n.utils.exists(u[i].layout[r.getAttribute("position")].elements[e].name)||(u[i].layout[r.getAttribute("position")].elements[e].name=l.tagName)}}h=!1;s()}}function s(){clearInterval(o);c||(o=setInterval(function(){w()},100))}function y(t,i){var r=new Image,l=t.getAttribute("name"),e=t.getAttribute("src"),o,h,v;e.indexOf("data:image/png;base64,")===0?o=e:(h=n.utils.getAbsolutePath(f),v=h.substr(0,h.lastIndexOf("/")),o=[v,i,e].join("/"));u[i].elements[l]={height:0,width:0,src:"",ready:!1,image:r};r.onload=function(){b(r,l,i)};r.onerror=function(){c=!0;s();a()};r.src=o}function p(){var t,n,i,r,f;for(t in u){n=u[t];for(i in n.elements)r=n.elements[i],f=r.image,f.onload=null,f.onerror=null,delete r.image,delete n.elements[i];delete u[t]}}function w(){var n,t;for(n in u)if(n!="properties")for(t in u[n].elements)if(!u[n].elements[t].ready)return;h===!1&&(clearInterval(o),l(u))}function b(t,i,r){u[r]&&u[r].elements[i]?(u[r].elements[i].height=t.height,u[r].elements[i].width=t.width,u[r].elements[i].src=t.src,u[r].elements[i].ready=!0,s()):n.utils.log("Loaded an image for a missing element: "+r+"."+i)}var u={},l=i,a=r,h=!0,o,f=t,c=!1;v()}}(jwplayer),function(n){n.html5.api=function(t,i){function v(){u.state==n.api.events.state.PLAYING||u.state==n.api.events.state.BUFFERING?f.pause():f.play()}function o(n){return function(){return u[n]}}function c(n,t,i){return function(){var r=u.plugins.object[n];r&&r[t]&&typeof r[t]=="function"&&r[t].apply(r,i)}}function s(n){return function(){if(e&&typeof e[n]=="function")return e[n].apply(this,arguments);_utils.log("Could not call instream method - instream API not initialized")}}function y(){u.config.playlistfile?(u.addEventListener(n.api.events.JWPLAYER_PLAYLIST_LOADED,l),u.loadPlaylist(u.config.playlistfile)):typeof u.config.playlist=="string"?(u.addEventListener(n.api.events.JWPLAYER_PLAYLIST_LOADED,l),u.loadPlaylist(u.config.playlist)):(u.loadPlaylist(u.config),setTimeout(l,25))}function l(t){u.removeEventListener(n.api.events.JWPLAYER_PLAYLIST_LOADED,l);u.setupPlugins();a.setup();var t={id:r.id,version:r.version};f.playerReady(t)}var r={},h=document.createElement("div"),e;t.parentNode.replaceChild(h,t);h.id=t.id;r.version=n.version;r.id=h.id;var u=new n.html5.model(r,h,i),a=new n.html5.view(r,h,u),f=new n.html5.controller(r,h,u,a);return r.skin=new n.html5.skin,r.jwPlay=function(n){typeof n=="undefined"?v():n.toString().toLowerCase()=="true"?f.play():f.pause()},r.jwPause=function(n){typeof n=="undefined"?v():n.toString().toLowerCase()=="true"?f.pause():f.play()},r.jwStop=f.stop,r.jwSeek=f.seek,r.jwPlaylistItem=function(n){if(e){if(e.playlistClickable())return e.jwInstreamDestroy(),f.item(n)}else return f.item(n)},r.jwPlaylistNext=f.next,r.jwPlaylistPrev=f.prev,r.jwResize=f.resize,r.jwLoad=f.load,r.jwDetachMedia=f.detachMedia,r.jwAttachMedia=f.attachMedia,r.jwGetPlaylistIndex=o("item"),r.jwGetPosition=o("position"),r.jwGetDuration=o("duration"),r.jwGetBuffer=o("buffer"),r.jwGetWidth=o("width"),r.jwGetHeight=o("height"),r.jwGetFullscreen=o("fullscreen"),r.jwSetFullscreen=f.setFullscreen,r.jwGetVolume=o("volume"),r.jwSetVolume=f.setVolume,r.jwGetMute=o("mute"),r.jwSetMute=f.setMute,r.jwGetStretching=function(){return u.stretching.toUpperCase()},r.jwGetState=o("state"),r.jwGetVersion=function(){return r.version},r.jwGetPlaylist=function(){return u.playlist},r.jwAddEventListener=f.addEventListener,r.jwRemoveEventListener=f.removeEventListener,r.jwSendEvent=f.sendEvent,r.jwDockSetButton=function(n,t,i,r){u.plugins.object.dock&&u.plugins.object.dock.setButton&&u.plugins.object.dock.setButton(n,t,i,r)},r.jwControlbarShow=c("controlbar","show"),r.jwControlbarHide=c("controlbar","hide"),r.jwDockShow=c("dock","show"),r.jwDockHide=c("dock","hide"),r.jwDisplayShow=c("display","show"),r.jwDisplayHide=c("display","hide"),r.jwLoadInstream=function(t,i){e||(e=new n.html5.instream(r,u,a,f));setTimeout(function(){e.load(t,i)},10)},r.jwInstreamDestroy=function(){e&&e.jwInstreamDestroy()},r.jwInstreamAddEventListener=s("jwInstreamAddEventListener"),r.jwInstreamRemoveEventListener=s("jwInstreamRemoveEventListener"),r.jwInstreamGetState=s("jwInstreamGetState"),r.jwInstreamGetDuration=s("jwInstreamGetDuration"),r.jwInstreamGetPosition=s("jwInstreamGetPosition"),r.jwInstreamPlay=s("jwInstreamPlay"),r.jwInstreamPause=s("jwInstreamPause"),r.jwInstreamSeek=s("jwInstreamSeek"),r.jwDestroy=function(){f.destroy()},r.jwGetLevel=function(){},r.jwGetBandwidth=function(){},r.jwGetLockState=function(){},r.jwLock=function(){},r.jwUnlock=function(){},u.config.chromeless&&!n.utils.isIOS()?y():r.skin.load(u.config.skin,y),r}}(jwplayer)),function(n){n.fn.slides=function(t){t=n.extend({},n.fn.slides.option,t);var r=function(n){return window.document[n]?window.document[n]:navigator.appName.indexOf("Microsoft Internet")==-1&&document.embeds&&document.embeds[n]?document.embeds[n]:document.getElementById(n)},u=function(t){return n(":first-child",t).attr("name")||""},f=function(t){return n("object",t).attr("name")||""},i=function(){return!n(".play").hasClass("active")&&!t.playAfterChange};return this.each(function(){var rt;n(".slides ."+t.slideClass,e).addClass("slide");var e=n(this),l=n(".slides",e),v=t.start-1,h=n(".slide",e).size(),c=n(".slide",e).outerWidth(),ut=n(".slide",e).outerHeight(),b=t.effect.indexOf(",")<0?t.effect:t.effect.replace(" ","").split(",")[0],et=t.effect.indexOf(",")<0?b:t.effect.replace(" ","").split(",")[1],nt=n(".slideshow-paging",e).hide(),ot=n("li",nt).remove(),o=0,y=0,s=0,st,k,tt,w,d,a;n(e).css({overflow:"hidden",width:c,height:ut});var p=function(t){return n(".slide",e).eq(t)},g=function(i){var i=i||{};if(!k&&h>1){k=!0;p(s).data().stop();switch(i.direction){case"next":y=s;o=s+1;o=h===o?0:o;w=c*2;d=-c*2;s=o;break;case"prev":y=s;o=s-1;o=o===-1?h-1:o;w=0;d=0;s=o;break;case"paging":o=parseInt(i.clicked,10);y=s;o>y?(w=c*2,d=-c*2):(w=0,d=0);s=o}i.effect==="slide"?(l.children(":eq("+o+")").css({left:w,display:"block"}),l.animate({left:i.direction},parseInt(t.slideSpeed),t.slideEasing,function(){l.css({left:-c});l.children(":eq("+o+")").css({left:c,zIndex:5});l.children(":eq("+y+")").css({left:c,display:"none",zIndex:0});var n=p(s).data();n.play(!0);i.once||n.scheduleNext();k=!1})):l.children(":eq("+y+")",e).fadeOut(parseInt(t.fadeSpeed),t.fadeEasing,function(){l.children(":eq("+o+")",e).fadeIn(parseInt(t.fadeSpeed),t.fadeEasing,function(){is.ie()&&n(this).get(0).style.removeAttribute("filter")});var r=p(s).data();r.play(!0);i.once||r.scheduleNext();k=!1});n(".slideshow-paging li.current",e).removeClass("current");n(".slideshow-paging li button",e).removeAttr("disabled");n(".slideshow-paging li:eq("+o+")",e).addClass("current");n(".slideshow-paging li:eq("+o+") button",e).attr("disabled","true")}},ft=function(){n(".play").removeClass("active");n(".stop").addClass("active");t.togglePlayPauseButton&&(n(".stop").hide(),n(".play").show());p(s).data().stop()},it=function(){var n=p(s);n.data().play();n.data().scheduleNext();n.fadeIn(parseInt(t.fadeSpeed),t.fadeEasing,function(){st=!0})},ht=function(){n(".slide",e).each(function(){var i=ot.clone(),r=n(this).index()+1;n(".button-pager",i).attr("title",t.pagingTitle+r);n(".button-pager .item-text",i).text(r);n(nt).append(i)});n(".slideshow-paging li:eq("+v+")",e).addClass("current");n(".slideshow-paging li:eq("+o+") button",e).attr("disabled","true");n(".button-pager",e).click(function(t){return tt=n(this).parent().index(),s!=tt&&g({direction:"paging",effect:et,clicked:tt,once:i()}),t.preventDefault(),!1});n(nt).show()};h<-2||(v<0&&(v=0),v>h&&(v=h-1),t.start&&(s=v),l.children().css({position:"absolute",top:0,left:c,zIndex:0,display:"none"}),l.css({position:"relative",width:c*3,height:ut,left:-c}),n(".stop",e).click(function(t){return n(this).hasClass("active")||ft(),t.preventDefault(),!1}),n(".play",e).click(function(t){return n(this).hasClass("active")||it(),t.preventDefault(),!1}),t.hoverPause&&(e.mouseover(ft),e.mouseleave(it)),n(".next",e).click(function(n){return g({direction:"next",effect:b,once:i()}),n.preventDefault(),!1}),n(".prev",e).click(function(n){return g({direction:"prev",effect:b,once:i()}),n.preventDefault(),!1}),n(".slide",e).each(function(){var i=0;jQuery.each(n(this).attr("class").split(" "),function(n,t){t.indexOf("delay-")!==-1&&(i=parseInt(t.substring(6),10))});(i===0||isNaN(i))&&(i=t.displayTimeSlide);n(this).data({delay:i*1e3})}),rt=function(){n(".play").addClass("active");n(".stop").removeClass("active");t.togglePlayPauseButton&&(n(".stop").show(),n(".play").hide())},n(".slide",e).each(function(){n(this).data({init:jQuery.noop,play:jQuery.noop,stop:function(){clearTimeout(a)},scheduleNext:function(){if(h===1){clearTimeout(a);var t=p(s).data();a=setTimeout(function(){t.stop();t.play(!0);t.scheduleNext()},this.delay);rt()}else h>1&&(clearTimeout(a),a=setTimeout(function(){n(".slide",e).eq(s).data().stop();g({direction:"next",effect:b})},this.delay),rt())}})}),n(".slide.swf",e).each(function(t,i){n(this).data({play:function(t){var f=r(u(i));try{t&&f.Rewind();f.Play()}catch(e){n(i).html(n(i).html());console.log("Flash reloaded")}},stop:function(){var n=r(u(i));try{n.StopPlay()}catch(t){}clearTimeout(a)}})}),n(".slide.flv",e).each(function(t,i){n(this).data({player:jwplayer(f(i)),init:function(){var n=this;n.player.onPause(function(){n.playing&&n.player.pause(!1)}).onPlay(function(){n.playing||n.player.pause(!0)}).onReady(function(){this.playing=!0;n.player.play(!0)}).onIdle(function(n){console.log("Idle: "+n.oldstate)})},play:function(n){this.playing=!0;n?this.player.play(!0).seek(0):this.player.play(!0)},stop:function(){this.playing=!1;this.player.pause(!0);clearTimeout(a)}})}),n(".slide",e).each(function(){n(this).data().init();n(this).data().stop()}),h>1&&t.paging&&ht(),(h>1||t.alwaysDisplayNavbar&&h>0)&&n(".slideshow-navbar",e).show(),n(".slide:eq(0)",e).each(function(){n(this).fadeIn(parseInt(t.fadeSpeed),t.fadeEasing)}),h>0&&it())})};n.fn.slides.option={preload:!0,preloadImage:"evenementiel/img/loader.gif",paging:!0,pagingTitle:"Diapo ",alwaysDisplayNavbar:!1,fadeSpeed:300,fadeEasing:"",slideSpeed:300,slideEasing:"",start:1,effect:"fade",displayTimeSlide:3,hoverPause:!0,playAfterChange:!1,togglePlayPauseButton:!1,slideClass:""}}(jQuery);$(document).ready(function(){$("#slideshow").each(function(){var n=$("#slideshow").find(".slides");$("#slideshow").slides({slideClass:n.attr("data-slideClass"),paging:n.attr("data-paging").toLowerCase()=="true",pagingTitle:n.attr("data-pagingTitle"),alwaysDisplayNavbar:n.attr("data-alwaysDisplayNavbar").toLowerCase()=="true",fadeSpeed:n.attr("data-fadeSpeed"),slideSpeed:n.attr("data-slideSpeed"),effect:n.attr("data-effect"),displayTimeSlide:n.attr("data-displayTimeSlide"),hoverPause:n.attr("data-hoverPause").toLowerCase()=="true",playAfterChange:n.attr("data-playAfterChange").toLowerCase()=="true",togglePlayPauseButton:n.attr("data-togglePlayPauseButton").toLowerCase()=="true"})})});cityWay.forms.autocomplete=function(n){function l(i,r,u,f,e){f==null&&(f=10);e==null&&(e="PartnerId");document.getElementById(i).setAttribute("autocomplete","off");n(function(){var t={};n("#"+i).typeahead({minLength:3,highlight:!0,autoselect:!1},{name:"select-line",displayKey:"name",limit:f,templates:{suggestion:function(n){return"<p>"+n.name+' <span class="info-autocomplete">'+n.network+"<\/span><\/p>"},notFound:function(){return'<p><span class="info-no-result">'+cityWay.texts.site.Autocomplete_NoResult+"<\/span><\/p>"}},source:function(n,r,o){var h,c,l,s,a;for(n=n.replace(/'/gi," "),h=0,document.getElementById(e||"selectPartner")!=null&&(h=document.getElementById(e||"selectPartner").value,h==""&&(h=0)),c=document.getElementsByName("TransportModes"),l="",s=0,a=c.length;s<a;s++)c[s].checked&&(l+=l==""?c[s].value:"|"+c[s].value);cityWay.forms.searchLine(n,o,i,f,h,u,t,l)}}).bind("typeahead:selected",function(n,t){document.getElementById(i).value=t.name;document.getElementById(r).value=t.value;cityWay.eventManager.publish(cityWay.events.autocomplete.itemSelected,i,t)})});document.getElementById(r).parentNode.insertBefore(t("nb-result-"+i),document.getElementById(i))}function a(i,r,u){u==null&&(u=10);document.getElementById(i).setAttribute("autocomplete","off");n(function(){var t={};n("#"+i).typeahead({minLength:3,highlight:!0,autoselect:!1},{name:"select-locality",displayKey:"name",limit:u,templates:{notFound:function(){return'<p><span class="info-no-result">'+cityWay.texts.site.Autocomplete_NoResult+"<\/span><\/p>"}},source:function(n,r,f){n=n.replace(/'/gi," ");cityWay.forms.searchLocality(n,f,i,u,t)}}).bind("typeahead:selected",function(n,t){document.getElementById(i).value=t.name;document.getElementById(r).value=t.value})});document.getElementById(r).parentNode.insertBefore(t("nb-result-"+i),document.getElementById(i))}function v(i,r,u){u==null&&(u=10);document.getElementById(i).setAttribute("autocomplete","off");n(function(){var t={};n("#"+i).typeahead({minLength:1,highlight:!0,autoselect:!1},{name:"select-locality",displayKey:"name",limit:u,templates:{notFound:function(){return'<p><span class="info-no-result">'+cityWay.texts.site.Autocomplete_NoResult+"<\/span><\/p>"}},source:function(n,r,f){n=n.replace(/'/gi," ");cityWay.forms.searchLocalityV3(n,f,i,u,t)}}).bind("typeahead:selected",function(n,t){document.getElementById(i).value=t.name;document.getElementById(r).value=t.value})});document.getElementById(r).parentNode.insertBefore(t("nb-result-"+i),document.getElementById(i))}function y(i,r,u,f,e){f==null&&(f=10);document.getElementById(i).setAttribute("autocomplete","off");var o="";n(function(){var t={};n("#"+i).typeahead({minLength:1,highlight:!0,autoselect:!1},{name:"select-stop",displayKey:"name",limit:f,templates:{suggestion:function(n){return'<p><span class="'+n.cssClass+'"><\/span>'+n.name+' <span class="info-autocomplete">'+n.type+"<\/span><\/p>"},notFound:function(){return'<p><span class="info-no-result">'+cityWay.texts.site.Autocomplete_NoResult+"<\/span><\/p>"}},source:function(r,s,h){r=r.replace(/'/gi," ");var l=n.trim(r);o=c(l);cityWay.forms.searchPoint(r,h,i,u,f,e,t)}}).bind("typeahead:selected",function(n,t){document.getElementById(i).value=t.name;document.getElementById(r).value=t.value;cityWay.eventManager.publish(cityWay.events.journeyPlanner.searchFormChanged,i,t.source,o)})});document.getElementById(r).parentNode.insertBefore(t("nb-result-"+i),document.getElementById(i))}function p(e,h,l,a,v){a==null&&(a=10);document.getElementById(e).setAttribute("autocomplete","off");var y="";l=s(l);n(function(){var t={};n("#"+e).typeahead({minLength:1,highlight:!0,autoselect:!1},{name:"select-stop",displayKey:"name",templates:{suggestion:function(n){return'<p><span class="'+n.cssClass+'"><\/span>'+n.name+' <span class="info-autocomplete">'+n.type+"<\/span><\/p>"}},source:function(s,h){var p,w;s=s.replace(/'/gi," ");p=n.trim(s);y=c(p);p in t?(w=t[p],h(n.map(w,function(n){var t=o(n);return{value:i(n),name:r(n),number:n.Number,cssClass:u(t),type:f(t),source:t}})),n(".nb-result-"+e+" > SPAN").html(w.length+" "+cityWay.texts.site.Autocomplete_NbResult)):cityWay.forms.searchPointV3(s,h,e,l,a,v,t)}}).bind("typeahead:selected",function(n,t){document.getElementById(e).value=t.name;document.getElementById(h).value=t.value;cityWay.eventManager.publish(cityWay.events.journeyPlanner.searchFormChanged,e,t.source,y)})});document.getElementById(h).parentNode.insertBefore(t("nb-result-"+e),document.getElementById(e))}function e(n,t){var i=t;return n!=null&&n!=""&&n!=t&&(i=n+" "+i),i}function o(n){return{Name:n.Name,Id:n.Id,TypePoint:b(n.Type),LogicalStop:{Id:n.Id},Latitude:n.Latitude,Longitude:n.Longitude,Categories:n.POICategoryID,Locality:{Name:n.CityName,Id:n.CityCode},Distance:n.Distance}}function s(n){switch(n){case"4":return"2";case"3":return"4";default:return n}}function w(n){return n.CityCode!=null&&n.CityCode!=""?n.CityCode+" "+n.Name:n.Name}function b(n){switch(n){case 2:return 4;case 4:return 3;default:return n}}function h(n,t){return t&&n.Partner!=null?n.Partner.ShortName:""}function i(n){var t=n.Id+"_"+n.TypePoint;return n.TypePoint==3&&n.Number!=""&&n.Number!="0"&&n.Number!=null&&(t+="_"+n.Number),t}function r(n){var t="",i=n.Categories!=null&&n.Categories.length>0?n.Categories[0].Id:0;return t=n.TypePoint==cityWay.pointType.poi&&i==cityWay.poi.category.locality?n.Name:n.PostalCode!=null&&n.PostalCode!=""?n.Name+" - "+n.PostalCode+" "+n.Locality.Name:n.Name+" - "+n.Locality.Name,n.TypePoint==cityWay.pointType.address&&n.Number!=""&&n.Number!="0"&&n.Number!=null&&(t=n.Number+", "+t),t}function u(n){var t="cw-transinfo ";switch(n.TypePoint){case cityWay.pointType.poi:return t+"picto-point poi categ-"+(n.Categories.length>0?n.Categories[0].Id:0);case cityWay.pointType.physicalStop:return t+"picto-iti physicalstop";case cityWay.pointType.logicalStop:return t+"picto-iti logicalstop";case cityWay.pointType.address:case cityWay.pointType.roadLink:return t+"picto-point roadlink"}return t}function f(n){switch(n.TypePoint){case cityWay.pointType.physicalStop:var t=n.Code!=null&&n.Code!=""?" (#"+n.Code+")":"";return cityWay.texts.map.Title_Stop+t;case cityWay.pointType.logicalStop:return cityWay.texts.map.Title_Stop;case cityWay.pointType.address:return cityWay.texts.map.Title_Address;case cityWay.pointType.poi:if(n.Categories.length>0)return n.Categories[0].Name}return""}function c(n){var i=n.split(" "),t=i[0];return(t=t.replace(",",""),isNaN(t))?"":t}function t(n){var t=document.createElement("span"),i;return t.setAttribute("role","status"),t.setAttribute("aria-live","assertive"),t.setAttribute("class","sr-only "+n),t.setAttribute("className","sr-only "+n),i=document.createElement("span"),t.appendChild(i),t}return cityWay.forms.searchLine=cityWay.tools.debounce(function(t,i,r,u,f,o,s,c,l){var v=n.trim(t)+"|"+f+"|"+c,a;v in s?(a=s[v],i(n.map(a.Data,function(n){return{value:n.Id,name:e(n.Number,n.Name),network:h(n,o)}})),n(".nb-result-"+r+" > SPAN").text(a.Data.length+" "+cityWay.texts.site.Autocomplete_NbResult)):n.ajax({url:"/api/Lines/Search",type:"GET",data:{keywords:t,partnerId:f,maxItems:u,transportModes:c,excludePartners:l},dataType:"json",scriptCharset:"utf-8",beforeSend:function(){n("#"+r).addClass("loading")},success:function(u){s[n.trim(t)+"|"+f+"|"+c]=u;u.StatusCode=="0"?(i(n.map(u.Data,function(n){return{value:n.Id,name:e(n.Number,n.Name),network:h(n,o)}})),n(".nb-result-"+r+" > SPAN").text(u.Data.length+" "+cityWay.texts.site.Autocomplete_NbResult)):i(null);n("#"+r).removeClass("loading")}})},200),cityWay.forms.searchLocalityV3=function(t,i,r,u,f){n.ajax({url:cityWay.config.site.autocompV3.url,type:"GET",data:{keywords:t,maxItems:u,objectTypes:"1",includedPoiCategories:"3"},dataType:"json",scriptCharset:"utf-8",beforeSend:function(){n("#"+r).addClass("loading")},success:function(u){f[n.trim(t)]=u;u.length>0&&(i(n.map(u,function(n){return{value:n.CityCode,name:w(n)}})),n(".nb-result-"+r+" > SPAN").text(u.length+" "+cityWay.texts.site.Autocomplete_NbResult));n("#"+r).removeClass("loading")}})},cityWay.forms.searchLocality=cityWay.tools.debounce(function(t,i,r,u,f){var o=n.trim(t),e;o in f?(e=f[o],i(n.map(e.Data,function(n){return{value:n.Id,name:n.Name}})),n(".nb-result-"+r+" > SPAN").text(e.Data.length+" "+cityWay.texts.site.Autocomplete_NbResult)):n.ajax({url:"/api/Localities/Search",type:"GET",data:{keywords:t,maxItems:u},dataType:"json",scriptCharset:"utf-8",beforeSend:function(){n("#"+r).addClass("loading")},success:function(u){f[n.trim(t)]=u;u.StatusCode=="0"?(i(n.map(u.Data,function(n){return{value:n.Id,name:n.Name}})),n(".nb-result-"+r+" > SPAN").text(u.Data.length+" "+cityWay.texts.site.Autocomplete_NbResult)):i(null);n("#"+r).removeClass("loading")}})},200),cityWay.forms.searchPointV3=function(e,h,c,l,a,v,y){l=s(l);n.ajax({url:cityWay.config.site.autocompV3.url,type:"GET",data:{keywords:e,maxItems:a,objectTypes:l.replaceAll("|",";"),includedPoiCategories:v||""},dataType:"json",scriptCharset:"utf-8",beforeSend:function(){n("#"+c).addClass("loading")},success:function(t){y[n.trim(e)]=t;t.length>0&&(h(n.map(t,function(n){var t=o(n);return{value:i(t),name:r(n),number:t.Number,cssClass:u(t),type:f(t),source:t}})),n(".nb-result-"+c+" > SPAN").html(t.length+" "+cityWay.texts.site.Autocomplete_NbResult));n("#"+c).removeClass("loading")}});document.getElementById(inputHidden).parentNode.insertBefore(t("nb-result-"+c),document.getElementById(c))},cityWay.forms.searchPoint=cityWay.tools.debounce(function(t,e,o,s,h,c,l){var v=n.trim(t),a;v in l?(a=l[v],e(n.map(a.Data,function(n){return{value:i(n),name:r(n),number:n.Number,cssClass:u(n),type:f(n),source:n}})),n(".nb-result-"+o+" > SPAN").html(a.Data.length+" "+cityWay.texts.site.Autocomplete_NbResult)):n.ajax({url:"/api/TripPoint/Search",type:"GET",data:{keywords:t,maxItems:h,pointTypes:s.replace("$","|"),categories:c||""},dataType:"json",scriptCharset:"utf-8",beforeSend:function(){n("#"+o).addClass("loading")},success:function(s){l[n.trim(t)]=s;s.StatusCode=="0"?(e(n.map(s.Data,function(n){return{value:i(n),name:r(n),number:n.Number,cssClass:u(n),type:f(n),source:n}})),n(".nb-result-"+o+" > SPAN").html(s.Data.length+" "+cityWay.texts.site.Autocomplete_NbResult)):e(null);n("#"+o).removeClass("loading")}})},200),{addAutocompleteLine:l,addAutocompleteLocality:a,addAutocompletePoint:y,addAutocompleteLocalityV3:v,addAutocompletePointV3:p}}(jQuery);$(function(){function t(t){return n[t]}var n=cityWay.tools.getLessVars("Responsive");$("form").submit(function(){var n=!0,i=!0;return $(this).find("input#consent").length&&(document.getElementById("consent").checked?($("#error-consent").addClass("hidden"),$("form input#consent").parent().parent().removeClass("has-error")):($("#error-consent").removeClass("hidden"),$("form input#consent").parent().parent().addClass("has-error"),n=!1)),$(this).valid()&&n?($(this).find(".form-group").each(function(){$(this).find("span.field-validation-error").length==0&&$(this).removeClass("has-error")}),$(this).find("div.summary-form").each(function(){$(this).html("");$(this).addClass("hidden")})):($(this).hasClass("form-semi-inline")&&$(this).each(function(){if(window.matchMedia("(min-width:"+t("screenSmMin")+"px)").matches){$(this).addClass("has-error-form");var n=$(this).find("label").detach();$(this).prepend(n)}}),$(this).find(".form-group").each(function(){$(this).find("span.field-validation-error").length>0&&$(this).addClass("has-error")}),$(this).find("div.summary-form").each(function(){$(this).html($(this).attr("data-valmsg"));$(this).removeClass("hidden")}),i=!1),$(this).find(".form-group").each(function(){$("input, textarea").change(function(){$(this).hasClass("input-validation-error")&&$(this).parent().parent().addClass("has-error");$(this).hasClass("valid")&&$(this).parent().parent().removeClass("has-error")});$("select").change(function(){$(this).val()!=""?$(this).parent().parent().removeClass("has-error"):$(this).parent().parent().addClass("has-error")})}),i});$(".validation-summary-errors").each(function(){$(this).attr("role","alert")})});cityWay.forms.onChangeObject=function(n,t,i){document.getElementById(n).value==t?$("#"+i).removeClass("hidden"):$("#"+i).addClass("hidden")};cityWay.forms.DisplaySlider=function(n,t,i,r,u,f,e){"use strict";$("#"+t).slider({min:r,max:u,step:f,value:i,tooltip:"hide"}).on("slide",function(i){$("#"+n).val(i.value);var r=$("#"+t).parent().find(".slider-track > .slider-handle:eq(0)");r.attr("aria-valuenow",i.value);r.attr("aria-valuetext",i.value+" "+e)}).on("slideStop",function(){$("#"+n).change()});$("#"+n).attr("readonly","readonly");$("#"+n).addClass("noborder");$("label[for='"+n+"']").attr("id","lbl-"+n);var o=$("#"+t).parent().find(".slider-track > .slider-handle:eq(0)");o.attr("aria-labelledby","lbl-"+n);o.attr("aria-valuemax",u);o.attr("aria-valuemin",r);o.attr("aria-valuenow",i);o.attr("aria-valuetext",i+" "+e);o.attr("tabindex","0");o.attr("role","slider");$("#"+t).parent().find(".slider-track > .slider-handle:eq(0)").on("keydown",function(i){i=i||window.event;var e;i.keyCode==cityWay.keys.leftArrow?(e=Number(o.attr("aria-valuenow"))-f,e>=r&&cityWay.forms.setValueSlider(n,t,e)):i.keyCode==cityWay.keys.rightArrow&&(e=Number(o.attr("aria-valuenow"))+f,e<=u&&cityWay.forms.setValueSlider(n,t,Number(o.attr("aria-valuenow"))+f))})};cityWay.forms.setValueSlider=function(n,t,i){$("#"+n).val(i);$("#"+t).slider("setValue",i);var r=$("#"+t).parent().find(".slider-track > .slider-handle:eq(0)");r.attr("aria-valuenow",i);$("#"+n).change()};cityWay.forms.bindCheckboxToggle=function(n,t){"use strict";var i=$(n),r=$(t).find(":checkbox"),u;if(i.size()!=0&&r.size()!=0){u=!1;i.is(":checkbox")&&(u=i.is(":checked"),i.prop("checked",u));i.data("checked",u);i.on("click",function(){var n=$(this),t=!n.data("checked");return r.prop("checked",t),!0});r.on("click",function(){var n=$(this);return n.is(":checked")?r.is(":not(:checked)")?(i.data("checked",!1),i.prop("checked",!1),!0):(i.data("checked",!0),i.prop("checked",!0),!0):(i.data("checked",!1),i.prop("checked",!1),!0)})}};cityWay.forms.ajaxSubmit=function(n){"use strict";$(n).submit(function(n){n.preventDefault();var t=$(this);t.find("[type=submit]").prop("disabled","disabled");$.ajax({url:t.attr("action"),async:!1,type:t.attr("method"),data:t.serialize(),success:function(n){t.parent().empty().html(n)}})})};$(function(){cityWay.FavoriteManager=function(){"use strict";function e(n,t){var e,f,i,u;t=t||{};e=t.errorMessage||"Error";$(n).on("click","a.selectable",function(n){n.preventDefault();var t=$(this),f=t.data("text-target"),p=t.data("value-target"),w=t.data("lat-target"),b=t.data("lng-target"),k=t.data("num-target"),i=$(f),o=$(p),s=$(w),h=$(b),c=$(k),l=t.data("value"),u=l.split("_");$("body").addClass("wait");var a=parseInt(u[0]),v=parseInt(u[1]),y=parseInt(u[2])||0;if(isNaN(a)||isNaN(v)){error();return}i.attr("data-autocomplete")?i.typeahead("val",t.html()):i.val(t.html());o.val(l);s.val(t.data("lat"));h.val(t.data("lng"));c.val(y);r(a,v,y,f.replace("#",""),t,i,o,e,s,h,c,t.data("lat"),t.data("lng"))});if(f=t.favoriteToggleUrl,!!f){i=function(n){if(!!n&&n.size()!=0){var i=n.data("action"),r=n.data("value");$.ajax(f,{type:"POST",dataType:"html",data:n.data(),beforeSend:function(){$("body").addClass("wait")}}).then(function(u){if(n.parents("ul").empty().append(u),i!=cityWay.FavoriteManager.Actions.GetAll){cityWay.eventManager.publish(cityWay.events.favorites.pointChanged,r,n);var f=t.dropDownTrigger;if(!!f)$(f).addClass("update-success pulse-once").one(cityWay.events.animations.end,function(){$(this).removeClass("update-success pulse-once")})}}).fail(function(){var i=$("<div/>").addClass("required").append($("<span/>").html(t.favoriteErrorMessage||"Error")).insertAfter($(n.data("text-target")).parent());setTimeout(function(){i.hide("slow").remove()},5e3)}).always(function(){$("body").removeClass("wait")})}};$(n).on("click","a.favorite",function(n){n.preventDefault();i($(this))});cityWay.eventManager.subscribe(cityWay.events.journeyPlanner.searchFormChanged,function(t,r){var u=$(n).find("a.data-reference[data-text-target=#"+t+"]"),f;u.size()>0&&(!r||(f="",r.Number>0&&(f="_"+r.Number,$(u.data("num-target")).val(r.Number)),u.data({value:r.Id+"_"+r.TypePoint+f,lng:r.Longitude,lat:r.Latitude})),i(u))});cityWay.eventManager.subscribe(cityWay.events.favorites.pointChanged,function(t,r){if(!!r){var u=r.data("text-target");$(n).find("a.data-reference").each(function(){var n=$(this);n.data("text-target")!=u&&(n.data("value",$(n.data("value-target")).val()),i(n))})}});cityWay.eventManager.subscribe(cityWay.events.map.departureSelected,function(n,t,i,r){u(n,r,"KeywordDep")});cityWay.eventManager.subscribe(cityWay.events.map.arrivalSelected,function(n,t,i,r){u(n,r,"KeywordArr")});cityWay.eventManager.subscribe(cityWay.events.map.viaSelected,function(n,t,i,r){u(n,r,"KeywordVia")});u=function(t,r,u){var e=$(n).find("a.data-reference[data-text-target=#"+u+"]"),f;e.data({value:r,lng:t.longitude,lat:t.latitude});i(e);f={Id:t.id,TypePoint:t.pointType,Number:t.Number};(t.pointType==cityWay.pointType.physicalStop||t.pointType==cityWay.pointType.logicalStop)&&(f.Id=t.logicalId,f.TypePoint=cityWay.pointType.logicalStop);cityWay.eventManager.publish(cityWay.events.favorites.journeyHasToChange,u,f)}}}function o(n,t){var u={get:function(){return null},set:function(){}},l=t.textSelector,a=t.valueSelector,y=t.errorMessage||"Error",v=["Dep","Arr","Via"],f=t.typeDateCb||u,e=t.algorithmCb||u,o=t.viaDurationCb||u,s,h,i,c;$(n).on("click","a.selectable",function(n){var s;n.preventDefault();var t=$(this),tt=t.data("lat-target"),it=t.data("lng-target"),rt=t.data("num-target");for(s=0;s<v.length;s++){var i=v[s],u=i.toLowerCase(),w=t.data(u+"-value"),h=$("#"+l+i),ut=$("#"+a+i),b=$("#"+tt+i),k=$("#"+it+i),d=$("#"+rt+i);h.attr("data-autocomplete")?h.typeahead("val",t.data(u+"-text")):h.val(t.data(u+"-text"));$("#"+a+i).val(w);b.val(t.data(u+"-lat"));k.val(t.data(u+"-lng"));var c=w.split("_"),p=parseInt(c[0])||0,g=parseInt(c[1])||0,nt=parseInt(c[2])||0;d.val(nt);p!=0&&g!=0&&r(p,g,nt,l+i,t,h,ut,y,b,k,d,t.data(u+"-lat"),t.data(u+"-lng"));u=="via"&&p!=0&&$("#linkAddVia").click()}f.set(t.data("dateType"));e.set(t.data("algorithm"));o.set(t.data("viaDuration"))});if(s=t.favoriteToggleUrl,!!s){h=function(n){if(!!n&&n.size()!=0){var i=n.data("action");n.data("dateType",f.get());n.data("viaDuration",o.get());n.data("algorithm",e.get());$.ajax(s,{type:"POST",dataType:"html",data:n.data(),beforeSend:function(){$("body").addClass("wait")},async:!1}).then(function(r){if(n.parents("ul").empty().append(r),i!=cityWay.FavoriteManager.Actions.GetAll){var u=t.dropDownTrigger;if(!!u)$(u).addClass("pulse-once").one(cityWay.events.animations.end,function(){$(this).removeClass("pulse-once")})}}).fail(function(){var i=$("<div/>").addClass("required").append($("<span/>").html(t.favoriteErrorMessage||"Error")).insertAfter(n.parents(".open:first"));setTimeout(function(){i.hide("slow").remove()},5e3)}).always(function(){$("body").removeClass("wait")})}};$(n).on("click","a.favorite",function(n){n.preventDefault();h($(this))});i={depValue:null,viaValue:null,arrValue:null,action:cityWay.FavoriteManager.Actions.GetAll};!t.initialValues||(i.depValue=t.initialValues.depValue||null,i.viaValue=t.initialValues.viaValue||null,i.arrValue=t.initialValues.arrValue||null);cityWay.eventManager.subscribe(cityWay.events.journeyPlanner.searchFormChanged,function(n,t){c(n,t)});c=function(t,r){var u=!r?null:r.Id+"_"+r.TypePoint,s;!u||isNaN(r.Number)||parseInt(r.Number)==0||(u+="_"+parseInt(r.Number));t==="KeywordDep"?i.depValue=u:t==="KeywordVia"?i.viaValue=u:t==="KeywordArr"&&(i.arrValue=u);s=$(n).find("a.data-reference");i.dateType=f.get();i.viaDuration=o.get();i.algorithm=e.get();s.data(i);cityWay.eventManager.publish(cityWay.events.favorites.journeyChanged,s)};cityWay.eventManager.subscribe(cityWay.events.favorites.journeyChanged,function(n){h(n)});cityWay.eventManager.subscribe(cityWay.events.favorites.journeyHasToChange,function(n,t){c(n,t)})}}function s(n,t){var i,r;if(t=t||{},i=t.favoriteToggleUrl,!!i){r=function(n){if(!!n&&n.size()!=0){var r=n.data("action"),u=n.data("value"),f=$("[data-include-Stops]").data("includeStops");f===1?n.data("includeStops","true"):n.data("includeStops","false");$.ajax(i,{type:"POST",dataType:"html",data:n.data(),beforeSend:function(){$("body").addClass("wait")}}).then(function(i){if(n.parents("ul").empty().append(i),r!=cityWay.FavoriteManager.Actions.GetAll){cityWay.eventManager.publish(cityWay.events.favorites.pointChanged,u,n);var f=t.dropDownTrigger;if(!!f)$(f).addClass("update-success pulse-once").one(cityWay.events.animations.end,function(){$(this).removeClass("update-success pulse-once")})}}).fail(function(){var i=$("<div/>").addClass("required").append($("<span/>").html(t.favoriteErrorMessage||"Error")).insertAfter($(n.data("text-target")).parent());setTimeout(function(){i.hide("slow").remove()},5e3)}).always(function(){$("body").removeClass("wait")})}};$(n).on("click","a.favorite",function(n){n.preventDefault();r($(this))});cityWay.eventManager.subscribe(cityWay.events.journeyPlanner.searchFormChanged,function(t,i){var u=$(n).find("a.data-reference[data-text-target=#"+t+"]"),f;u.size()>0&&(!i||(f="",i.Number>0&&(f="_"+i.Number),u.data("value",i.Id+"_"+i.TypePoint+f)),r(u))})}}var n=this,u=function(n,t,r,u,f,e,o,s,h,c){t.Data?(t.Data.Number=o,cityWay.eventManager.publish(cityWay.events.journeyPlanner.searchFormChanged,n,t.Data,o),u.change(),f.change(),s.change(),h.change(),c.change()):i(r,u,f,e,s,h,c)},i=function(n,t,i,r,u,f,e){var o,s;if(t.val(""),i.val(""),u.val(""),f.val(""),e.val(""),n.addClass("strike").removeClass("selectable").removeAttr("href"),o=t.parents("div:first"),$(".error-message",o.parent()).size()==0){s=$("<div/>").addClass("required error-message").append($("<span/>").html(r)).insertAfter(o);t.one("change keydown keyup",function(){s.hide("slow");s.remove()})}cityWay.eventManager.publish(cityWay.events.journeyPlanner.searchFormChanged,t.selector.replace("#",""),null);$("body").removeClass("wait")},f=function(){$("body").removeClass("wait")},t=function(){$("body").addClass("wait")},r=function(n,r,e,o,s,h,c,l,a,v,y,p,w){var b;return b=r==cityWay.pointType.roadLink?cityWay.roadDataService.getStreet(n,{beforeSend:t}):r==cityWay.pointType.address?cityWay.roadDataService.getRoad(n,e,p,w,{beforeSend:t}):cityWay.pointDataService.getPoint(n,r,{beforeSend:t}),b.then(function(n){u(o,n,s,h,c,l,e,a,v,y)}).fail(function(){i(s,h,c,l,a,v,y)}).always(f),b};return n.bindJourneyPlannerDropdown=e,n.bindFavoritesJourneysDropdown=o,n.bindJourneyNearByDropdown=s,n};cityWay.FavoriteManager.Actions={Add:"Add",Remove:"Remove",GetAll:"GetAll"}});cityWay.modules.favorite=function(n){function t(t){cityWay.config.urls.favoriteStop!=null&&cityWay.config.urls.favoriteStop!=""&&n.ajax(cityWay.config.urls.favoriteStop+t,{cache:!1,beforeSend:function(){n("body").addClass("wait")},success:function(t){n(".favorite-stops").html(t);n(".favorite-stops-trigger").addClass("update-success pulse-once").one(cityWay.events.animations.end,function(){n(this).removeClass("update-success pulse-once")})},complete:function(){n("body").removeClass("wait")}})}function i(t){cityWay.config.urls.favoriteLine!=null&&cityWay.config.urls.favoriteLine!=""&&n.ajax(cityWay.config.urls.favoriteLine+t,{cache:!1,beforeSend:function(){n("body").addClass("wait")},success:function(t){n(".favorite-lines").html(t);n(".favorite-lines-trigger").addClass("update-success pulse-once").one(cityWay.events.animations.end,function(){n(this).removeClass("update-success pulse-once")})},complete:function(){n("body").removeClass("wait")}})}function r(t,i,r,u){cityWay.config.urls.favoriteJourneyLink!=null&&cityWay.config.urls.favoriteJourneyLink!=""&&n.ajax(cityWay.config.urls.favoriteJourneyLink,{cache:!1,data:{depValue:t,arrValue:i,viaValue:r,messageContainer:u},beforeSend:function(){n("body").addClass("wait")},success:function(t){t!=null&&n("[data-link-journey]").html(t)},complete:function(){n("body").removeClass("wait")}})}return{reloadStopList:t,reloadLineList:i,reloadJourneyLink:r}}(jQuery);cityWay.links.ajaxLoad("[data-action-favorite-line] a",$("[data-action-favorite-line]").parent(),function(n,t,i,r,u,f){var s=$(f).data("id"),e=$("[data-container-message='"+$(f).data("container")+"']"),o=$(f).data("other-container");o!=""&&e.detach().appendTo(o);$(document).trigger(cityWay.events.favorites.pointChanged);cityWay.eventManager.publish(cityWay.events.favorites.lineChanged,s,n);e.size()>0&&setTimeout(function(){e.slideUp("slow",function(){$(this).remove()})},3e3)});cityWay.links.ajaxLoad("[data-action-favorite-stop] a",$("[data-action-favorite-stop]").parent(),function(n,t,i,r,u,f){var s=$(f).data("id"),e=$("[data-container-message='"+$(f).data("container")+"']"),o=$(f).data("other-container");o!=""&&e.detach().appendTo(o);$(document).trigger(cityWay.events.favorites.pointChanged);cityWay.eventManager.publish(cityWay.events.favorites.stopChanged,s,n);e.size()>0&&setTimeout(function(){e.slideUp("slow",function(){$(this).remove()})},3e3)});cityWay.links.ajaxLoad("[data-action-favorite-place] a",$("[data-action-favorite-place]").parent(),function(n,t,i,r,u,f){var e=$("[data-container-message='"+$(f).data("container")+"']");$(document).trigger(cityWay.events.favorites.pointChanged);e.size()>0&&setTimeout(function(){e.slideUp("slow",function(){$(this).remove()})},3e3)});cityWay.links.ajaxLoad("[data-action-favorite-journey] a",$("[data-action-favorite-journey]").parent(),function(n,t,i,r,u,f){var e=$("[data-container-message='"+$(f).data("container")+"']"),o=$(f).data("other-container");o!=""&&e.detach().appendTo(o);$(document).trigger(cityWay.events.favorites.journeyChanged);e.size()>0&&setTimeout(function(){e.slideUp("slow",function(){$(this).remove()})},3e3)});$(function(){cityWay.pointDataService=function(){function n(n,t,i){var r={id:n,type:t};return $.ajax("/api/trippoint/Get",$.extend({type:"GET",dataType:"json",data:r},i))}return{getPoint:n}}()});$(function(){cityWay.roadDataService=function(){function n(n,t,i){var r={latitude:n,longitude:t,mode:i||0};return $.ajax("/api/map/GetNearestRoad",{type:"GET",dataType:"json",data:r})}function t(n,t){var i={id:n};return $.ajax("/api/trippoint/GetStreetSection",$.extend({type:"GET",dataType:"json",data:i},t))}function i(n,t,i,r,u){var f=cityWay.tools.replaceAll(String(i),",","."),e=cityWay.tools.replaceAll(String(r),",","."),o={id:n,number:t,lat:f,lng:e};return $.ajax("/api/trippoint/GetRoad",$.extend({type:"GET",dataType:"json",data:o},u))}return{getNearestRoad:n,getStreet:t,getRoad:i}}()});$(function(){cityWay.localityDataService=function(){function n(n){var t={localityId:n};return $.ajax("/api/TripPoint/GetTripPointLocality",{type:"GET",dataType:"json",data:t})}function t(n,t){var i={latitude:n,longitude:t};return $.ajax("/api/map/GetLocality",{type:"GET",dataType:"json",data:i})}return{getLocality:t,get:n}}()});
