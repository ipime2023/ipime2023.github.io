"use strict";var SmartlyWebchat,loadedWebchat=!1,SUPPORT_PERM_QUERY=!0,ALREADY_DISPLAY_WARNING=!1,hasLocationQR=!1,isMobileAndTablet=!1,LOCATION_WARNING={"en-us":"I need to access your location to perform this action. You can see how allow it here: <a href='https://goo.gl/A8kKb5' target='_blank'>Apple Support</a>","en-au":"I need to access your location to perform this action. You can see how allow it here: <a href='https://goo.gl/A8kKb5' target='_blank'>Apple Support</a>","en-uk":"I need to access your location to perform this action. You can see how allow it here: <a href='https://goo.gl/A8kKb5' target='_blank'>Apple Support</a>","en-ca":"I need to access your location to perform this action. You can see how allow it here: <a href='https://goo.gl/A8kKb5' target='_blank'>Apple Support</a>","fr-fr":"J'ai besoin d'accéder à votre localisation pour effectuer cette action. Cliquez ici <a href='https://goo.gl/LBhzpg' target='_blank'>Apple Support</a> pour savoir comment faire.","fr-ca":"J'ai besoin d'accéder à votre localisation pour effectuer cette action. Cliquez ici <a href='https://goo.gl/LBhzpg' target='_blank'>Apple Support</a> pour savoir comment faire."},mobileAndTabletCheck=function(){var t,e=!1;return t=navigator.userAgent||navigator.vendor||window.opera,e=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))?!0:e};function webchatRemoteControl(){this.iFrame=document.getElementById("smartly_webchat_iframe"),this.iFrameContainer=document.getElementById("smartly_webchat_iframe_container"),this.innerDoc=null,this.ready=!1,this.buildHTML=null,this.event=null,this.openWidgetWithMessage=!1}webchatRemoteControl.prototype.showBotMessage=function(e,t){function i(){this.openWidget();try{this.buildHTML.insertSmartlyRichTexts({rich_text:JSON.parse(e)},new Date)}catch(t){this.buildHTML.insertSmartlyMessage(e)}}null===this.buildHTML&&(this.buildHTML=this.iFrame.contentWindow.buildHTML);void 0===t?i.apply(this):setTimeout(i.bind(this),t)},webchatRemoteControl.prototype.sendUserMessage=function(t,e){function i(){this.openWidget(),this.buildHTML.insertUserMessage(t,t)}null===this.buildHTML&&(this.buildHTML=this.iFrame.contentWindow.buildHTML);void 0===e?i.apply(this):setTimeout(i.bind(this),e)},webchatRemoteControl.prototype.sendHiddenUserMessage=function(t){null===this.buildHTML&&(this.buildHTML=this.iFrame.contentWindow.buildHTML),this.openWidget(),this.buildHTML.insertHiddenUserMessage(t,t)},webchatRemoteControl.prototype.closeWidget=function(){null===this.innerDoc&&(this.innerDoc=this.iFrame.contentDocument||this.iFrame.contentWindow.document),this.innerDoc.getElementById("smartly-close-chat").click()},webchatRemoteControl.prototype.openWidget=function(e){if(null===this.innerDoc&&(this.innerDoc=this.iFrame.contentDocument||this.iFrame.contentWindow.document),"none"==this.innerDoc.getElementById("smartly-chat").style.display){if(void 0!==e){this.iFrame.contentWindow.start_welcome_page=!1,this.openWidgetWithMessage=!0,null===this.buildHTML&&(this.buildHTML=this.iFrame.contentWindow.buildHTML);try{var t=JSON.parse(e);this.buildHTML.insertSmartlyRichTexts({rich_text:t},new Date)}catch(t){this.buildHTML.insertSmartlyMessage(e)}}this.innerDoc.getElementById("smartly-show-chat").click()}},webchatRemoteControl.prototype.hideWidget=function(){null===this.innerDoc&&(this.innerDoc=this.iFrame.contentDocument||this.iFrame.contentWindow.document),this.innerDoc.getElementById("smartly-chat-button").style.display="none"},webchatRemoteControl.prototype.showWidget=function(){null===this.innerDoc&&(this.innerDoc=this.iFrame.contentDocument||this.iFrame.contentWindow.document),this.innerDoc.getElementById("smartly-chat-button").style.display="inline-flex"},webchatRemoteControl.prototype.on=function(t,e){this.event.on(t,e)};var initWebchatIframe=function(){var t,e,p,i,n,o,a,s,l,r,d;loadedWebchat||(loadedWebchat=!0,e=(t=document).createElement("div"),(p=document.createElement("iframe")).setAttribute("id","smartly_webchat_iframe"),p.setAttribute("tabindex","0"),e.setAttribute("id","smartly_webchat_iframe_container"),e.style.right="2%",e.style.border="none",e.style.position="fixed",e.style.bottom="2%",e.style.height="72px",e.style.maxHeight="92vh",e.style.width="72px",e.style.display="flex",e.style.zIndex="999999999999",e.style.flexDirection="column",e.style.justifyContent="end",p.style.height="72px",p.style.width="72px",p.style.border="none",i=document.getElementsByTagName("head")[0],e.appendChild(p),document.body.appendChild(e),window.SMARTLY_LANG.match("ar")&&!window.SMARTLY_LANG.match("latn")&&p.contentWindow.document.body.setAttribute("dir","rtl"),!(n=p.contentDocument)&&p.contentWindow&&(n=p.contentWindow.document),(o=t.createElement("script")).type="text/javascript",s=function(c){function t(){}a.eventEmitter={_JQInit:function(){this._JQ=a(this)},emit:function(t,e){this._JQ||this._JQInit(),this._JQ.trigger(t,e)},once:function(t,e){this._JQ||this._JQInit(),this._JQ.one(t,e)},on:function(t,e){this._JQ||this._JQInit(),this._JQ.bind(t,e)},off:function(t,e){this._JQ||this._JQInit(),this._JQ.unbind(t,e)}},a.extend(t.prototype,a.eventEmitter),SmartlyWebchat.event=new t,a.ajax({url:"https://webchat.smartly.ai/getChatIntegration",type:"post",data:{skill_id:window.SMARTLY_APP_ID,lang:window.SMARTLY_LANG},dataType:"json",error:function(t,e,i){console.error("Error from smartly.ai: "+t.responseText)},success:function(t){t.box_height=t.box_height.match(/(\d+)/g)[0]+"px",t.box_width=t.box_width.match(/(\d+)/g)[0]+"px";var e,i,n,o,a,s,l=t.popup_title,r=t.box_color,d=!1;p.setAttribute("title",t.box_title),"undefined"!=typeof sessionStorage&&(d=null!=sessionStorage.getItem("popup_has_been_chown")),!t.popup_display||t.state||d||("undefined"!=typeof sessionStorage&&sessionStorage.setItem("popup_has_been_chown",!0),d=document,e=d.createElement("div"),i=d.createElement("h4"),n=d.createElement("p"),o=d.createElement("img"),a=d.createElement("img"),s=d.createElement("span"),o.style.height="40px",o.style.width="40px",o.style.borderRadius="100%",o.style.margin="10px",a.src="https://cdn.smartly.ai/assets/img/black-circle-close-button.png",a.style.height="15px",a.style.width="15px",a.style.borderRadius="100%",a.style.margin="10px",a.style.opacity="0.7",a.style.cursor="pointer",c||(a.style.visibility="hidden",e.addEventListener("mouseover",function(){a.style.visibility="visible"}),e.addEventListener("mouseout",function(){a.style.visibility="hidden"})),s.style.borderBottomLeftRadius="10px",s.style.borderBottomRightRadius="10px",s.style.width="100%",s.style.display="block",s.style.borderTop="1px solid lightgray",s.style.padding="9px",s.style.background="#f5f5f5",s.style.color=r,s.style.textAlign="center",s.style.cursor=" pointer",s.style.fontWeight="bold",s.innerText=t.popup_button_text,i.style.display="block",i.style.textAlign="left",i.innerText=l,i.style.width="100%",i.style.margin="0",i.style.marginTop="5px",i.style.fontWeight="bold",i.style.color="black",n.style.display="block",n.style.textAlign="left",n.style.color="gray",n.innerText=t.popup_discription,n.style.margin="0",n.style.marginTop="15px",n.style.width="100%",e.style.right="8%",e.style.border="1px solid lightgray",e.style.position="fixed",e.style.bottom="10%",e.style.minHeight="100px",e.style.width="300px",e.style.display="flex",e.style.borderRadius="10px",e.style.zIndex="2147483647",e.style.flexWrap="wrap",e.setAttribute("id","smartly_popup"),e.style.justifyContent="space-between",(l=d.createElement("div")).style.margin="4px",l.style.width="calc(100% - 110px)",e.style.fontFamily=" 'Open Sans', sans-serif",e.style.background="#f5f5f5",e.appendChild(a),l.appendChild(i),l.appendChild(n),e.appendChild(l),e.appendChild(o),e.appendChild(s),document.body.appendChild(e),(d=document.createElement("style")).appendChild(document.createTextNode("                    @font-face {                        font-family: 'Open Sans';                        font-style: normal;                        font-weight: 400;                        src: local('Open Sans Regular'), local('OpenSans-Regular'), url(https://cdn.smartly.ai/assets/fonts/mem8YaGs126MiZpBA-UFUZ0bf8pkAp6a.woff2) format('woff2');                        unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;                    }                    ")),document.head.appendChild(d),0<t.box_icon_bot.length?o.src=t.box_icon_bot:o.src="https://cdn.smartly.ai/assets/img/webchat_default_avatar_small.png",s.addEventListener("mouseover",function(){s.style.background=r,s.style.color="white",s.style.borderBottomLeftRadius="10px",s.style.borderBottomRightRadius="10px"}),s.addEventListener("mouseout",function(){s.style.background="#f5f5f5",s.style.color=r}),s.addEventListener("click",function(){var t=document.getElementById("smartly_webchat_iframe");null!=t&&null!=(t=t.contentWindow)&&null!==(t=t.document.getElementById("smartly-show-chat"))&&t.click()}),a.addEventListener("mouseover",function(){a.style.opacity="0.5"}),a.addEventListener("mouseout",function(){a.style.opacity="0.7"}),a.addEventListener("click",function(){document.body.removeChild(e)}))}})},o.addEventListener("load",function(){var t,e;SmartlyWebchat=new webchatRemoteControl,isMobileAndTablet=mobileAndTabletCheck(),"undefined"==typeof jQuery?((t=document.createElement("script")).src="https://cdn.smartly.ai/assets/js/jquery-3.6.3.min.js",t.onload=function(){(a=jQuery.noConflict())(function(t){s(isMobileAndTablet)})},i.appendChild(t)):(a="undefined"!=typeof $?$=jQuery.noConflict():jQuery.noConflict())(function(t){s(isMobileAndTablet)});(t=document.createElement("script")).src="https://cdn.smartly.ai/smartchat.min.js",void 0!==window.SMARTLY_USER_ID&&o.appendChild(document.createTextNode("var SMARTLY_USER_ID = '"+window.SMARTLY_USER_ID+"';")),(e=void 0!==window.SMARTLY_USER_DATA?window.SMARTLY_USER_DATA:{}).on_mobile=isMobileAndTablet,e.webchat_main_bot_id=SMARTLY_APP_ID,o.appendChild(document.createTextNode("var SMARTLY_LANG = '"+window.SMARTLY_LANG+"';")),o.appendChild(document.createTextNode("var SMARTLY_APP_ID = '"+window.SMARTLY_APP_ID+"';")),o.appendChild(document.createTextNode("var SMARTLY_CODE_NAME = '"+window.SMARTLY_CODE_NAME+"';")),o.appendChild(document.createTextNode("var SMARTLY_USER_DATA = "+JSON.stringify(e)+";")),o.appendChild(t)}()),l=window.setInterval(function(){"complete"==(n=!(n=p.contentDocument)&&p.contentWindow?p.contentWindow.document:n).readyState&&(window.clearInterval(l),n.body.appendChild(o),n.getElementsByTagName("html")[0].style.overflow="hidden")},100),r=document.createElement("div"),(d=document.createElement("span")).classList.add("close"),d.innerHTML='<img src="https://cdn.smartly.ai/assets/img/whitecloseicon.png" alt="x" width="30" height="30"/>',d.style.position="absolute",d.style.top="10px",d.style.right="20px",d.style.cursor="pointer",d.style.opacity=1,r.style.overflow="auto",r.style.top="0",r.style.left="0",r.style.height="100%",r.style.width="100%",r.style.display="none",r.style.position="fixed",r.style.zIndex="99999999999999999999999999",r.style.backgroundColor="rgba(16, 16, 16, 0.7)",r.setAttribute("id","smartly-chat-modal"),r.setAttribute("tabindex","-1"),r.appendChild(d),document.body.appendChild(r),r.addEventListener("keydown",function(t){"Escape"===t.key&&(d.click(),SmartlyWebchat.iFrame.focus())}),d.addEventListener("click",function(){r.style.display="none";for(var t=r.childNodes,e=0;e<t.length;e++)"IMG"==t[e].nodeName&&t[e].parentNode.removeChild(t[e])}))};window.addEventListener("load",initWebchatIframe);