(function(n){"use strict";var e=function(n){return(n||"ui-id")+"-"+Math.floor(Math.random()*1e3+1)},k=function(t,i,r){var u=(t.attr(i)||"").split(/\s+/),f=n.inArray(r,u);f!==-1&&u.splice(f,1);u=n.trim(u.join(" "));u?t.attr(i,u):t.removeAttr(i)},o=function(t,i){var r,u,f,e=t.nodeName.toLowerCase();return"area"===e?(r=t.parentNode,u=r.name,!t.href||!u||r.nodeName.toLowerCase()!=="map")?!1:(f=n("img[usemap='#"+u+"']")[0],!!f&&s(f)):(/input|select|textarea|button|object/.test(e)?!t.disabled:"a"===e?t.href||i:i)&&s(t)},s=function(t){return n.expr.filters.visible(t)&&!n(t).parents().addBack().filter(function(){return n.css(this,"visibility")==="hidden"}).length},h,c,a,v,f;n.extend(n.expr[":"],{data:n.expr.createPseudo?n.expr.createPseudo(function(t){return function(i){return!!n.data(i,t)}}):function(t,i,r){return!!n.data(t,r[3])},focusable:function(t){return o(t,!isNaN(n.attr(t,"tabindex")))},tabbable:function(t){var i=n.attr(t,"tabindex"),r=isNaN(i);return(r||i>=0)&&o(t,!r)}});n(".modal-dialog").attr({role:"document"});h=n.fn.modal.Constructor.prototype.hide;n.fn.modal.Constructor.prototype.hide=function(){var t=this.$element.parent().find('[data-target="#'+this.$element.attr("id")+'"]');h.apply(this,arguments);t.focus();n(document).off("keydown.bs.modal")};c=n.fn.modal.Constructor.prototype.enforceFocus;n.fn.modal.Constructor.prototype.enforceFocus=function(){var t=this.$element.find(":tabbable"),i=t[t.length-1];n(document).on("keydown.bs.modal",n.proxy(function(n){!this.$element.has(n.target).length&&n.shiftKey&&n.keyCode===9&&(i.focus(),n.preventDefault())},this));c.apply(this,arguments)};var t="[data-toggle=dropdown]",i,l,y=200,p=n(t).parent().find("ul").attr("role","menu"),w=p.find("li").attr("role","presentation");w.find("a").attr({role:"menuitem",tabIndex:"-1"});n("a.noTabindexAttr").removeAttr("tabindex");n(t).attr({"aria-haspopup":"true","aria-expanded":"false"});n(t).parent().on("shown.bs.dropdown",function(){i=n(this);var r=i.find(t);r.attr("aria-expanded","true");r.on("keydown.bs.modal",n.proxy(function(){setTimeout(function(){l=n(".dropdown-menu [role=menuitem]:visible",i)[0];try{l.focus()}catch(t){}},y)},this))});n(t).parent().on("hidden.bs.dropdown",function(){i=n(this);var r=i.find(t);r.attr("aria-expanded","false")});n(document).on("focusout.dropdown.data-api",".dropdown-menu",function(){var t=n(this),i=this;setTimeout(function(){n.contains(i,document.activeElement)||(t.parent().removeClass("open"),t.parent().find("[data-toggle=dropdown]").attr("aria-expanded","false"))},150)});var r=n(".nav-tabs, .nav-pills"),b=r.children("li"),u=r.find('[data-toggle="tab"], [data-toggle="pill"]');u&&(r.attr("role","tablist"),b.attr("role","presentation"),u.attr("role","tab"));u.each(function(){var r=n(n(this).attr("href")),t=n(this),i=t.attr("id")||e("ui-tab");t.attr("id",i);t.parent().hasClass("active")?(t.attr({tabIndex:"0","aria-selected":"true","aria-controls":t.attr("href").substr(1)}),r.attr({role:"tabpanel",tabIndex:"0","aria-hidden":"false","aria-labelledby":i})):(t.attr({tabIndex:"-1","aria-selected":"false","aria-controls":t.attr("href").substr(1)}),r.attr({role:"tabpanel",tabIndex:"-1","aria-hidden":"true","aria-labelledby":i}))});n.fn.tab.Constructor.prototype.keydown=function(t){var e=n(this),r,o=e.closest("ul[role=tablist] "),i,u=t.which||t.keyCode,f;(e=n(this),/(37|38|39|40)/.test(u))&&(r=o.find("[role=tab]:visible"),i=r.index(r.filter(":focus")),(u==38||u==37)&&i--,(u==39||u==40)&&i++,i<0&&(i=r.length-1),i==r.length&&(i=0),f=r.eq(i),f.attr("role")==="tab"&&f.tab("show").focus(),t.preventDefault(),t.stopPropagation())};n(document).on("keydown.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',n.fn.tab.Constructor.prototype.keydown);a=n.fn.tab.Constructor.prototype.activate;n.fn.tab.Constructor.prototype.activate=function(n,t){var i=t.find("> .active");i.find("[data-toggle=tab], [data-toggle=pill]").attr({tabIndex:"-1","aria-selected":!1});i.filter(".tab-pane").attr({"aria-hidden":!0,tabIndex:"-1"});a.apply(this,arguments);n.addClass("active");n.find("[data-toggle=tab], [data-toggle=pill]").attr({tabIndex:"0","aria-selected":!0});n.filter(".tab-pane").attr({"aria-hidden":!1,tabIndex:"0"})};v=n('[data-toggle="collapse"]');v.each(function(){var t=n(this),i=t.attr("data-target")?n(t.attr("data-target")):n(t.attr("href")),f=t.attr("data-parent"),r=f&&n(f),u=t.attr("id")||e("ui-collapse");t.attr("id",u);r&&(t.attr({role:"tab","aria-selected":"false","aria-expanded":"false"}),n(r).find("div:not(.collapse,.panel-body), h4").attr("role","presentation"),r.attr({role:"tablist","aria-multiselectable":"true"}),i.hasClass("in")?(t.attr({"aria-controls":i.attr("id"),"aria-selected":"true","aria-expanded":"true"}),i.attr({role:"tabpanel","aria-labelledby":u,"aria-hidden":"false"})):(t.attr({"aria-controls":i.attr("id")}),i.attr({role:"tabpanel","aria-labelledby":u,"aria-hidden":"true"})))});f=n.fn.collapse.Constructor.prototype.toggle;n.fn.collapse.Constructor.prototype.toggle=function(){var r=this.$parent&&this.$parent.find('[aria-expanded="true"]'),u;if(r){var e=r.attr("data-target")||(u=r.attr("href"))&&u.replace(/.*(?=#[^\s]+$)/,""),o=n(e),t=this.$element,s=this.$parent,i;if(this.$parent&&(i=this.$parent.find('[data-toggle=collapse][href="#'+this.$element.attr("id")+'"]')),f.apply(this,arguments),n.support.transition)this.$element.one(n.support.transition.end,function(){r.attr({"aria-selected":"false","aria-expanded":"false",tabIndex:"-1"});o.attr({"aria-hidden":"true",tabIndex:"-1"});i.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:"0"});t.hasClass("in")?t.attr({"aria-hidden":"false",tabIndex:"0"}):(i.attr({"aria-selected":"false","aria-expanded":"false"}),t.attr({"aria-hidden":"true",tabIndex:"-1"}));n("a.noTabindexAttr").removeAttr("tabindex")})}else if(f.apply(this,arguments),t=this.$element,i=t.parent().find("[data-toggle=collapse]"),n.support.transition)this.$element.one(n.support.transition.end,function(){t.hasClass("in")?(i.attr({"aria-expanded":"true"}),t.attr({"aria-hidden":"false"})):(i.attr({"aria-expanded":"false"}),t.attr({"aria-hidden":"true"}))})};n.fn.collapse.Constructor.prototype.keydown=function(t){var f=n(this),r,e=f.closest("div[role=tablist] "),i,u=t.which||t.keyCode;(f=n(this),/(32|37|38|39|40)/.test(u))&&(u==32&&f.click(),r=e.find("[role=tab]"),i=r.index(r.filter(":focus")),(u==38||u==37)&&i--,(u==39||u==40)&&i++,i<0&&(i=r.length-1),i==r.length&&(i=0),r.eq(i).focus(),t.preventDefault(),t.stopPropagation())};n(document).on("keydown.collapse.data-api",'[data-toggle="collapse"]',n.fn.collapse.Constructor.prototype.keydown)})(jQuery);